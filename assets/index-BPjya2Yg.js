var Mb=Object.defineProperty;var Pg=t=>{throw TypeError(t)};var Ub=(t,e,n)=>e in t?Mb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e,n)=>Ub(t,typeof e!="symbol"?e+"":e,n),Bf=(t,e,n)=>e.has(t)||Pg("Cannot "+n);var p=(t,e,n)=>(Bf(t,e,"read from private field"),n?n.call(t):e.get(t)),O=(t,e,n)=>e.has(t)?Pg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),b=(t,e,n,r)=>(Bf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),$=(t,e,n)=>(Bf(t,e,"access private method"),n);var Sl=(t,e,n,r)=>({set _(i){b(t,e,i,n)},get _(){return p(t,e,r)}});function Db(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dw={exports:{}},Xd={},fw={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=Symbol.for("react.element"),zb=Symbol.for("react.portal"),Hb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),$b=Symbol.for("react.provider"),Vb=Symbol.for("react.context"),Qb=Symbol.for("react.forward_ref"),Kb=Symbol.for("react.suspense"),Jb=Symbol.for("react.memo"),Yb=Symbol.for("react.lazy"),Rg=Symbol.iterator;function Zb(t){return t===null||typeof t!="object"?null:(t=Rg&&t[Rg]||t["@@iterator"],typeof t=="function"?t:null)}var pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hw=Object.assign,mw={};function xl(t,e,n){this.props=t,this.context=e,this.refs=mw,this.updater=n||pw}xl.prototype.isReactComponent={};xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gw(){}gw.prototype=xl.prototype;function um(t,e,n){this.props=t,this.context=e,this.refs=mw,this.updater=n||pw}var dm=um.prototype=new gw;dm.constructor=um;hw(dm,xl.prototype);dm.isPureReactComponent=!0;var jg=Array.isArray,yw=Object.prototype.hasOwnProperty,fm={current:null},ww={key:!0,ref:!0,__self:!0,__source:!0};function vw(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)yw.call(e,r)&&!ww.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Vc,type:t,key:s,ref:a,props:i,_owner:fm.current}}function Xb(t,e){return{$$typeof:Vc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vc}function qb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bg=/\/+/g;function Lf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qb(""+t.key):e.toString(36)}function Lu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Vc:case zb:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Lf(a,0):r,jg(i)?(n="",t!=null&&(n=t.replace(Bg,"$&/")+"/"),Lu(i,e,n,"",function(u){return u})):i!=null&&(pm(i)&&(i=Xb(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Bg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",jg(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Lf(s,o);a+=Lu(s,e,n,l,i)}else if(l=Zb(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Lf(s,o++),a+=Lu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ou(t,e,n){if(t==null)return t;var r=[],i=0;return Lu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function e2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Ou={transition:null},t2={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Ou,ReactCurrentOwner:fm};function xw(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:ou,forEach:function(t,e,n){ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ou(t,function(){e++}),e},toArray:function(t){return ou(t,function(e){return e})||[]},only:function(t){if(!pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=xl;je.Fragment=Hb;je.Profiler=Gb;je.PureComponent=um;je.StrictMode=Wb;je.Suspense=Kb;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t2;je.act=xw;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hw({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=fm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)yw.call(e,l)&&!ww.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Vc,type:t.type,key:i,ref:s,props:r,_owner:a}};je.createContext=function(t){return t={$$typeof:Vb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$b,_context:t},t.Consumer=t};je.createElement=vw;je.createFactory=function(t){var e=vw.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:Qb,render:t}};je.isValidElement=pm;je.lazy=function(t){return{$$typeof:Yb,_payload:{_status:-1,_result:t},_init:e2}};je.memo=function(t,e){return{$$typeof:Jb,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Ou.transition;Ou.transition={};try{t()}finally{Ou.transition=e}};je.unstable_act=xw;je.useCallback=function(t,e){return hn.current.useCallback(t,e)};je.useContext=function(t){return hn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};je.useEffect=function(t,e){return hn.current.useEffect(t,e)};je.useId=function(){return hn.current.useId()};je.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return hn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};je.useRef=function(t){return hn.current.useRef(t)};je.useState=function(t){return hn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return hn.current.useTransition()};je.version="18.3.1";fw.exports=je;var S=fw.exports;const bw=_b(S),n2=Db({__proto__:null,default:bw},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=S,i2=Symbol.for("react.element"),s2=Symbol.for("react.fragment"),a2=Object.prototype.hasOwnProperty,o2=r2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l2={key:!0,ref:!0,__self:!0,__source:!0};function Aw(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)a2.call(e,r)&&!l2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:i2,type:t,key:s,ref:a,props:i,_owner:o2.current}}Xd.Fragment=s2;Xd.jsx=Aw;Xd.jsxs=Aw;dw.exports=Xd;var c=dw.exports,Tp={},Ew={exports:{}},Un={},Cw={exports:{}},kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,F){var W=T.length;T.push(F);e:for(;0<W;){var M=W-1>>>1,ve=T[M];if(0<i(ve,F))T[M]=F,T[W]=ve,W=M;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var F=T[0],W=T.pop();if(W!==F){T[0]=W;e:for(var M=0,ve=T.length,Te=ve>>>1;M<Te;){var be=2*(M+1)-1,Me=T[be],Ae=be+1,He=T[Ae];if(0>i(Me,W))Ae<ve&&0>i(He,Me)?(T[M]=He,T[Ae]=W,M=Ae):(T[M]=Me,T[be]=W,M=be);else if(Ae<ve&&0>i(He,W))T[M]=He,T[Ae]=W,M=Ae;else break e}}return F}function i(T,F){var W=T.sortIndex-F.sortIndex;return W!==0?W:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,w=!1,x=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=T)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function k(T){if(v=!1,y(T),!x)if(n(l)!==null)x=!0,z(B);else{var F=n(u);F!==null&&ee(k,F.startTime-T)}}function B(T,F){x=!1,v&&(v=!1,g(E),E=-1),w=!0;var W=h;try{for(y(F),f=n(l);f!==null&&(!(f.expirationTime>F)||T&&!Y());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var ve=M(f.expirationTime<=F);F=t.unstable_now(),typeof ve=="function"?f.callback=ve:f===n(l)&&r(l),y(F)}else r(l);f=n(l)}if(f!==null)var Te=!0;else{var be=n(u);be!==null&&ee(k,be.startTime-F),Te=!1}return Te}finally{f=null,h=W,w=!1}}var L=!1,P=null,E=-1,V=5,U=-1;function Y(){return!(t.unstable_now()-U<V)}function we(){if(P!==null){var T=t.unstable_now();U=T;var F=!0;try{F=P(!0,T)}finally{F?H():(L=!1,P=null)}}else L=!1}var H;if(typeof m=="function")H=function(){m(we)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,_=X.port2;X.port1.onmessage=we,H=function(){_.postMessage(null)}}else H=function(){A(we,0)};function z(T){P=T,L||(L=!0,H())}function ee(T,F){E=A(function(){T(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,z(B))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var W=h;h=F;try{return T()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var W=h;h=T;try{return F()}finally{h=W}},t.unstable_scheduleCallback=function(T,F,W){var M=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?M+W:M):W=M,T){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=W+ve,T={id:d++,callback:F,priorityLevel:T,startTime:W,expirationTime:ve,sortIndex:-1},W>M?(T.sortIndex=W,e(u,T),n(l)===null&&T===n(u)&&(v?(g(E),E=-1):v=!0,ee(k,W-M))):(T.sortIndex=ve,e(l,T),x||w||(x=!0,z(B))),T},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(T){var F=h;return function(){var W=h;h=F;try{return T.apply(this,arguments)}finally{h=W}}}})(kw);Cw.exports=kw;var c2=Cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2=S,Mn=c2;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sw=new Set,ic={};function Sa(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(ic[t]=e,t=0;t<e.length;t++)Sw.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Np=Object.prototype.hasOwnProperty,d2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lg={},Og={};function f2(t){return Np.call(Og,t)?!0:Np.call(Lg,t)?!1:d2.test(t)?Og[t]=!0:(Lg[t]=!0,!1)}function p2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h2(t,e,n,r){if(e===null||typeof e>"u"||p2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var hm=/[\-:]([a-z])/g;function mm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hm,mm);Qt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hm,mm);Qt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hm,mm);Qt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gm(t,e,n,r){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h2(e,n,i,r)&&(n=null),r||i===null?f2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=u2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),ym=Symbol.for("react.strict_mode"),Ip=Symbol.for("react.profiler"),Tw=Symbol.for("react.provider"),Nw=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),Pp=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),vm=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),Iw=Symbol.for("react.offscreen"),Fg=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=Fg&&t[Fg]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Of;function Ul(t){if(Of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Of=e&&e[1]||""}return`
`+Of+t}var Ff=!1;function Mf(t,e){if(!t||Ff)return"";Ff=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ff=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ul(t):""}function m2(t){switch(t.tag){case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return t=Mf(t.type,!1),t;case 11:return t=Mf(t.type.render,!1),t;case 1:return t=Mf(t.type,!0),t;default:return""}}function jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ga:return"Fragment";case Wa:return"Portal";case Ip:return"Profiler";case ym:return"StrictMode";case Pp:return"Suspense";case Rp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nw:return(t.displayName||"Context")+".Consumer";case Tw:return(t._context.displayName||"Context")+".Provider";case wm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vm:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case Bi:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}function g2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(e);case 8:return e===ym?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y2(t){var e=Pw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cu(t){t._valueTracker||(t._valueTracker=y2(t))}function Rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bp(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Mg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jw(t,e){e=e.checked,e!=null&&gm(t,"checked",e,!1)}function Lp(t,e){jw(t,e);var n=gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Op(t,e.type,n):e.hasOwnProperty("defaultValue")&&Op(t,e.type,gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ug(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Op(t,e,n){(e!=="number"||id(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dl=Array.isArray;function oo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Dl(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gs(n)}}function Bw(t,e){var n=gs(e.value),r=gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _g(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,Ow=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ql={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w2=["Webkit","ms","Moz","O"];Object.keys(Ql).forEach(function(t){w2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ql[e]=Ql[t]})});function Fw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ql.hasOwnProperty(t)&&Ql[t]?(""+e).trim():e+"px"}function Mw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Fw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var v2=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(t,e){if(e){if(v2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Dp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _p=null;function xm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zp=null,lo=null,co=null;function zg(t){if(t=Jc(t)){if(typeof zp!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=rf(e),zp(t.stateNode,t.type,e))}}function Uw(t){lo?co?co.push(t):co=[t]:lo=t}function Dw(){if(lo){var t=lo,e=co;if(co=lo=null,zg(t),e)for(t=0;t<e.length;t++)zg(e[t])}}function _w(t,e){return t(e)}function zw(){}var Uf=!1;function Hw(t,e,n){if(Uf)return t(e,n);Uf=!0;try{return _w(t,e,n)}finally{Uf=!1,(lo!==null||co!==null)&&(zw(),Dw())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Hp=!1;if(wi)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Hp=!1}function x2(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Kl=!1,sd=null,ad=!1,Wp=null,b2={onError:function(t){Kl=!0,sd=t}};function A2(t,e,n,r,i,s,a,o,l){Kl=!1,sd=null,x2.apply(b2,arguments)}function E2(t,e,n,r,i,s,a,o,l){if(A2.apply(this,arguments),Kl){if(Kl){var u=sd;Kl=!1,sd=null}else throw Error(Q(198));ad||(ad=!0,Wp=u)}}function Ta(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ww(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hg(t){if(Ta(t)!==t)throw Error(Q(188))}function C2(t){var e=t.alternate;if(!e){if(e=Ta(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hg(i),t;if(s===r)return Hg(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function Gw(t){return t=C2(t),t!==null?$w(t):null}function $w(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$w(t);if(e!==null)return e;t=t.sibling}return null}var Vw=Mn.unstable_scheduleCallback,Wg=Mn.unstable_cancelCallback,k2=Mn.unstable_shouldYield,S2=Mn.unstable_requestPaint,At=Mn.unstable_now,T2=Mn.unstable_getCurrentPriorityLevel,bm=Mn.unstable_ImmediatePriority,Qw=Mn.unstable_UserBlockingPriority,od=Mn.unstable_NormalPriority,N2=Mn.unstable_LowPriority,Kw=Mn.unstable_IdlePriority,qd=null,Wr=null;function I2(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(qd,t,void 0,(t.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:j2,P2=Math.log,R2=Math.LN2;function j2(t){return t>>>=0,t===0?32:31-(P2(t)/R2|0)|0}var du=64,fu=4194304;function _l(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ld(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=_l(o):(s&=a,s!==0&&(r=_l(s)))}else a=n&~i,a!==0?r=_l(a):s!==0&&(r=_l(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yr(e),i=1<<n,r|=t[n],e&=~i;return r}function B2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-yr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=B2(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jw(){var t=du;return du<<=1,!(du&4194240)&&(du=64),t}function Df(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yr(e),t[e]=n}function O2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-yr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Am(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function Yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zw,Em,Xw,qw,ev,$p=!1,pu=[],as=null,os=null,ls=null,oc=new Map,lc=new Map,Fi=[],F2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gg(t,e){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(e.pointerId)}}function Il(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jc(e),e!==null&&Em(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M2(t,e,n,r,i){switch(e){case"focusin":return as=Il(as,t,e,n,r,i),!0;case"dragenter":return os=Il(os,t,e,n,r,i),!0;case"mouseover":return ls=Il(ls,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return oc.set(s,Il(oc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lc.set(s,Il(lc.get(s)||null,t,e,n,r,i)),!0}return!1}function tv(t){var e=_s(t.target);if(e!==null){var n=Ta(e);if(n!==null){if(e=n.tag,e===13){if(e=Ww(n),e!==null){t.blockedOn=e,ev(t.priority,function(){Xw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_p=r,n.target.dispatchEvent(r),_p=null}else return e=Jc(n),e!==null&&Em(e),t.blockedOn=n,!1;e.shift()}return!0}function $g(t,e,n){Fu(t)&&n.delete(e)}function U2(){$p=!1,as!==null&&Fu(as)&&(as=null),os!==null&&Fu(os)&&(os=null),ls!==null&&Fu(ls)&&(ls=null),oc.forEach($g),lc.forEach($g)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,$p||($p=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,U2)))}function cc(t){function e(i){return Pl(i,t)}if(0<pu.length){Pl(pu[0],t);for(var n=1;n<pu.length;n++){var r=pu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(as!==null&&Pl(as,t),os!==null&&Pl(os,t),ls!==null&&Pl(ls,t),oc.forEach(e),lc.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)tv(n),n.blockedOn===null&&Fi.shift()}var uo=ki.ReactCurrentBatchConfig,cd=!0;function D2(t,e,n,r){var i=Ke,s=uo.transition;uo.transition=null;try{Ke=1,Cm(t,e,n,r)}finally{Ke=i,uo.transition=s}}function _2(t,e,n,r){var i=Ke,s=uo.transition;uo.transition=null;try{Ke=4,Cm(t,e,n,r)}finally{Ke=i,uo.transition=s}}function Cm(t,e,n,r){if(cd){var i=Vp(t,e,n,r);if(i===null)Jf(t,e,r,ud,n),Gg(t,r);else if(M2(i,t,e,n,r))r.stopPropagation();else if(Gg(t,r),e&4&&-1<F2.indexOf(t)){for(;i!==null;){var s=Jc(i);if(s!==null&&Zw(s),s=Vp(t,e,n,r),s===null&&Jf(t,e,r,ud,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jf(t,e,r,null,n)}}var ud=null;function Vp(t,e,n,r){if(ud=null,t=xm(r),t=_s(t),t!==null)if(e=Ta(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ww(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ud=t,null}function nv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T2()){case bm:return 1;case Qw:return 4;case od:case N2:return 16;case Kw:return 536870912;default:return 16}default:return 16}}var rs=null,km=null,Mu=null;function rv(){if(Mu)return Mu;var t,e=km,n=e.length,r,i="value"in rs?rs.value:rs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Mu=i.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hu(){return!0}function Vg(){return!1}function Dn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hu:Vg,this.isPropagationStopped=Vg,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),e}var bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sm=Dn(bl),Kc=ht({},bl,{view:0,detail:0}),z2=Dn(Kc),_f,zf,Rl,ef=ht({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rl&&(Rl&&t.type==="mousemove"?(_f=t.screenX-Rl.screenX,zf=t.screenY-Rl.screenY):zf=_f=0,Rl=t),_f)},movementY:function(t){return"movementY"in t?t.movementY:zf}}),Qg=Dn(ef),H2=ht({},ef,{dataTransfer:0}),W2=Dn(H2),G2=ht({},Kc,{relatedTarget:0}),Hf=Dn(G2),$2=ht({},bl,{animationName:0,elapsedTime:0,pseudoElement:0}),V2=Dn($2),Q2=ht({},bl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K2=Dn(Q2),J2=ht({},bl,{data:0}),Kg=Dn(J2),Y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X2[t])?!!e[t]:!1}function Tm(){return q2}var eA=ht({},Kc,{key:function(t){if(t.key){var e=Y2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tm,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tA=Dn(eA),nA=ht({},ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jg=Dn(nA),rA=ht({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tm}),iA=Dn(rA),sA=ht({},bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),aA=Dn(sA),oA=ht({},ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lA=Dn(oA),cA=[9,13,27,32],Nm=wi&&"CompositionEvent"in window,Jl=null;wi&&"documentMode"in document&&(Jl=document.documentMode);var uA=wi&&"TextEvent"in window&&!Jl,iv=wi&&(!Nm||Jl&&8<Jl&&11>=Jl),Yg=" ",Zg=!1;function sv(t,e){switch(t){case"keyup":return cA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function av(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function dA(t,e){switch(t){case"compositionend":return av(e);case"keypress":return e.which!==32?null:(Zg=!0,Yg);case"textInput":return t=e.data,t===Yg&&Zg?null:t;default:return null}}function fA(t,e){if($a)return t==="compositionend"||!Nm&&sv(t,e)?(t=rv(),Mu=km=rs=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iv&&e.locale!=="ko"?null:e.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pA[t.type]:e==="textarea"}function ov(t,e,n,r){Uw(r),e=dd(e,"onChange"),0<e.length&&(n=new Sm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yl=null,uc=null;function hA(t){wv(t,0)}function tf(t){var e=Ka(t);if(Rw(e))return t}function mA(t,e){if(t==="change")return e}var lv=!1;if(wi){var Wf;if(wi){var Gf="oninput"in document;if(!Gf){var qg=document.createElement("div");qg.setAttribute("oninput","return;"),Gf=typeof qg.oninput=="function"}Wf=Gf}else Wf=!1;lv=Wf&&(!document.documentMode||9<document.documentMode)}function ey(){Yl&&(Yl.detachEvent("onpropertychange",cv),uc=Yl=null)}function cv(t){if(t.propertyName==="value"&&tf(uc)){var e=[];ov(e,uc,t,xm(t)),Hw(hA,e)}}function gA(t,e,n){t==="focusin"?(ey(),Yl=e,uc=n,Yl.attachEvent("onpropertychange",cv)):t==="focusout"&&ey()}function yA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tf(uc)}function wA(t,e){if(t==="click")return tf(e)}function vA(t,e){if(t==="input"||t==="change")return tf(e)}function xA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:xA;function dc(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Np.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,e){var n=ty(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ty(n)}}function uv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dv(){for(var t=window,e=id();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=id(t.document)}return e}function Im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bA(t){var e=dv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uv(n.ownerDocument.documentElement,n)){if(r!==null&&Im(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ny(n,s);var a=ny(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AA=wi&&"documentMode"in document&&11>=document.documentMode,Va=null,Qp=null,Zl=null,Kp=!1;function ry(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kp||Va==null||Va!==id(r)||(r=Va,"selectionStart"in r&&Im(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zl&&dc(Zl,r)||(Zl=r,r=dd(Qp,"onSelect"),0<r.length&&(e=new Sm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Va)))}function mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qa={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},$f={},fv={};wi&&(fv=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function nf(t){if($f[t])return $f[t];if(!Qa[t])return t;var e=Qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fv)return $f[t]=e[n];return t}var pv=nf("animationend"),hv=nf("animationiteration"),mv=nf("animationstart"),gv=nf("transitionend"),yv=new Map,iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(t,e){yv.set(t,e),Sa(e,[t])}for(var Vf=0;Vf<iy.length;Vf++){var Qf=iy[Vf],EA=Qf.toLowerCase(),CA=Qf[0].toUpperCase()+Qf.slice(1);bs(EA,"on"+CA)}bs(pv,"onAnimationEnd");bs(hv,"onAnimationIteration");bs(mv,"onAnimationStart");bs("dblclick","onDoubleClick");bs("focusin","onFocus");bs("focusout","onBlur");bs(gv,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function sy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E2(r,e,void 0,t),t.currentTarget=null}function wv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;sy(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;sy(i,o,u),s=l}}}if(ad)throw t=Wp,ad=!1,Wp=null,t}function nt(t,e){var n=e[qp];n===void 0&&(n=e[qp]=new Set);var r=t+"__bubble";n.has(r)||(vv(e,t,2,!1),n.add(r))}function Kf(t,e,n){var r=0;e&&(r|=4),vv(n,t,r,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function fc(t){if(!t[gu]){t[gu]=!0,Sw.forEach(function(n){n!=="selectionchange"&&(kA.has(n)||Kf(n,!1,t),Kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gu]||(e[gu]=!0,Kf("selectionchange",!1,e))}}function vv(t,e,n,r){switch(nv(e)){case 1:var i=D2;break;case 4:i=_2;break;default:i=Cm}n=i.bind(null,e,n,t),i=void 0,!Hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=_s(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Hw(function(){var u=s,d=xm(n),f=[];e:{var h=yv.get(t);if(h!==void 0){var w=Sm,x=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":w=tA;break;case"focusin":x="focus",w=Hf;break;case"focusout":x="blur",w=Hf;break;case"beforeblur":case"afterblur":w=Hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=W2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=iA;break;case pv:case hv:case mv:w=V2;break;case gv:w=aA;break;case"scroll":w=z2;break;case"wheel":w=lA;break;case"copy":case"cut":case"paste":w=K2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Jg}var v=(e&4)!==0,A=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,y;m!==null;){y=m;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,g!==null&&(k=ac(m,g),k!=null&&v.push(pc(m,k,y)))),A)break;m=m.return}0<v.length&&(h=new w(h,x,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",h&&n!==_p&&(x=n.relatedTarget||n.fromElement)&&(_s(x)||x[vi]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=u,x=x?_s(x):null,x!==null&&(A=Ta(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=u),w!==x)){if(v=Qg,k="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(v=Jg,k="onPointerLeave",g="onPointerEnter",m="pointer"),A=w==null?h:Ka(w),y=x==null?h:Ka(x),h=new v(k,m+"leave",w,n,d),h.target=A,h.relatedTarget=y,k=null,_s(d)===u&&(v=new v(g,m+"enter",x,n,d),v.target=y,v.relatedTarget=A,k=v),A=k,w&&x)t:{for(v=w,g=x,m=0,y=v;y;y=ja(y))m++;for(y=0,k=g;k;k=ja(k))y++;for(;0<m-y;)v=ja(v),m--;for(;0<y-m;)g=ja(g),y--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=ja(v),g=ja(g)}v=null}else v=null;w!==null&&ay(f,h,w,v,!1),x!==null&&A!==null&&ay(f,A,x,v,!0)}}e:{if(h=u?Ka(u):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var B=mA;else if(Xg(h))if(lv)B=vA;else{B=yA;var L=gA}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(B=wA);if(B&&(B=B(t,u))){ov(f,B,n,d);break e}L&&L(t,h,u),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&Op(h,"number",h.value)}switch(L=u?Ka(u):window,t){case"focusin":(Xg(L)||L.contentEditable==="true")&&(Va=L,Qp=u,Zl=null);break;case"focusout":Zl=Qp=Va=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,ry(f,n,d);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":ry(f,n,d)}var P;if(Nm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $a?sv(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(iv&&n.locale!=="ko"&&($a||E!=="onCompositionStart"?E==="onCompositionEnd"&&$a&&(P=rv()):(rs=d,km="value"in rs?rs.value:rs.textContent,$a=!0)),L=dd(u,E),0<L.length&&(E=new Kg(E,t,null,n,d),f.push({event:E,listeners:L}),P?E.data=P:(P=av(n),P!==null&&(E.data=P)))),(P=uA?dA(t,n):fA(t,n))&&(u=dd(u,"onBeforeInput"),0<u.length&&(d=new Kg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}wv(f,e)})}function pc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ac(t,n),s!=null&&r.unshift(pc(t,s,i)),s=ac(t,e),s!=null&&r.push(pc(t,s,i))),t=t.return}return r}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ay(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=ac(n,s),l!=null&&a.unshift(pc(n,l,o))):i||(l=ac(n,s),l!=null&&a.push(pc(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var SA=/\r\n?/g,TA=/\u0000|\uFFFD/g;function oy(t){return(typeof t=="string"?t:""+t).replace(SA,`
`).replace(TA,"")}function yu(t,e,n){if(e=oy(e),oy(t)!==e&&n)throw Error(Q(425))}function fd(){}var Jp=null,Yp=null;function Zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(PA)}:Xp;function PA(t){setTimeout(function(){throw t})}function Yf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cc(e)}function cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Al=Math.random().toString(36).slice(2),Mr="__reactFiber$"+Al,hc="__reactProps$"+Al,vi="__reactContainer$"+Al,qp="__reactEvents$"+Al,RA="__reactListeners$"+Al,jA="__reactHandles$"+Al;function _s(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vi]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cy(t);t!==null;){if(n=t[Mr])return n;t=cy(t)}return e}t=n,n=t.parentNode}return null}function Jc(t){return t=t[Mr]||t[vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function rf(t){return t[hc]||null}var eh=[],Ja=-1;function As(t){return{current:t}}function rt(t){0>Ja||(t.current=eh[Ja],eh[Ja]=null,Ja--)}function et(t,e){Ja++,eh[Ja]=t.current,t.current=e}var ys={},nn=As(ys),En=As(!1),ga=ys;function al(t,e){var n=t.type.contextTypes;if(!n)return ys;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function pd(){rt(En),rt(nn)}function uy(t,e,n){if(nn.current!==ys)throw Error(Q(168));et(nn,e),et(En,n)}function xv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,g2(t)||"Unknown",i));return ht({},n,r)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ys,ga=nn.current,et(nn,t),et(En,En.current),!0}function dy(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=xv(t,e,ga),r.__reactInternalMemoizedMergedChildContext=t,rt(En),rt(nn),et(nn,t)):rt(En),et(En,n)}var Zr=null,sf=!1,Zf=!1;function bv(t){Zr===null?Zr=[t]:Zr.push(t)}function BA(t){sf=!0,bv(t)}function Es(){if(!Zf&&Zr!==null){Zf=!0;var t=0,e=Ke;try{var n=Zr;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,sf=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),Vw(bm,Es),i}finally{Ke=e,Zf=!1}}return null}var Ya=[],Za=0,md=null,gd=0,Jn=[],Yn=0,ya=null,di=1,fi="";function Rs(t,e){Ya[Za++]=gd,Ya[Za++]=md,md=t,gd=e}function Av(t,e,n){Jn[Yn++]=di,Jn[Yn++]=fi,Jn[Yn++]=ya,ya=t;var r=di;t=fi;var i=32-yr(r)-1;r&=~(1<<i),n+=1;var s=32-yr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,di=1<<32-yr(e)+i|n<<i|r,fi=s+t}else di=1<<s|n<<i|r,fi=t}function Pm(t){t.return!==null&&(Rs(t,1),Av(t,1,0))}function Rm(t){for(;t===md;)md=Ya[--Za],Ya[Za]=null,gd=Ya[--Za],Ya[Za]=null;for(;t===ya;)ya=Jn[--Yn],Jn[Yn]=null,fi=Jn[--Yn],Jn[Yn]=null,di=Jn[--Yn],Jn[Yn]=null}var Fn=null,On=null,lt=!1,hr=null;function Ev(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,On=cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ya!==null?{id:di,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,On=null,!0):!1;default:return!1}}function th(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nh(t){if(lt){var e=On;if(e){var n=e;if(!fy(t,e)){if(th(t))throw Error(Q(418));e=cs(n.nextSibling);var r=Fn;e&&fy(t,e)?Ev(r,n):(t.flags=t.flags&-4097|2,lt=!1,Fn=t)}}else{if(th(t))throw Error(Q(418));t.flags=t.flags&-4097|2,lt=!1,Fn=t}}}function py(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function wu(t){if(t!==Fn)return!1;if(!lt)return py(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zp(t.type,t.memoizedProps)),e&&(e=On)){if(th(t))throw Cv(),Error(Q(418));for(;e;)Ev(t,e),e=cs(e.nextSibling)}if(py(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Fn?cs(t.stateNode.nextSibling):null;return!0}function Cv(){for(var t=On;t;)t=cs(t.nextSibling)}function ol(){On=Fn=null,lt=!1}function jm(t){hr===null?hr=[t]:hr.push(t)}var LA=ki.ReactCurrentBatchConfig;function jl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hy(t){var e=t._init;return e(t._payload)}function kv(t){function e(g,m){if(t){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=ps(g,m),g.index=0,g.sibling=null,g}function s(g,m,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,m,y,k){return m===null||m.tag!==6?(m=ip(y,g.mode,k),m.return=g,m):(m=i(m,y),m.return=g,m)}function l(g,m,y,k){var B=y.type;return B===Ga?d(g,m,y.props.children,k,y.key):m!==null&&(m.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Bi&&hy(B)===m.type)?(k=i(m,y.props),k.ref=jl(g,m,y),k.return=g,k):(k=$u(y.type,y.key,y.props,null,g.mode,k),k.ref=jl(g,m,y),k.return=g,k)}function u(g,m,y,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=sp(y,g.mode,k),m.return=g,m):(m=i(m,y.children||[]),m.return=g,m)}function d(g,m,y,k,B){return m===null||m.tag!==7?(m=pa(y,g.mode,k,B),m.return=g,m):(m=i(m,y),m.return=g,m)}function f(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ip(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case lu:return y=$u(m.type,m.key,m.props,null,g.mode,y),y.ref=jl(g,null,m),y.return=g,y;case Wa:return m=sp(m,g.mode,y),m.return=g,m;case Bi:var k=m._init;return f(g,k(m._payload),y)}if(Dl(m)||Tl(m))return m=pa(m,g.mode,y,null),m.return=g,m;vu(g,m)}return null}function h(g,m,y,k){var B=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return B!==null?null:o(g,m,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lu:return y.key===B?l(g,m,y,k):null;case Wa:return y.key===B?u(g,m,y,k):null;case Bi:return B=y._init,h(g,m,B(y._payload),k)}if(Dl(y)||Tl(y))return B!==null?null:d(g,m,y,k,null);vu(g,y)}return null}function w(g,m,y,k,B){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(y)||null,o(m,g,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case lu:return g=g.get(k.key===null?y:k.key)||null,l(m,g,k,B);case Wa:return g=g.get(k.key===null?y:k.key)||null,u(m,g,k,B);case Bi:var L=k._init;return w(g,m,y,L(k._payload),B)}if(Dl(k)||Tl(k))return g=g.get(y)||null,d(m,g,k,B,null);vu(m,k)}return null}function x(g,m,y,k){for(var B=null,L=null,P=m,E=m=0,V=null;P!==null&&E<y.length;E++){P.index>E?(V=P,P=null):V=P.sibling;var U=h(g,P,y[E],k);if(U===null){P===null&&(P=V);break}t&&P&&U.alternate===null&&e(g,P),m=s(U,m,E),L===null?B=U:L.sibling=U,L=U,P=V}if(E===y.length)return n(g,P),lt&&Rs(g,E),B;if(P===null){for(;E<y.length;E++)P=f(g,y[E],k),P!==null&&(m=s(P,m,E),L===null?B=P:L.sibling=P,L=P);return lt&&Rs(g,E),B}for(P=r(g,P);E<y.length;E++)V=w(P,g,E,y[E],k),V!==null&&(t&&V.alternate!==null&&P.delete(V.key===null?E:V.key),m=s(V,m,E),L===null?B=V:L.sibling=V,L=V);return t&&P.forEach(function(Y){return e(g,Y)}),lt&&Rs(g,E),B}function v(g,m,y,k){var B=Tl(y);if(typeof B!="function")throw Error(Q(150));if(y=B.call(y),y==null)throw Error(Q(151));for(var L=B=null,P=m,E=m=0,V=null,U=y.next();P!==null&&!U.done;E++,U=y.next()){P.index>E?(V=P,P=null):V=P.sibling;var Y=h(g,P,U.value,k);if(Y===null){P===null&&(P=V);break}t&&P&&Y.alternate===null&&e(g,P),m=s(Y,m,E),L===null?B=Y:L.sibling=Y,L=Y,P=V}if(U.done)return n(g,P),lt&&Rs(g,E),B;if(P===null){for(;!U.done;E++,U=y.next())U=f(g,U.value,k),U!==null&&(m=s(U,m,E),L===null?B=U:L.sibling=U,L=U);return lt&&Rs(g,E),B}for(P=r(g,P);!U.done;E++,U=y.next())U=w(P,g,E,U.value,k),U!==null&&(t&&U.alternate!==null&&P.delete(U.key===null?E:U.key),m=s(U,m,E),L===null?B=U:L.sibling=U,L=U);return t&&P.forEach(function(we){return e(g,we)}),lt&&Rs(g,E),B}function A(g,m,y,k){if(typeof y=="object"&&y!==null&&y.type===Ga&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case lu:e:{for(var B=y.key,L=m;L!==null;){if(L.key===B){if(B=y.type,B===Ga){if(L.tag===7){n(g,L.sibling),m=i(L,y.props.children),m.return=g,g=m;break e}}else if(L.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Bi&&hy(B)===L.type){n(g,L.sibling),m=i(L,y.props),m.ref=jl(g,L,y),m.return=g,g=m;break e}n(g,L);break}else e(g,L);L=L.sibling}y.type===Ga?(m=pa(y.props.children,g.mode,k,y.key),m.return=g,g=m):(k=$u(y.type,y.key,y.props,null,g.mode,k),k.ref=jl(g,m,y),k.return=g,g=k)}return a(g);case Wa:e:{for(L=y.key;m!==null;){if(m.key===L)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(g,m.sibling),m=i(m,y.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=sp(y,g.mode,k),m.return=g,g=m}return a(g);case Bi:return L=y._init,A(g,m,L(y._payload),k)}if(Dl(y))return x(g,m,y,k);if(Tl(y))return v(g,m,y,k);vu(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,y),m.return=g,g=m):(n(g,m),m=ip(y,g.mode,k),m.return=g,g=m),a(g)):n(g,m)}return A}var ll=kv(!0),Sv=kv(!1),yd=As(null),wd=null,Xa=null,Bm=null;function Lm(){Bm=Xa=wd=null}function Om(t){var e=yd.current;rt(yd),t._currentValue=e}function rh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){wd=t,Bm=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function er(t){var e=t._currentValue;if(Bm!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(wd===null)throw Error(Q(308));Xa=t,wd.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var zs=null;function Fm(t){zs===null?zs=[t]:zs.push(t)}function Tv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fm(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Li=!1;function Mm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,Fm(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function Du(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Am(t,n)}}function my(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vd(t,e,n,r){var i=t.updateQueue;Li=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var h=o.lane,w=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=t,v=o;switch(h=e,w=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(w,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(w,f,h):x,h==null)break e;f=ht({},f,h);break e;case 2:Li=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else w={eventTime:w,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=w,l=f):d=d.next=w,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);va|=a,t.lanes=a,t.memoizedState=f}}function gy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Yc={},Gr=As(Yc),mc=As(Yc),gc=As(Yc);function Hs(t){if(t===Yc)throw Error(Q(174));return t}function Um(t,e){switch(et(gc,e),et(mc,t),et(Gr,Yc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Mp(e,t)}rt(Gr),et(Gr,e)}function cl(){rt(Gr),rt(mc),rt(gc)}function Iv(t){Hs(gc.current);var e=Hs(Gr.current),n=Mp(e,t.type);e!==n&&(et(mc,t),et(Gr,n))}function Dm(t){mc.current===t&&(rt(Gr),rt(mc))}var ut=As(0);function xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xf=[];function _m(){for(var t=0;t<Xf.length;t++)Xf[t]._workInProgressVersionPrimary=null;Xf.length=0}var _u=ki.ReactCurrentDispatcher,qf=ki.ReactCurrentBatchConfig,wa=0,pt=null,Pt=null,Ot=null,bd=!1,Xl=!1,yc=0,OA=0;function Jt(){throw Error(Q(321))}function zm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function Hm(t,e,n,r,i,s){if(wa=s,pt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_u.current=t===null||t.memoizedState===null?DA:_A,t=n(r,i),Xl){s=0;do{if(Xl=!1,yc=0,25<=s)throw Error(Q(301));s+=1,Ot=Pt=null,e.updateQueue=null,_u.current=zA,t=n(r,i)}while(Xl)}if(_u.current=Ad,e=Pt!==null&&Pt.next!==null,wa=0,Ot=Pt=pt=null,bd=!1,e)throw Error(Q(300));return t}function Wm(){var t=yc!==0;return yc=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?pt.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function tr(){if(Pt===null){var t=pt.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Ot===null?pt.memoizedState:Ot.next;if(e!==null)Ot=e,Pt=t;else{if(t===null)throw Error(Q(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?pt.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function wc(t,e){return typeof e=="function"?e(t):e}function ep(t){var e=tr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Pt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((wa&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,pt.lanes|=d,va|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,xr(r,e.memoizedState)||(An=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pt.lanes|=s,va|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tp(t){var e=tr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);xr(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Pv(){}function Rv(t,e){var n=pt,r=tr(),i=e(),s=!xr(r.memoizedState,i);if(s&&(r.memoizedState=i,An=!0),r=r.queue,Gm(Lv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,vc(9,Bv.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(Q(349));wa&30||jv(n,e,i)}return i}function jv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bv(t,e,n,r){e.value=n,e.getSnapshot=r,Ov(e)&&Fv(t)}function Lv(t,e,n){return n(function(){Ov(e)&&Fv(t)})}function Ov(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function Fv(t){var e=xi(t,1);e!==null&&wr(e,t,1,-1)}function yy(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=UA.bind(null,pt,t),[e.memoizedState,t]}function vc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pt.updateQueue,e===null?(e={lastEffect:null,stores:null},pt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mv(){return tr().memoizedState}function zu(t,e,n,r){var i=Sr();pt.flags|=t,i.memoizedState=vc(1|e,n,void 0,r===void 0?null:r)}function af(t,e,n,r){var i=tr();r=r===void 0?null:r;var s=void 0;if(Pt!==null){var a=Pt.memoizedState;if(s=a.destroy,r!==null&&zm(r,a.deps)){i.memoizedState=vc(e,n,s,r);return}}pt.flags|=t,i.memoizedState=vc(1|e,n,s,r)}function wy(t,e){return zu(8390656,8,t,e)}function Gm(t,e){return af(2048,8,t,e)}function Uv(t,e){return af(4,2,t,e)}function Dv(t,e){return af(4,4,t,e)}function _v(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zv(t,e,n){return n=n!=null?n.concat([t]):null,af(4,4,_v.bind(null,e,t),n)}function $m(){}function Hv(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wv(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Gv(t,e,n){return wa&21?(xr(n,e)||(n=Jw(),pt.lanes|=n,va|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=n)}function FA(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=qf.transition;qf.transition={};try{t(!1),e()}finally{Ke=n,qf.transition=r}}function $v(){return tr().memoizedState}function MA(t,e,n){var r=fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vv(t))Qv(e,n);else if(n=Tv(t,e,n,r),n!==null){var i=pn();wr(n,t,r,i),Kv(n,e,r)}}function UA(t,e,n){var r=fs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vv(t))Qv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,xr(o,a)){var l=e.interleaved;l===null?(i.next=i,Fm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Tv(t,e,i,r),n!==null&&(i=pn(),wr(n,t,r,i),Kv(n,e,r))}}function Vv(t){var e=t.alternate;return t===pt||e!==null&&e===pt}function Qv(t,e){Xl=bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Am(t,n)}}var Ad={readContext:er,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},DA={readContext:er,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:wy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zu(4194308,4,_v.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zu(4194308,4,t,e)},useInsertionEffect:function(t,e){return zu(4,2,t,e)},useMemo:function(t,e){var n=Sr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Sr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MA.bind(null,pt,t),[r.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:yy,useDebugValue:$m,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=yy(!1),e=t[0];return t=FA.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pt,i=Sr();if(lt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Ut===null)throw Error(Q(349));wa&30||jv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,wy(Lv.bind(null,r,s,t),[t]),r.flags|=2048,vc(9,Bv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Sr(),e=Ut.identifierPrefix;if(lt){var n=fi,r=di;n=(r&~(1<<32-yr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_A={readContext:er,useCallback:Hv,useContext:er,useEffect:Gm,useImperativeHandle:zv,useInsertionEffect:Uv,useLayoutEffect:Dv,useMemo:Wv,useReducer:ep,useRef:Mv,useState:function(){return ep(wc)},useDebugValue:$m,useDeferredValue:function(t){var e=tr();return Gv(e,Pt.memoizedState,t)},useTransition:function(){var t=ep(wc)[0],e=tr().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:Rv,useId:$v,unstable_isNewReconciler:!1},zA={readContext:er,useCallback:Hv,useContext:er,useEffect:Gm,useImperativeHandle:zv,useInsertionEffect:Uv,useLayoutEffect:Dv,useMemo:Wv,useReducer:tp,useRef:Mv,useState:function(){return tp(wc)},useDebugValue:$m,useDeferredValue:function(t){var e=tr();return Pt===null?e.memoizedState=t:Gv(e,Pt.memoizedState,t)},useTransition:function(){var t=tp(wc)[0],e=tr().memoizedState;return[t,e]},useMutableSource:Pv,useSyncExternalStore:Rv,useId:$v,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ih(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var of={isMounted:function(t){return(t=t._reactInternals)?Ta(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=fs(t),s=hi(r,i);s.payload=e,n!=null&&(s.callback=n),e=us(t,s,i),e!==null&&(wr(e,t,i,r),Du(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=fs(t),s=hi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=us(t,s,i),e!==null&&(wr(e,t,i,r),Du(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=fs(t),i=hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=us(t,i,r),e!==null&&(wr(e,t,r,n),Du(e,t,r))}};function vy(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!dc(n,r)||!dc(i,s):!0}function Jv(t,e,n){var r=!1,i=ys,s=e.contextType;return typeof s=="object"&&s!==null?s=er(s):(i=Cn(e)?ga:nn.current,r=e.contextTypes,s=(r=r!=null)?al(t,i):ys),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=of,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&of.enqueueReplaceState(e,e.state,null)}function sh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=er(s):(s=Cn(e)?ga:nn.current,i.context=al(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ih(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&of.enqueueReplaceState(i,i.state,null),vd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ul(t,e){try{var n="",r=e;do n+=m2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function np(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ah(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HA=typeof WeakMap=="function"?WeakMap:Map;function Yv(t,e,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cd||(Cd=!0,gh=r),ah(t,e)},n}function Zv(t,e,n){n=hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ah(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ah(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function by(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new HA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=nE.bind(null,t,e,n),e.then(t,t))}function Ay(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ey(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hi(-1,1),e.tag=2,us(n,e,1))),n.lanes|=1),t)}var WA=ki.ReactCurrentOwner,An=!1;function on(t,e,n,r){e.child=t===null?Sv(e,null,n,r):ll(e,t.child,n,r)}function Cy(t,e,n,r,i){n=n.render;var s=e.ref;return fo(e,i),r=Hm(t,e,n,r,s,i),n=Wm(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(lt&&n&&Pm(e),e.flags|=1,on(t,e,r,i),e.child)}function ky(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Xv(t,e,s,r,i)):(t=$u(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:dc,n(a,r)&&t.ref===e.ref)return bi(t,e,i)}return e.flags|=1,t=ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function Xv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dc(s,r)&&t.ref===e.ref)if(An=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,bi(t,e,i)}return oh(t,e,n,r,i)}function qv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(eo,Ln),Ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(eo,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(eo,Ln),Ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(eo,Ln),Ln|=r;return on(t,e,i,n),e.child}function ex(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oh(t,e,n,r,i){var s=Cn(n)?ga:nn.current;return s=al(e,s),fo(e,i),n=Hm(t,e,n,r,s,i),r=Wm(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bi(t,e,i)):(lt&&r&&Pm(e),e.flags|=1,on(t,e,n,i),e.child)}function Sy(t,e,n,r,i){if(Cn(n)){var s=!0;hd(e)}else s=!1;if(fo(e,i),e.stateNode===null)Hu(t,e),Jv(e,n,r),sh(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=er(u):(u=Cn(n)?ga:nn.current,u=al(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&xy(e,a,r,u),Li=!1;var h=e.memoizedState;a.state=h,vd(e,r,a,i),l=e.memoizedState,o!==r||h!==l||En.current||Li?(typeof d=="function"&&(ih(e,n,d,r),l=e.memoizedState),(o=Li||vy(e,n,o,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Nv(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:sr(e.type,o),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=Cn(n)?ga:nn.current,l=al(e,l));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&xy(e,a,r,l),Li=!1,h=e.memoizedState,a.state=h,vd(e,r,a,i);var x=e.memoizedState;o!==f||h!==x||En.current||Li?(typeof w=="function"&&(ih(e,n,w,r),x=e.memoizedState),(u=Li||vy(e,n,u,r,h,x,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return lh(t,e,n,r,s,i)}function lh(t,e,n,r,i,s){ex(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&dy(e,n,!1),bi(t,e,s);r=e.stateNode,WA.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ll(e,t.child,null,s),e.child=ll(e,null,o,s)):on(t,e,o,s),e.memoizedState=r.state,i&&dy(e,n,!0),e.child}function tx(t){var e=t.stateNode;e.pendingContext?uy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uy(t,e.context,!1),Um(t,e.containerInfo)}function Ty(t,e,n,r,i){return ol(),jm(i),e.flags|=256,on(t,e,n,r),e.child}var ch={dehydrated:null,treeContext:null,retryLane:0};function uh(t){return{baseLanes:t,cachePool:null,transitions:null}}function nx(t,e,n){var r=e.pendingProps,i=ut.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ut,i&1),t===null)return nh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=uf(a,r,0,null),t=pa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uh(n),e.memoizedState=ch,t):Vm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return GA(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ps(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ps(o,s):(s=pa(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?uh(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=ch,r}return s=t.child,t=s.sibling,r=ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vm(t,e){return e=uf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xu(t,e,n,r){return r!==null&&jm(r),ll(e,t.child,null,n),t=Vm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GA(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=np(Error(Q(422))),xu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uf({mode:"visible",children:r.children},i,0,null),s=pa(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ll(e,t.child,null,a),e.child.memoizedState=uh(a),e.memoizedState=ch,s);if(!(e.mode&1))return xu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Q(419)),r=np(s,r,void 0),xu(t,e,a,r)}if(o=(a&t.childLanes)!==0,An||o){if(r=Ut,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(t,i),wr(r,t,i,-1))}return Xm(),r=np(Error(Q(421))),xu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=rE.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,On=cs(i.nextSibling),Fn=e,lt=!0,hr=null,t!==null&&(Jn[Yn++]=di,Jn[Yn++]=fi,Jn[Yn++]=ya,di=t.id,fi=t.overflow,ya=e),e=Vm(e,r.children),e.flags|=4096,e)}function Ny(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rh(t.return,e,n)}function rp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(on(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,n,e);else if(t.tag===19)Ny(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rp(e,!0,n,null,s);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),va|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $A(t,e,n){switch(e.tag){case 3:tx(e),ol();break;case 5:Iv(e);break;case 1:Cn(e.type)&&hd(e);break;case 4:Um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(yd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?nx(t,e,n):(et(ut,ut.current&1),t=bi(t,e,n),t!==null?t.sibling:null);et(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,qv(t,e,n)}return bi(t,e,n)}var ix,dh,sx,ax;ix=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dh=function(){};sx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hs(Gr.current);var s=null;switch(n){case"input":i=Bp(t,i),r=Bp(t,r),s=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),s=[];break;case"textarea":i=Fp(t,i),r=Fp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fd)}Up(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ic.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ax=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bl(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VA(t,e,n){var r=e.pendingProps;switch(Rm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Cn(e.type)&&pd(),Yt(e),null;case 3:return r=e.stateNode,cl(),rt(En),rt(nn),_m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(vh(hr),hr=null))),dh(t,e),Yt(e),null;case 5:Dm(e);var i=Hs(gc.current);if(n=e.type,t!==null&&e.stateNode!=null)sx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Yt(e),null}if(t=Hs(Gr.current),wu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mr]=e,r[hc]=s,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<zl.length;i++)nt(zl[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":Mg(r,s),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},nt("invalid",r);break;case"textarea":Dg(r,s),nt("invalid",r)}Up(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&yu(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&yu(r.textContent,o,t),i=["children",""+o]):ic.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&nt("scroll",r)}switch(n){case"input":cu(r),Ug(r,s,!0);break;case"textarea":cu(r),_g(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Mr]=e,t[hc]=r,ix(t,e,!1,!1),e.stateNode=t;e:{switch(a=Dp(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<zl.length;i++)nt(zl[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":Mg(t,r),i=Bp(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),nt("invalid",t);break;case"textarea":Dg(t,r),i=Fp(t,r),nt("invalid",t);break;default:i=r}Up(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Mw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ow(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sc(t,l):typeof l=="number"&&sc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ic.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",t):l!=null&&gm(t,s,l,a))}switch(n){case"input":cu(t),Ug(t,r,!1);break;case"textarea":cu(t),_g(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?oo(t,!!r.multiple,s,!1):r.defaultValue!=null&&oo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)ax(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Hs(gc.current),Hs(Gr.current),wu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return Yt(e),null;case 13:if(rt(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&On!==null&&e.mode&1&&!(e.flags&128))Cv(),ol(),e.flags|=98560,s=!1;else if(s=wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[Mr]=e}else ol(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else hr!==null&&(vh(hr),hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?jt===0&&(jt=3):Xm())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return cl(),dh(t,e),t===null&&fc(e.stateNode.containerInfo),Yt(e),null;case 10:return Om(e.type._context),Yt(e),null;case 17:return Cn(e.type)&&pd(),Yt(e),null;case 19:if(rt(ut),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Bl(s,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xd(t),a!==null){for(e.flags|=128,Bl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ut,ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>dl&&(e.flags|=128,r=!0,Bl(s,!1),e.lanes=4194304)}else{if(!r)if(t=xd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return Yt(e),null}else 2*At()-s.renderingStartTime>dl&&n!==1073741824&&(e.flags|=128,r=!0,Bl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,n=ut.current,et(ut,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Zm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function QA(t,e){switch(Rm(e),e.tag){case 1:return Cn(e.type)&&pd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),rt(En),rt(nn),_m(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dm(e),null;case 13:if(rt(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));ol()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(ut),null;case 4:return cl(),null;case 10:return Om(e.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var bu=!1,en=!1,KA=typeof WeakSet=="function"?WeakSet:Set,oe=null;function qa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function fh(t,e,n){try{n()}catch(r){yt(t,e,r)}}var Iy=!1;function JA(t,e){if(Jp=cd,t=dv(),Im(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(w=f.firstChild)!==null;)h=f,f=w;for(;;){if(f===t)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(l=a),(w=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=w}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yp={focusedElem:t,selectionRange:n},cd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,A=x.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:sr(e.type,v),A);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){yt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return x=Iy,Iy=!1,x}function ql(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fh(e,n,s)}i=i.next}while(i!==r)}}function lf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ph(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ox(t){var e=t.alternate;e!==null&&(t.alternate=null,ox(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[hc],delete e[qp],delete e[RA],delete e[jA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lx(t){return t.tag===5||t.tag===3||t.tag===4}function Py(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fd));else if(r!==4&&(t=t.child,t!==null))for(hh(t,e,n),t=t.sibling;t!==null;)hh(t,e,n),t=t.sibling}function mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mh(t,e,n),t=t.sibling;t!==null;)mh(t,e,n),t=t.sibling}var Ht=null,pr=!1;function Ti(t,e,n){for(n=n.child;n!==null;)cx(t,e,n),n=n.sibling}function cx(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(qd,n)}catch{}switch(n.tag){case 5:en||qa(n,e);case 6:var r=Ht,i=pr;Ht=null,Ti(t,e,n),Ht=r,pr=i,Ht!==null&&(pr?(t=Ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ht.removeChild(n.stateNode));break;case 18:Ht!==null&&(pr?(t=Ht,n=n.stateNode,t.nodeType===8?Yf(t.parentNode,n):t.nodeType===1&&Yf(t,n),cc(t)):Yf(Ht,n.stateNode));break;case 4:r=Ht,i=pr,Ht=n.stateNode.containerInfo,pr=!0,Ti(t,e,n),Ht=r,pr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&fh(n,e,a),i=i.next}while(i!==r)}Ti(t,e,n);break;case 1:if(!en&&(qa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){yt(n,e,o)}Ti(t,e,n);break;case 21:Ti(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Ti(t,e,n),en=r):Ti(t,e,n);break;default:Ti(t,e,n)}}function Ry(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KA),e.forEach(function(r){var i=iE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ht=o.stateNode,pr=!1;break e;case 3:Ht=o.stateNode.containerInfo,pr=!0;break e;case 4:Ht=o.stateNode.containerInfo,pr=!0;break e}o=o.return}if(Ht===null)throw Error(Q(160));cx(s,a,i),Ht=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ux(e,t),e=e.sibling}function ux(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),Er(t),r&4){try{ql(3,t,t.return),lf(3,t)}catch(v){yt(t,t.return,v)}try{ql(5,t,t.return)}catch(v){yt(t,t.return,v)}}break;case 1:rr(e,t),Er(t),r&512&&n!==null&&qa(n,n.return);break;case 5:if(rr(e,t),Er(t),r&512&&n!==null&&qa(n,n.return),t.flags&32){var i=t.stateNode;try{sc(i,"")}catch(v){yt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&jw(i,s),Dp(o,a);var u=Dp(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Mw(i,f):d==="dangerouslySetInnerHTML"?Ow(i,f):d==="children"?sc(i,f):gm(i,d,f,u)}switch(o){case"input":Lp(i,s);break;case"textarea":Bw(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?oo(i,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?oo(i,!!s.multiple,s.defaultValue,!0):oo(i,!!s.multiple,s.multiple?[]:"",!1))}i[hc]=s}catch(v){yt(t,t.return,v)}}break;case 6:if(rr(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){yt(t,t.return,v)}}break;case 3:if(rr(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cc(e.containerInfo)}catch(v){yt(t,t.return,v)}break;case 4:rr(e,t),Er(t);break;case 13:rr(e,t),Er(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Jm=At())),r&4&&Ry(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||d,rr(e,t),en=u):rr(e,t),Er(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(f=oe=d;oe!==null;){switch(h=oe,w=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:qa(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){yt(r,n,v)}}break;case 5:qa(h,h.return);break;case 22:if(h.memoizedState!==null){By(f);continue}}w!==null?(w.return=h,oe=w):By(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Fw("display",a))}catch(v){yt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){yt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rr(e,t),Er(t),r&4&&Ry(t);break;case 21:break;default:rr(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lx(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sc(i,""),r.flags&=-33);var s=Py(t);mh(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Py(t);hh(t,o,a);break;default:throw Error(Q(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YA(t,e,n){oe=t,dx(t)}function dx(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||bu;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||en;o=bu;var u=en;if(bu=a,(en=l)&&!u)for(oe=i;oe!==null;)a=oe,l=a.child,a.tag===22&&a.memoizedState!==null?Ly(i):l!==null?(l.return=a,oe=l):Ly(i);for(;s!==null;)oe=s,dx(s),s=s.sibling;oe=i,bu=o,en=u}jy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):jy(t)}}function jy(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||lf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&gy(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gy(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&cc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}en||e.flags&512&&ph(e)}catch(h){yt(e,e.return,h)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function By(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Ly(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lf(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var s=e.return;try{ph(e)}catch(l){yt(e,s,l)}break;case 5:var a=e.return;try{ph(e)}catch(l){yt(e,a,l)}}}catch(l){yt(e,e.return,l)}if(e===t){oe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,oe=o;break}oe=e.return}}var ZA=Math.ceil,Ed=ki.ReactCurrentDispatcher,Qm=ki.ReactCurrentOwner,qn=ki.ReactCurrentBatchConfig,Fe=0,Ut=null,kt=null,$t=0,Ln=0,eo=As(0),jt=0,xc=null,va=0,cf=0,Km=0,ec=null,xn=null,Jm=0,dl=1/0,Kr=null,Cd=!1,gh=null,ds=null,Au=!1,is=null,kd=0,tc=0,yh=null,Wu=-1,Gu=0;function pn(){return Fe&6?At():Wu!==-1?Wu:Wu=At()}function fs(t){return t.mode&1?Fe&2&&$t!==0?$t&-$t:LA.transition!==null?(Gu===0&&(Gu=Jw()),Gu):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:nv(t.type)),t):1}function wr(t,e,n,r){if(50<tc)throw tc=0,yh=null,Error(Q(185));Qc(t,n,r),(!(Fe&2)||t!==Ut)&&(t===Ut&&(!(Fe&2)&&(cf|=n),jt===4&&Mi(t,$t)),kn(t,r),n===1&&Fe===0&&!(e.mode&1)&&(dl=At()+500,sf&&Es()))}function kn(t,e){var n=t.callbackNode;L2(t,e);var r=ld(t,t===Ut?$t:0);if(r===0)n!==null&&Wg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wg(n),e===1)t.tag===0?BA(Oy.bind(null,t)):bv(Oy.bind(null,t)),IA(function(){!(Fe&6)&&Es()}),n=null;else{switch(Yw(r)){case 1:n=bm;break;case 4:n=Qw;break;case 16:n=od;break;case 536870912:n=Kw;break;default:n=od}n=vx(n,fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fx(t,e){if(Wu=-1,Gu=0,Fe&6)throw Error(Q(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var r=ld(t,t===Ut?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sd(t,r);else{e=r;var i=Fe;Fe|=2;var s=hx();(Ut!==t||$t!==e)&&(Kr=null,dl=At()+500,fa(t,e));do try{eE();break}catch(o){px(t,o)}while(!0);Lm(),Ed.current=s,Fe=i,kt!==null?e=0:(Ut=null,$t=0,e=jt)}if(e!==0){if(e===2&&(i=Gp(t),i!==0&&(r=i,e=wh(t,i))),e===1)throw n=xc,fa(t,0),Mi(t,r),kn(t,At()),n;if(e===6)Mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!XA(i)&&(e=Sd(t,r),e===2&&(s=Gp(t),s!==0&&(r=s,e=wh(t,s))),e===1))throw n=xc,fa(t,0),Mi(t,r),kn(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:js(t,xn,Kr);break;case 3:if(Mi(t,r),(r&130023424)===r&&(e=Jm+500-At(),10<e)){if(ld(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xp(js.bind(null,t,xn,Kr),e);break}js(t,xn,Kr);break;case 4:if(Mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-yr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZA(r/1960))-r,10<r){t.timeoutHandle=Xp(js.bind(null,t,xn,Kr),r);break}js(t,xn,Kr);break;case 5:js(t,xn,Kr);break;default:throw Error(Q(329))}}}return kn(t,At()),t.callbackNode===n?fx.bind(null,t):null}function wh(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(fa(t,e).flags|=256),t=Sd(t,e),t!==2&&(e=xn,xn=n,e!==null&&vh(e)),t}function vh(t){xn===null?xn=t:xn.push.apply(xn,t)}function XA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e){for(e&=~Km,e&=~cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yr(e),r=1<<n;t[n]=-1,e&=~r}}function Oy(t){if(Fe&6)throw Error(Q(327));po();var e=ld(t,0);if(!(e&1))return kn(t,At()),null;var n=Sd(t,e);if(t.tag!==0&&n===2){var r=Gp(t);r!==0&&(e=r,n=wh(t,r))}if(n===1)throw n=xc,fa(t,0),Mi(t,e),kn(t,At()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,xn,Kr),kn(t,At()),null}function Ym(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(dl=At()+500,sf&&Es())}}function xa(t){is!==null&&is.tag===0&&!(Fe&6)&&po();var e=Fe;Fe|=1;var n=qn.transition,r=Ke;try{if(qn.transition=null,Ke=1,t)return t()}finally{Ke=r,qn.transition=n,Fe=e,!(Fe&6)&&Es()}}function Zm(){Ln=eo.current,rt(eo)}function fa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NA(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Rm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pd();break;case 3:cl(),rt(En),rt(nn),_m();break;case 5:Dm(r);break;case 4:cl();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:Om(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(Ut=t,kt=t=ps(t.current,null),$t=Ln=e,jt=0,xc=null,Km=cf=va=0,xn=ec=null,zs!==null){for(e=0;e<zs.length;e++)if(n=zs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}zs=null}return t}function px(t,e){do{var n=kt;try{if(Lm(),_u.current=Ad,bd){for(var r=pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bd=!1}if(wa=0,Ot=Pt=pt=null,Xl=!1,yc=0,Qm.current=null,n===null||n.return===null){jt=1,xc=e,kt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=$t,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Ay(a);if(w!==null){w.flags&=-257,Ey(w,a,o,s,e),w.mode&1&&by(s,u,e),e=w,l=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){by(s,u,e),Xm();break e}l=Error(Q(426))}}else if(lt&&o.mode&1){var A=Ay(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ey(A,a,o,s,e),jm(ul(l,o));break e}}s=l=ul(l,o),jt!==4&&(jt=2),ec===null?ec=[s]:ec.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Yv(s,l,e);my(s,g);break e;case 1:o=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ds===null||!ds.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Zv(s,o,e);my(s,k);break e}}s=s.return}while(s!==null)}gx(n)}catch(B){e=B,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function hx(){var t=Ed.current;return Ed.current=Ad,t===null?Ad:t}function Xm(){(jt===0||jt===3||jt===2)&&(jt=4),Ut===null||!(va&268435455)&&!(cf&268435455)||Mi(Ut,$t)}function Sd(t,e){var n=Fe;Fe|=2;var r=hx();(Ut!==t||$t!==e)&&(Kr=null,fa(t,e));do try{qA();break}catch(i){px(t,i)}while(!0);if(Lm(),Fe=n,Ed.current=r,kt!==null)throw Error(Q(261));return Ut=null,$t=0,jt}function qA(){for(;kt!==null;)mx(kt)}function eE(){for(;kt!==null&&!k2();)mx(kt)}function mx(t){var e=wx(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?gx(t):kt=e,Qm.current=null}function gx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=QA(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,kt=null;return}}else if(n=VA(n,e,Ln),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);jt===0&&(jt=5)}function js(t,e,n){var r=Ke,i=qn.transition;try{qn.transition=null,Ke=1,tE(t,e,n,r)}finally{qn.transition=i,Ke=r}return null}function tE(t,e,n,r){do po();while(is!==null);if(Fe&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(O2(t,s),t===Ut&&(kt=Ut=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Au||(Au=!0,vx(od,function(){return po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qn.transition,qn.transition=null;var a=Ke;Ke=1;var o=Fe;Fe|=4,Qm.current=null,JA(t,n),ux(n,t),bA(Yp),cd=!!Jp,Yp=Jp=null,t.current=n,YA(n),S2(),Fe=o,Ke=a,qn.transition=s}else t.current=n;if(Au&&(Au=!1,is=t,kd=i),s=t.pendingLanes,s===0&&(ds=null),I2(n.stateNode),kn(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cd)throw Cd=!1,t=gh,gh=null,t;return kd&1&&t.tag!==0&&po(),s=t.pendingLanes,s&1?t===yh?tc++:(tc=0,yh=t):tc=0,Es(),null}function po(){if(is!==null){var t=Yw(kd),e=qn.transition,n=Ke;try{if(qn.transition=null,Ke=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,kd=0,Fe&6)throw Error(Q(331));var i=Fe;for(Fe|=4,oe=t.current;oe!==null;){var s=oe,a=s.child;if(oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(oe=u;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:ql(8,d,s)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var h=d.sibling,w=d.return;if(ox(d),d===u){oe=null;break}if(h!==null){h.return=w,oe=h;break}oe=w}}}var x=s.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var A=v.sibling;v.sibling=null,v=A}while(v!==null)}}oe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,oe=a;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ql(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,oe=g;break e}oe=s.return}}var m=t.current;for(oe=m;oe!==null;){a=oe;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,oe=y;else e:for(a=m;oe!==null;){if(o=oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:lf(9,o)}}catch(B){yt(o,o.return,B)}if(o===a){oe=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,oe=k;break e}oe=o.return}}if(Fe=i,Es(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(qd,t)}catch{}r=!0}return r}finally{Ke=n,qn.transition=e}}return!1}function Fy(t,e,n){e=ul(n,e),e=Yv(t,e,1),t=us(t,e,1),e=pn(),t!==null&&(Qc(t,1,e),kn(t,e))}function yt(t,e,n){if(t.tag===3)Fy(t,t,n);else for(;e!==null;){if(e.tag===3){Fy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=ul(n,t),t=Zv(e,t,1),e=us(e,t,1),t=pn(),e!==null&&(Qc(e,1,t),kn(e,t));break}}e=e.return}}function nE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&($t&n)===n&&(jt===4||jt===3&&($t&130023424)===$t&&500>At()-Jm?fa(t,0):Km|=n),kn(t,e)}function yx(t,e){e===0&&(t.mode&1?(e=fu,fu<<=1,!(fu&130023424)&&(fu=4194304)):e=1);var n=pn();t=xi(t,e),t!==null&&(Qc(t,e,n),kn(t,n))}function rE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yx(t,n)}function iE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),yx(t,n)}var wx;wx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)An=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return An=!1,$A(t,e,n);An=!!(t.flags&131072)}else An=!1,lt&&e.flags&1048576&&Av(e,gd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Hu(t,e),t=e.pendingProps;var i=al(e,nn.current);fo(e,n),i=Hm(null,e,r,t,i,n);var s=Wm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(s=!0,hd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mm(e),i.updater=of,e.stateNode=i,i._reactInternals=e,sh(e,r,t,n),e=lh(null,e,r,!0,s,n)):(e.tag=0,lt&&s&&Pm(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Hu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aE(r),t=sr(r,t),i){case 0:e=oh(null,e,r,t,n);break e;case 1:e=Sy(null,e,r,t,n);break e;case 11:e=Cy(null,e,r,t,n);break e;case 14:e=ky(null,e,r,sr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),oh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Sy(t,e,r,i,n);case 3:e:{if(tx(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Nv(t,e),vd(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ul(Error(Q(423)),e),e=Ty(t,e,r,n,i);break e}else if(r!==i){i=ul(Error(Q(424)),e),e=Ty(t,e,r,n,i);break e}else for(On=cs(e.stateNode.containerInfo.firstChild),Fn=e,lt=!0,hr=null,n=Sv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ol(),r===i){e=bi(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return Iv(e),t===null&&nh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Zp(r,i)?a=null:s!==null&&Zp(r,s)&&(e.flags|=32),ex(t,e),on(t,e,a,n),e.child;case 6:return t===null&&nh(e),null;case 13:return nx(t,e,n);case 4:return Um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ll(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Cy(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,et(yd,r._currentValue),r._currentValue=a,s!==null)if(xr(s.value,a)){if(s.children===i.children&&!En.current){e=bi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),rh(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),rh(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fo(e,n),i=er(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),ky(t,e,r,i,n);case 15:return Xv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Hu(t,e),e.tag=1,Cn(r)?(t=!0,hd(e)):t=!1,fo(e,n),Jv(e,r,i),sh(e,r,i,n),lh(null,e,r,!0,t,n);case 19:return rx(t,e,n);case 22:return qv(t,e,n)}throw Error(Q(156,e.tag))};function vx(t,e){return Vw(t,e)}function sE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,r){return new sE(t,e,n,r)}function qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aE(t){if(typeof t=="function")return qm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wm)return 11;if(t===vm)return 14}return 2}function ps(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $u(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")qm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ga:return pa(n.children,i,s,e);case ym:a=8,i|=8;break;case Ip:return t=Xn(12,n,e,i|2),t.elementType=Ip,t.lanes=s,t;case Pp:return t=Xn(13,n,e,i),t.elementType=Pp,t.lanes=s,t;case Rp:return t=Xn(19,n,e,i),t.elementType=Rp,t.lanes=s,t;case Iw:return uf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tw:a=10;break e;case Nw:a=9;break e;case wm:a=11;break e;case vm:a=14;break e;case Bi:a=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Xn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function pa(t,e,n,r){return t=Xn(7,t,r,e),t.lanes=n,t}function uf(t,e,n,r){return t=Xn(22,t,r,e),t.elementType=Iw,t.lanes=n,t.stateNode={isHidden:!1},t}function ip(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function sp(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eg(t,e,n,r,i,s,a,o,l){return t=new oE(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mm(s),t}function lE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xx(t){if(!t)return ys;t=t._reactInternals;e:{if(Ta(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(Cn(n))return xv(t,n,e)}return e}function bx(t,e,n,r,i,s,a,o,l){return t=eg(n,r,!0,t,i,s,a,o,l),t.context=xx(null),n=t.current,r=pn(),i=fs(n),s=hi(r,i),s.callback=e??null,us(n,s,i),t.current.lanes=i,Qc(t,i,r),kn(t,r),t}function df(t,e,n,r){var i=e.current,s=pn(),a=fs(i);return n=xx(n),e.context===null?e.context=n:e.pendingContext=n,e=hi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=us(i,e,a),t!==null&&(wr(t,i,a,s),Du(t,i,a)),a}function Td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function My(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tg(t,e){My(t,e),(t=t.alternate)&&My(t,e)}function cE(){return null}var Ax=typeof reportError=="function"?reportError:function(t){console.error(t)};function ng(t){this._internalRoot=t}ff.prototype.render=ng.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));df(t,e,null,null)};ff.prototype.unmount=ng.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xa(function(){df(null,t,null,null)}),e[vi]=null}};function ff(t){this._internalRoot=t}ff.prototype.unstable_scheduleHydration=function(t){if(t){var e=qw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&tv(t)}};function rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uy(){}function uE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Td(a);s.call(u)}}var a=bx(e,r,t,0,null,!1,!1,"",Uy);return t._reactRootContainer=a,t[vi]=a.current,fc(t.nodeType===8?t.parentNode:t),xa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Td(l);o.call(u)}}var l=eg(t,0,!1,null,null,!1,!1,"",Uy);return t._reactRootContainer=l,t[vi]=l.current,fc(t.nodeType===8?t.parentNode:t),xa(function(){df(e,l,n,r)}),l}function hf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Td(a);o.call(l)}}df(e,a,t,i)}else a=uE(n,e,t,i,r);return Td(a)}Zw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_l(e.pendingLanes);n!==0&&(Am(e,n|1),kn(e,At()),!(Fe&6)&&(dl=At()+500,Es()))}break;case 13:xa(function(){var r=xi(t,1);if(r!==null){var i=pn();wr(r,t,1,i)}}),tg(t,1)}};Em=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=pn();wr(e,t,134217728,n)}tg(t,134217728)}};Xw=function(t){if(t.tag===13){var e=fs(t),n=xi(t,e);if(n!==null){var r=pn();wr(n,t,e,r)}tg(t,e)}};qw=function(){return Ke};ev=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};zp=function(t,e,n){switch(e){case"input":if(Lp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rf(r);if(!i)throw Error(Q(90));Rw(r),Lp(r,i)}}}break;case"textarea":Bw(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};_w=Ym;zw=xa;var dE={usingClientEntryPoint:!1,Events:[Jc,Ka,rf,Uw,Dw,Ym]},Ll={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fE={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||cE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{qd=Eu.inject(fE),Wr=Eu}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dE;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(e))throw Error(Q(200));return lE(t,e,null,n)};Un.createRoot=function(t,e){if(!rg(t))throw Error(Q(299));var n=!1,r="",i=Ax;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=eg(t,1,!1,null,null,n,!1,r,i),t[vi]=e.current,fc(t.nodeType===8?t.parentNode:t),new ng(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=Gw(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return xa(t)};Un.hydrate=function(t,e,n){if(!pf(e))throw Error(Q(200));return hf(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!rg(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Ax;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=bx(e,null,t,1,n??null,i,!1,s,a),t[vi]=e.current,fc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ff(e)};Un.render=function(t,e,n){if(!pf(e))throw Error(Q(200));return hf(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!pf(t))throw Error(Q(40));return t._reactRootContainer?(xa(function(){hf(null,null,t,!1,function(){t._reactRootContainer=null,t[vi]=null})}),!0):!1};Un.unstable_batchedUpdates=Ym;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return hf(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function Ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ex)}catch(t){console.error(t)}}Ex(),Ew.exports=Un;var pE=Ew.exports,Dy=pE;Tp.createRoot=Dy.createRoot,Tp.hydrateRoot=Dy.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bc.apply(this,arguments)}var ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ss||(ss={}));const _y="popstate";function hE(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=Na(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),xh("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Nd(s))}function r(i,s){mf(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return gE(e,n,r,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mE(){return Math.random().toString(36).substr(2,8)}function zy(t,e){return{usr:t.state,key:t.key,idx:e}}function xh(t,e,n,r){return n===void 0&&(n=null),bc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Na(e):e,{state:n,key:e&&e.key||r||mE()})}function Nd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ss.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(bc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=ss.Pop;let A=d(),g=A==null?null:A-u;u=A,l&&l({action:o,location:v.location,delta:g})}function h(A,g){o=ss.Push;let m=xh(v.location,A,g);n&&n(m,A),u=d()+1;let y=zy(m,u),k=v.createHref(m);try{a.pushState(y,"",k)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(k)}s&&l&&l({action:o,location:v.location,delta:1})}function w(A,g){o=ss.Replace;let m=xh(v.location,A,g);n&&n(m,A),u=d();let y=zy(m,u),k=v.createHref(m);a.replaceState(y,"",k),s&&l&&l({action:o,location:v.location,delta:0})}function x(A){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof A=="string"?A:Nd(A);return m=m.replace(/ $/,"%20"),Nt(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return o},get location(){return t(i,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_y,f),l=A,()=>{i.removeEventListener(_y,f),l=null}},createHref(A){return e(i,A)},createURL:x,encodeLocation(A){let g=x(A);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:w,go(A){return a.go(A)}};return v}var Hy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Hy||(Hy={}));function yE(t,e,n){return n===void 0&&(n="/"),wE(t,e,n)}function wE(t,e,n,r){let i=typeof e=="string"?Na(e):e,s=ig(i.pathname||"/",n);if(s==null)return null;let a=Cx(t);vE(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=RE(s);o=NE(a[l],u)}return o}function Cx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=hs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Cx(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:SE(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of kx(s.path))i(s,a,l)}),e}function kx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=kx(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function vE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xE=/^:[\w-]+$/,bE=3,AE=2,EE=1,CE=10,kE=-2,Wy=t=>t==="*";function SE(t,e){let n=t.split("/"),r=n.length;return n.some(Wy)&&(r+=kE),e&&(r+=AE),n.filter(i=>!Wy(i)).reduce((i,s)=>i+(xE.test(s)?bE:s===""?EE:CE),r)}function TE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NE(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=IE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:hs([s,f.pathname]),pathnameBase:FE(hs([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=hs([s,f.pathnameBase]))}return a}function IE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:w}=d;if(h==="*"){let v=o[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[f];return w&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function PE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ig(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const jE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=t=>jE.test(t);function LE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Na(t):t,s;if(n)if(BE(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),mf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Gy(n.substring(1),"/"):s=Gy(n,e)}else s=e;return{pathname:s,search:ME(r),hash:UE(i)}}function Gy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ap(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sx(t,e){let n=OE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Na(t):(i=bc({},t),Nt(!i.pathname||!i.pathname.includes("?"),ap("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),ap("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),ap("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=LE(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const hs=t=>t.join("/").replace(/\/\/+/g,"/"),FE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ME=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function DE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nx=["post","put","patch","delete"];new Set(Nx);const _E=["get",...Nx];new Set(_E);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}const sg=S.createContext(null),zE=S.createContext(null),Ia=S.createContext(null),gf=S.createContext(null),Cs=S.createContext({outlet:null,matches:[],isDataRoute:!1}),Ix=S.createContext(null);function HE(t,e){let{relative:n}=e===void 0?{}:e;Zc()||Nt(!1);let{basename:r,navigator:i}=S.useContext(Ia),{hash:s,pathname:a,search:o}=Rx(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:hs([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Zc(){return S.useContext(gf)!=null}function Xc(){return Zc()||Nt(!1),S.useContext(gf).location}function Px(t){S.useContext(Ia).static||S.useLayoutEffect(t)}function ag(){let{isDataRoute:t}=S.useContext(Cs);return t?nC():WE()}function WE(){Zc()||Nt(!1);let t=S.useContext(sg),{basename:e,future:n,navigator:r}=S.useContext(Ia),{matches:i}=S.useContext(Cs),{pathname:s}=Xc(),a=JSON.stringify(Sx(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return Px(()=>{o.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Tx(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}function GE(){let{matches:t}=S.useContext(Cs),e=t[t.length-1];return e?e.params:{}}function Rx(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(Ia),{matches:i}=S.useContext(Cs),{pathname:s}=Xc(),a=JSON.stringify(Sx(i,r.v7_relativeSplatPath));return S.useMemo(()=>Tx(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function $E(t,e){return VE(t,e)}function VE(t,e,n,r){Zc()||Nt(!1);let{navigator:i}=S.useContext(Ia),{matches:s}=S.useContext(Cs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Xc(),d;if(e){var f;let A=typeof e=="string"?Na(e):e;l==="/"||(f=A.pathname)!=null&&f.startsWith(l)||Nt(!1),d=A}else d=u;let h=d.pathname||"/",w=h;if(l!=="/"){let A=l.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(A.length).join("/")}let x=yE(t,{pathname:w}),v=ZE(x&&x.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:hs([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:hs([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&v?S.createElement(gf.Provider,{value:{location:Ac({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ss.Pop}},v):v}function QE(){let t=tC(),e=DE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const KE=S.createElement(QE,null);class JE extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(Cs.Provider,{value:this.props.routeContext},S.createElement(Ix.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YE(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(sg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Cs.Provider,{value:e},r)}function ZE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:w}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let w,x=!1,v=null,A=null;n&&(w=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||KE,l&&(u<0&&h===0?(rC("route-fallback"),x=!0,A=null):u===h&&(x=!0,A=f.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,h+1)),m=()=>{let y;return w?y=v:x?y=A:f.route.Component?y=S.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,S.createElement(YE,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(JE,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var jx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jx||{}),Bx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bx||{});function XE(t){let e=S.useContext(sg);return e||Nt(!1),e}function qE(t){let e=S.useContext(zE);return e||Nt(!1),e}function eC(t){let e=S.useContext(Cs);return e||Nt(!1),e}function Lx(t){let e=eC(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function tC(){var t;let e=S.useContext(Ix),n=qE(),r=Lx();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nC(){let{router:t}=XE(jx.UseNavigateStable),e=Lx(Bx.UseNavigateStable),n=S.useRef(!1);return Px(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ac({fromRouteId:e},s)))},[t,e])}const $y={};function rC(t,e,n){$y[t]||($y[t]=!0)}function iC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ma(t){Nt(!1)}function sC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ss.Pop,navigator:s,static:a=!1,future:o}=t;Zc()&&Nt(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:s,static:a,future:Ac({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Na(r));let{pathname:d="/",search:f="",hash:h="",state:w=null,key:x="default"}=r,v=S.useMemo(()=>{let A=ig(d,l);return A==null?null:{location:{pathname:A,search:f,hash:h,state:w,key:x},navigationType:i}},[l,d,f,h,w,x,i]);return v==null?null:S.createElement(Ia.Provider,{value:u},S.createElement(gf.Provider,{children:n,value:v}))}function aC(t){let{children:e,location:n}=t;return $E(bh(e),n)}new Promise(()=>{});function bh(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,bh(r.props.children,s));return}r.type!==Ma&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bh(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}function oC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cC(t,e){return t.button===0&&(!e||e==="_self")&&!lC(t)}const uC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dC="6";try{window.__reactRouterVersion=dC}catch{}const fC="startTransition",Vy=n2[fC];function pC(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=hE({window:i,v5Compat:!0}));let a=s.current,[o,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=S.useCallback(f=>{u&&Vy?Vy(()=>l(f)):l(f)},[l,u]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>iC(r),[r]),S.createElement(sC,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const hC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zn=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=oC(e,uC),{basename:w}=S.useContext(Ia),x,v=!1;if(typeof u=="string"&&mC.test(u)&&(x=u,hC))try{let y=new URL(window.location.href),k=u.startsWith("//")?new URL(y.protocol+u):new URL(u),B=ig(k.pathname,w);k.origin===y.origin&&B!=null?u=B+k.search+k.hash:v=!0}catch{}let A=HE(u,{relative:i}),g=gC(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function m(y){r&&r(y),y.defaultPrevented||g(y)}return S.createElement("a",Ah({},h,{href:x||A,onClick:v||s?r:m,ref:n,target:l}))});var Qy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qy||(Qy={}));var Ky;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function gC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=ag(),u=Xc(),d=Rx(t,{relative:a});return S.useCallback(f=>{if(cC(f,n)){f.preventDefault();let h=r!==void 0?r:Nd(u)===Nd(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,t,s,a,o])}let yC={data:""},wC=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||yC},vC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xC=/\/\*[^]*?\*\/|  +/g,Jy=/\n+/g,Ui=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?Ui(a,s):s+"{"+Ui(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=Ui(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ui.p?Ui.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Vr={},Ox=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Ox(t[n]);return e}return t},bC=(t,e,n,r,i)=>{let s=Ox(t),a=Vr[s]||(Vr[s]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Vr[a]){let l=s!==t?t:(u=>{let d,f,h=[{}];for(;d=vC.exec(u.replace(xC,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Jy," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Jy," ").trim();return h[0]})(t);Vr[a]=Ui(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Vr.g?Vr.g:null;return n&&(Vr.g=Vr[a]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Vr[a],e,r,o),a},AC=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Ui(o,""):o===!1?"":o}return r+i+(a??"")},"");function yf(t){let e=this||{},n=t.call?t(e.p):t;return bC(n.unshift?n.raw?AC(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,wC(e.target),e.g,e.o,e.k)}let Fx,Eh,Ch;yf.bind({g:1});let Ai=yf.bind({k:1});function EC(t,e,n,r){Ui.p=e,Fx=t,Eh=n,Ch=r}function ks(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:Eh&&Eh()},o),n.o=/ *go\d+/.test(l),o.className=yf.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),Ch&&u[0]&&Ch(o),Fx(u,o)}return i}}var CC=t=>typeof t=="function",Id=(t,e)=>CC(t)?t(e):t,kC=(()=>{let t=0;return()=>(++t).toString()})(),Mx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),SC=20,og="default",Ux=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Ux(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Vu=[],Dx={toasts:[],pausedAt:void 0,settings:{toastLimit:SC}},zr={},_x=(t,e=og)=>{zr[e]=Ux(zr[e]||Dx,t),Vu.forEach(([n,r])=>{n===e&&r(zr[e])})},zx=t=>Object.keys(zr).forEach(e=>_x(t,e)),TC=t=>Object.keys(zr).find(e=>zr[e].toasts.some(n=>n.id===t)),wf=(t=og)=>e=>{_x(e,t)},NC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},IC=(t={},e=og)=>{let[n,r]=S.useState(zr[e]||Dx),i=S.useRef(zr[e]);S.useEffect(()=>(i.current!==zr[e]&&r(zr[e]),Vu.push([e,r]),()=>{let a=Vu.findIndex(([o])=>o===e);a>-1&&Vu.splice(a,1)}),[e]);let s=n.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||NC[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:s}},PC=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||kC()}),qc=t=>(e,n)=>{let r=PC(e,t,n);return wf(r.toasterId||TC(r.id))({type:2,toast:r}),r.id},Rt=(t,e)=>qc("blank")(t,e);Rt.error=qc("error");Rt.success=qc("success");Rt.loading=qc("loading");Rt.custom=qc("custom");Rt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?wf(e)(n):zx(n)};Rt.dismissAll=t=>Rt.dismiss(void 0,t);Rt.remove=(t,e)=>{let n={type:4,toastId:t};e?wf(e)(n):zx(n)};Rt.removeAll=t=>Rt.remove(void 0,t);Rt.promise=(t,e,n)=>{let r=Rt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Id(e.success,i):void 0;return s?Rt.success(s,{id:r,...n,...n==null?void 0:n.success}):Rt.dismiss(r),i}).catch(i=>{let s=e.error?Id(e.error,i):void 0;s?Rt.error(s,{id:r,...n,...n==null?void 0:n.error}):Rt.dismiss(r)}),t};var RC=1e3,jC=(t,e="default")=>{let{toasts:n,pausedAt:r}=IC(t,e),i=S.useRef(new Map).current,s=S.useCallback((f,h=RC)=>{if(i.has(f))return;let w=setTimeout(()=>{i.delete(f),a({type:4,toastId:f})},h);i.set(f,w)},[]);S.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(w=>{if(w.duration===1/0)return;let x=(w.duration||0)+w.pauseDuration-(f-w.createdAt);if(x<0){w.visible&&Rt.dismiss(w.id);return}return setTimeout(()=>Rt.dismiss(w.id,e),x)});return()=>{h.forEach(w=>w&&clearTimeout(w))}},[n,r,e]);let a=S.useCallback(wf(e),[e]),o=S.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=S.useCallback((f,h)=>{a({type:1,toast:{id:f,height:h}})},[a]),u=S.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),d=S.useCallback((f,h)=>{let{reverseOrder:w=!1,gutter:x=8,defaultPosition:v}=h||{},A=n.filter(y=>(y.position||v)===(f.position||v)&&y.height),g=A.findIndex(y=>y.id===f.id),m=A.filter((y,k)=>k<g&&y.visible).length;return A.filter(y=>y.visible).slice(...w?[m+1]:[0,m]).reduce((y,k)=>y+(k.height||0)+x,0)},[n]);return S.useEffect(()=>{n.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:d}}},BC=Ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,LC=Ai`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OC=Ai`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,FC=ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${BC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${LC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${OC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,MC=Ai`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,UC=ks("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${MC} 1s linear infinite;
`,DC=Ai`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_C=Ai`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zC=ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_C} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,HC=ks("div")`
  position: absolute;
`,WC=ks("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GC=Ai`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$C=ks("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VC=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?S.createElement($C,null,e):e:n==="blank"?null:S.createElement(WC,null,S.createElement(UC,{...r}),n!=="loading"&&S.createElement(HC,null,n==="error"?S.createElement(FC,{...r}):S.createElement(zC,{...r})))},QC=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,KC=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,JC="0%{opacity:0;} 100%{opacity:1;}",YC="0%{opacity:1;} 100%{opacity:0;}",ZC=ks("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,XC=ks("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qC=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Mx()?[JC,YC]:[QC(n),KC(n)];return{animation:e?`${Ai(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ai(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ek=S.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?qC(t.position||e||"top-center",t.visible):{opacity:0},s=S.createElement(VC,{toast:t}),a=S.createElement(XC,{...t.ariaProps},Id(t.message,t));return S.createElement(ZC,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):S.createElement(S.Fragment,null,s,a))});EC(S.createElement);var tk=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=S.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return S.createElement("div",{ref:s,className:e,style:n},i)},nk=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Mx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},rk=yf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Cu=16,ik=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=jC(n,s);return S.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Cu,left:Cu,right:Cu,bottom:Cu,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),w=nk(f,h);return S.createElement(tk,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?rk:"",style:w},d.type==="custom"?Id(d.message,d):i?i(d):S.createElement(ek,{toast:d,position:f}))}))},R=Rt;const sk="6.16.0";function ak(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function ln(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function ye(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&ak(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function to(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>to(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return to(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${to(r,e)}: ${to(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Gt(t,e){return t&&t.code===e}function lg(t){return Gt(t,"CALL_EXCEPTION")}function at(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${to(n)}`);for(const a in n){if(a==="shortMessage")continue;const o=n[a];s.push(a+"="+to(o))}}s.push(`code=${e}`),s.push(`version=${sk}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return ye(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&ye(i,{shortMessage:r}),i}function G(t,e,n,r){if(!t)throw at(e,n,r)}function C(t,e,n,r){G(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function Hx(t,e,n){n==null&&(n=""),n&&(n=": "+n),G(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),G(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function eu(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),G(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Wx(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}C(!1,"invalid BytesLike value",e||"value",t)}function Se(t,e){return Wx(t,e,!1)}function cn(t,e){return Wx(t,e,!0)}function tt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function cg(t){return tt(t,!0)||t instanceof Uint8Array}const Yy="0123456789abcdef";function re(t){const e=Se(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Yy[(i&240)>>4]+Yy[i&15]}return n}function ct(t){return"0x"+t.map(e=>re(e).substring(2)).join("")}function ho(t){return tt(t,!0)?(t.length-2)/2:Se(t).length}function gt(t,e,n){const r=Se(t);return n!=null&&n>r.length&&G(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),re(r.slice(e??0,n??r.length))}function Gx(t,e,n){const r=Se(t);G(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),re(i)}function Ei(t,e){return Gx(t,e,!0)}function ok(t,e){return Gx(t,e,!1)}const tu=BigInt(0),gr=BigInt(1),no=9007199254740991;function Pd(t,e){const n=vf(t,"value"),r=BigInt(xe(e,"width"));if(G(n>>r===tu,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-gr){const i=(gr<<r)-gr;return-((~n&i)+gr)}return n}function $x(t,e){let n=le(t,"value");const r=BigInt(xe(e,"width")),i=gr<<r-gr;if(n<tu){n=-n,G(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(gr<<r)-gr;return(~n&s)+gr}else G(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Ws(t,e){const n=vf(t,"value"),r=BigInt(xe(e,"bits"));return n&(gr<<r)-gr}function le(t,e){switch(typeof t){case"bigint":return t;case"number":return C(Number.isInteger(t),"underflow",e||"value",t),C(t>=-no&&t<=no,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){C(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}C(!1,"invalid BigNumberish value",e||"value",t)}function vf(t,e){const n=le(t,e);return G(n>=tu,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Zy="0123456789abcdef";function xf(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Zy[n>>4],e+=Zy[n&15];return BigInt(e)}return le(t)}function xe(t,e){switch(typeof t){case"bigint":return C(t>=-no&&t<=no,"overflow",e||"value",t),Number(t);case"number":return C(Number.isInteger(t),"underflow",e||"value",t),C(t>=-no&&t<=no,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return xe(BigInt(t),e)}catch(n){C(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}C(!1,"invalid numeric value",e||"value",t)}function lk(t){return xe(xf(t))}function ws(t,e){const n=vf(t,"value");let r=n.toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=xe(e,"width");if(i===0&&n===tu)return"0x";for(G(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Tt(t,e){const n=vf(t,"value");if(n===tu)return new Uint8Array(0);let r=n.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const a=s*2;i[s]=parseInt(r.substring(a,a+2),16)}return i}function mr(t){let e=re(cg(t)?t:Tt(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const Xy="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const qy=BigInt(58);function ck(t){const e=Se(t);let n=xf(e),r="";for(;n;)r=Xy[Number(n%qy)]+r,n/=qy;for(let i=0;i<e.length&&!e[i];i++)r=Xy[0]+r;return r}function uk(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Se(e)}function dk(t){const e=Se(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var wo;class Vx{constructor(e,n,r){j(this,"filter");j(this,"emitter");O(this,wo);b(this,wo,n),ye(this,{emitter:e,filter:r})}async removeListener(){p(this,wo)!=null&&await this.emitter.off(this.filter,p(this,wo))}}wo=new WeakMap;function fk(t,e,n,r,i){C(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Qx(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function pk(t,e,n,r,i){return t==="OVERLONG"?(C(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),Qx(t,e,n))}const hk=Object.freeze({error:fk,ignore:Qx,replace:pk});function mk(t,e){e==null&&(e=hk.error);const n=Se(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let a=null,o=null;if((s&224)===192)a=1,o=127;else if((s&240)===224)a=2,o=2047;else if((s&248)===240)a=3,o=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+a>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-a-1)-1;for(let u=0;u<a;u++){let d=n[i];if((d&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|d&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-a,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-a,n,r,l);continue}if(l<=o){i+=e("OVERLONG",i-1-a,n,r,l);continue}r.push(l)}}return r}function mi(t,e){C(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);C(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((i&1023)<<10)+(s&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function gk(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Rd(t,e){return gk(mk(t,e))}function Kx(t){async function e(n,r){G(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();G(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),G(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const a=new AbortController,o=setTimeout(()=>{s=at("request timeout","TIMEOUT"),a.abort()},n.timeout);r&&r.addListener(()=>{s=at("request cancelled","CANCELLED"),a.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:a.signal});let u;try{u=await fetch(n.url,l)}catch(w){throw clearTimeout(o),s||w}clearTimeout(o);const d={};u.headers.forEach((w,x)=>{d[x.toLowerCase()]=w});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return e}const yk=12,wk=250;let e0=Kx();const vk=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),xk=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let op=!1;async function Jx(t,e){try{const n=t.match(vk);if(!n)throw new Error("invalid data");return new ms(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?uk(n[3]):Ak(n[3]))}catch{return new ms(599,"BAD REQUEST (invalid data: URI)",{},null,new vs(t))}}function Yx(t){async function e(n,r){try{const i=n.match(xk);if(!i)throw new Error("invalid link");return new vs(`${t}${i[2]}`)}catch{return new ms(599,"BAD REQUEST (invalid IPFS URI)",{},null,new vs(n))}}return e}const ku={data:Jx,ipfs:Yx("https://gateway.ipfs.io/ipfs/")},Zx=new WeakMap;var Qs,Di;class bk{constructor(e){O(this,Qs);O(this,Di);b(this,Qs,[]),b(this,Di,!1),Zx.set(e,()=>{if(!p(this,Di)){b(this,Di,!0);for(const n of p(this,Qs))setTimeout(()=>{n()},0);b(this,Qs,[])}})}addListener(e){G(!p(this,Di),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),p(this,Qs).push(e)}get cancelled(){return p(this,Di)}checkSignal(){G(!this.cancelled,"cancelled","CANCELLED",{})}}Qs=new WeakMap,Di=new WeakMap;function Su(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var vo,xo,or,qr,bo,Ao,Lt,Pn,ei,Ks,Js,Ys,Nr,lr,_i,Zs,Hl;const $d=class $d{constructor(e){O(this,Zs);O(this,vo);O(this,xo);O(this,or);O(this,qr);O(this,bo);O(this,Ao);O(this,Lt);O(this,Pn);O(this,ei);O(this,Ks);O(this,Js);O(this,Ys);O(this,Nr);O(this,lr);O(this,_i);b(this,Ao,String(e)),b(this,vo,!1),b(this,xo,!0),b(this,or,{}),b(this,qr,""),b(this,bo,3e5),b(this,lr,{slotInterval:wk,maxAttempts:yk}),b(this,_i,null)}get url(){return p(this,Ao)}set url(e){b(this,Ao,String(e))}get body(){return p(this,Lt)==null?null:new Uint8Array(p(this,Lt))}set body(e){if(e==null)b(this,Lt,void 0),b(this,Pn,void 0);else if(typeof e=="string")b(this,Lt,mi(e)),b(this,Pn,"text/plain");else if(e instanceof Uint8Array)b(this,Lt,e),b(this,Pn,"application/octet-stream");else if(typeof e=="object")b(this,Lt,mi(JSON.stringify(e))),b(this,Pn,"application/json");else throw new Error("invalid body")}hasBody(){return p(this,Lt)!=null}get method(){return p(this,qr)?p(this,qr):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),b(this,qr,String(e).toUpperCase())}get headers(){const e=Object.assign({},p(this,or));return p(this,ei)&&(e.authorization=`Basic ${dk(mi(p(this,ei)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&p(this,Pn)&&(e["content-type"]=p(this,Pn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){p(this,or)[String(e).toLowerCase()]=String(n)}clearHeaders(){b(this,or,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return p(this,ei)||null}setCredentials(e,n){C(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),b(this,ei,`${e}:${n}`)}get allowGzip(){return p(this,xo)}set allowGzip(e){b(this,xo,!!e)}get allowInsecureAuthentication(){return!!p(this,vo)}set allowInsecureAuthentication(e){b(this,vo,!!e)}get timeout(){return p(this,bo)}set timeout(e){C(e>=0,"timeout must be non-zero","timeout",e),b(this,bo,e)}get preflightFunc(){return p(this,Ks)||null}set preflightFunc(e){b(this,Ks,e)}get processFunc(){return p(this,Js)||null}set processFunc(e){b(this,Js,e)}get retryFunc(){return p(this,Ys)||null}set retryFunc(e){b(this,Ys,e)}get getUrlFunc(){return p(this,_i)||e0}set getUrlFunc(e){b(this,_i,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${p(this,Lt)?re(p(this,Lt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(p(this,lr).slotInterval=e.slotInterval),e.maxAttempts!=null&&(p(this,lr).maxAttempts=e.maxAttempts)}send(){return G(p(this,Nr)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),b(this,Nr,new bk(this)),$(this,Zs,Hl).call(this,0,t0()+this.timeout,0,this,new ms(0,"",{},null,this))}cancel(){G(p(this,Nr)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Zx.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();G(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new $d(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,b(i,or,Object.assign({},p(this,or))),p(this,Lt)&&b(i,Lt,new Uint8Array(p(this,Lt))),b(i,Pn,p(this,Pn)),i}clone(){const e=new $d(this.url);return b(e,qr,p(this,qr)),p(this,Lt)&&b(e,Lt,p(this,Lt)),b(e,Pn,p(this,Pn)),b(e,or,Object.assign({},p(this,or))),b(e,ei,p(this,ei)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),b(e,Ks,p(this,Ks)),b(e,Js,p(this,Js)),b(e,Ys,p(this,Ys)),b(e,lr,Object.assign({},p(this,lr))),b(e,_i,p(this,_i)),e}static lockConfig(){op=!0}static getGateway(e){return ku[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(op)throw new Error("gateways locked");ku[e]=n}static registerGetUrl(e){if(op)throw new Error("gateways locked");e0=e}static createGetUrlFunc(e){return Kx(e)}static createDataGateway(){return Jx}static createIpfsGatewayFunc(e){return Yx(e)}};vo=new WeakMap,xo=new WeakMap,or=new WeakMap,qr=new WeakMap,bo=new WeakMap,Ao=new WeakMap,Lt=new WeakMap,Pn=new WeakMap,ei=new WeakMap,Ks=new WeakMap,Js=new WeakMap,Ys=new WeakMap,Nr=new WeakMap,lr=new WeakMap,_i=new WeakMap,Zs=new WeakSet,Hl=async function(e,n,r,i,s){var d,f,h;if(e>=p(this,lr).maxAttempts)return s.makeServerError("exceeded maximum retry limit");G(t0()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await Ek(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in ku){const w=await ku[o](a.url,Su(p(i,Nr)));if(w instanceof ms){let x=w;if(this.processFunc){Su(p(i,Nr));try{x=await this.processFunc(a,x)}catch(v){(v.throttle==null||typeof v.stall!="number")&&x.makeServerError("error in post-processing function",v).assertOk()}}return x}a=w}this.preflightFunc&&(a=await this.preflightFunc(a));const l=await this.getUrlFunc(a,Su(p(i,Nr)));let u=new ms(l.statusCode,l.statusMessage,l.headers,l.body,i);if(u.statusCode===301||u.statusCode===302){try{const w=u.headers.location||"";return $(d=a.redirect(w),Zs,Hl).call(d,e+1,n,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,e))){const w=u.headers["retry-after"];let x=p(this,lr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof w=="string"&&w.match(/^[1-9][0-9]*$/)&&(x=parseInt(w)),$(f=a.clone(),Zs,Hl).call(f,e+1,n,x,i,u)}if(this.processFunc){Su(p(i,Nr));try{u=await this.processFunc(a,u)}catch(w){(w.throttle==null||typeof w.stall!="number")&&u.makeServerError("error in post-processing function",w).assertOk();let x=p(this,lr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return w.stall>=0&&(x=w.stall),$(h=a.clone(),Zs,Hl).call(h,e+1,n,x,i,u)}}return u};let vs=$d;var Lc,Oc,Fc,Rn,Eo,Xs;const Tg=class Tg{constructor(e,n,r,i,s){O(this,Lc);O(this,Oc);O(this,Fc);O(this,Rn);O(this,Eo);O(this,Xs);b(this,Lc,e),b(this,Oc,n),b(this,Fc,Object.keys(r).reduce((a,o)=>(a[o.toLowerCase()]=String(r[o]),a),{})),b(this,Rn,i==null?null:new Uint8Array(i)),b(this,Eo,s||null),b(this,Xs,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${p(this,Rn)?re(p(this,Rn)):"null"}>`}get statusCode(){return p(this,Lc)}get statusMessage(){return p(this,Oc)}get headers(){return Object.assign({},p(this,Fc))}get body(){return p(this,Rn)==null?null:new Uint8Array(p(this,Rn))}get bodyText(){try{return p(this,Rn)==null?"":Rd(p(this,Rn))}catch{G(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{G(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Tg(599,r,this.headers,this.body,p(this,Eo)||void 0);return b(i,Xs,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:C(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw ye(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return p(this,Rn)!=null}get request(){return p(this,Eo)}ok(){return p(this,Xs).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=p(this,Xs);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{p(this,Rn)&&(i=Rd(p(this,Rn)))}catch{}G(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Lc=new WeakMap,Oc=new WeakMap,Fc=new WeakMap,Rn=new WeakMap,Eo=new WeakMap,Xs=new WeakMap;let ms=Tg;function t0(){return new Date().getTime()}function Ak(t){return mi(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function Ek(t){return new Promise(e=>setTimeout(e,t))}const Ck=BigInt(-1),ir=BigInt(0),ro=BigInt(1),kk=BigInt(5),Ba={};let mo="0000";for(;mo.length<80;)mo+=mo;function Ts(t){let e=mo;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Ol(t,e,n){const r=BigInt(e.width);if(e.signed){const i=ro<<r-ro;G(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>ir?t=Pd(Ws(t,r),r):t=-Pd(Ws(-t,r),r)}else{const i=ro<<r;G(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-ro}return t}function lp(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);C(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,a=(o,l,u)=>s[o]==null?u:(C(typeof s[o]===l,"invalid fixed format ("+o+" not "+l+")","format."+o,s[o]),s[o]);e=a("signed","boolean",e),n=a("width","number",n),r=a("decimals","number",r)}C(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),C(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function Sk(t,e){let n="";t<ir&&(n="-",t*=Ck);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=mo+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var cr,Je,sn,_e,Bs,Qr,kh,Sh,Th,Nh;const Oi=class Oi{constructor(e,n,r){O(this,_e);j(this,"format");O(this,cr);O(this,Je);O(this,sn);j(this,"_value");eu(e,Ba,"FixedNumber"),b(this,Je,n),b(this,cr,r);const i=Sk(n,r.decimals);ye(this,{format:r.name,_value:i}),b(this,sn,Ts(r.decimals))}get signed(){return p(this,cr).signed}get width(){return p(this,cr).width}get decimals(){return p(this,cr).decimals}get value(){return p(this,Je)}addUnsafe(e){return $(this,_e,kh).call(this,e)}add(e){return $(this,_e,kh).call(this,e,"add")}subUnsafe(e){return $(this,_e,Sh).call(this,e)}sub(e){return $(this,_e,Sh).call(this,e,"sub")}mulUnsafe(e){return $(this,_e,Th).call(this,e)}mul(e){return $(this,_e,Th).call(this,e,"mul")}mulSignal(e){$(this,_e,Bs).call(this,e);const n=p(this,Je)*p(e,Je);return G(n%p(this,sn)===ir,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),$(this,_e,Qr).call(this,n/p(this,sn),"mulSignal")}divUnsafe(e){return $(this,_e,Nh).call(this,e)}div(e){return $(this,_e,Nh).call(this,e,"div")}divSignal(e){G(p(e,Je)!==ir,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),$(this,_e,Bs).call(this,e);const n=p(this,Je)*p(this,sn);return G(n%p(e,Je)===ir,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),$(this,_e,Qr).call(this,n/p(e,Je),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Ts(i):i<0&&(n*=Ts(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=p(this,Je);return p(this,Je)<ir&&(e-=p(this,sn)-ro),e=p(this,Je)/p(this,sn)*p(this,sn),$(this,_e,Qr).call(this,e,"floor")}ceiling(){let e=p(this,Je);return p(this,Je)>ir&&(e+=p(this,sn)-ro),e=p(this,Je)/p(this,sn)*p(this,sn),$(this,_e,Qr).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=kk*Ts(n-1);let i=this.value+r;const s=Ts(n);return i=i/s*s,Ol(i,p(this,cr),"round"),new Oi(Ba,i,p(this,cr))}isZero(){return p(this,Je)===ir}isNegative(){return p(this,Je)<ir}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Oi.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:xe(n),s=lp(r);let a=le(e,"value");const o=i-s.decimals;if(o>0){const l=Ts(o);G(a%l===ir,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=l}else o<0&&(a*=Ts(-o));return Ol(a,s,"fromValue"),new Oi(Ba,a,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);C(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=lp(n);let s=r[2]||"0",a=r[3]||"";for(;a.length<i.decimals;)a+=mo;G(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const o=BigInt(r[1]+s+a);return Ol(o,i,"fromString"),new Oi(Ba,o,i)}static fromBytes(e,n){let r=xf(Se(e,"value"));const i=lp(n);return i.signed&&(r=Pd(r,i.width)),Ol(r,i,"fromBytes"),new Oi(Ba,r,i)}};cr=new WeakMap,Je=new WeakMap,sn=new WeakMap,_e=new WeakSet,Bs=function(e){C(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Qr=function(e,n){return e=Ol(e,p(this,cr),n),new Oi(Ba,e,p(this,cr))},kh=function(e,n){return $(this,_e,Bs).call(this,e),$(this,_e,Qr).call(this,p(this,Je)+p(e,Je),n)},Sh=function(e,n){return $(this,_e,Bs).call(this,e),$(this,_e,Qr).call(this,p(this,Je)-p(e,Je),n)},Th=function(e,n){return $(this,_e,Bs).call(this,e),$(this,_e,Qr).call(this,p(this,Je)*p(e,Je)/p(this,sn),n)},Nh=function(e,n){return G(p(e,Je)!==ir,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),$(this,_e,Bs).call(this,e),$(this,_e,Qr).call(this,p(this,Je)*p(this,sn)/p(e,Je),n)};let jd=Oi;function Tk(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function n0(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function r0(t,e,n,r){const i=[];for(;n<e+1+r;){const s=Xx(t,n);i.push(s.result),n+=s.consumed,G(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function Xx(t,e){G(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{G(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=n0(t,e+1,r);return n(e+1+r+i),r0(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),r0(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=n0(t,e+1,r);n(e+1+r+i);const s=re(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=re(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:Tk(t[e])}}function nu(t){const e=Se(t,"data"),n=Xx(e,0);return C(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function i0(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function qx(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(qx(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=i0(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Se(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=i0(e.length);return n.unshift(183+n.length),n.concat(e)}const s0="0123456789abcdef";function gi(t){let e="0x";for(const n of qx(t))e+=s0[n>>4],e+=s0[n&15];return e}function Nk(t,e){let n=18;return n=xe(e,"unit"),jd.fromValue(t,n,{decimals:n,width:512}).toString()}function Ik(t,e){C(typeof t=="string","value must be a string","value",t);let n=18;return n=xe(e,"unit"),jd.fromString(t,{decimals:n,width:512}).value}function ot(t){return Nk(t,18)}function vr(t){return Ik(t,18)}const un=32,Ih=new Uint8Array(un),Pk=["then"],Tu={},e1=new WeakMap;function Os(t){return e1.get(t)}function a0(t,e){e1.set(t,e)}function Fl(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function Ph(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof fl?Ph(Os(r),r,n):r):t.reduce((r,i,s)=>{let a=e.getValue(i);return i in r||(n&&a instanceof fl&&(a=Ph(Os(a),a,n)),r[i]=a),r},{})}var Co;const io=class io extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),a=!0;r!==Tu&&(i=n,s=[],a=!1);super(i.length);O(this,Co);i.forEach((u,d)=>{this[d]=u});const o=s.reduce((u,d)=>(typeof d=="string"&&u.set(d,(u.get(d)||0)+1),u),new Map);if(a0(this,Object.freeze(i.map((u,d)=>{const f=s[d];return f!=null&&o.get(f)===1?f:null}))),b(this,Co,[]),p(this,Co)==null&&p(this,Co),!a)return;Object.freeze(this);const l=new Proxy(this,{get:(u,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const w=xe(d,"%index");if(w<0||w>=this.length)throw new RangeError("out of result range");const x=u[w];return x instanceof Error&&Fl(`index ${w}`,x),x}if(Pk.indexOf(d)>=0)return Reflect.get(u,d,f);const h=u[d];if(h instanceof Function)return function(...w){return h.apply(this===f?u:this,w)};if(!(d in u))return u.getValue.apply(this===f?u:this,[d])}return Reflect.get(u,d,f)}});return a0(l,Os(this)),l}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&Fl(`index ${s}`,i),n&&i instanceof io&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=Os(this);return r.reduce((i,s,a)=>(G(s!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Ph(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=Os(this),s=[],a=[];for(let o=n;o<r;o++)s.push(this[o]),a.push(i[o]);return new io(Tu,s,a)}filter(n,r){const i=Os(this),s=[],a=[];for(let o=0;o<this.length;o++){const l=this[o];l instanceof Error&&Fl(`index ${o}`,l),n.call(r,l,o,this)&&(s.push(l),a.push(i[o]))}return new io(Tu,s,a)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Fl(`index ${s}`,a),i.push(n.call(r,a,s,this))}return i}getValue(n){const r=Os(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Fl(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new io(Tu,n,r)}};Co=new WeakMap;let fl=io;function o0(t){let e=Tt(t);return G(e.length<=un,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:un,offset:e.length}),e.length!==un&&(e=cn(ct([Ih.slice(e.length%un),e]))),e}class Si{constructor(e,n,r,i){j(this,"name");j(this,"type");j(this,"localName");j(this,"dynamic");ye(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){C(!1,e,this.localName,n)}}var ti,qs,ko,Qu;class Rh{constructor(){O(this,ko);O(this,ti);O(this,qs);b(this,ti,[]),b(this,qs,0)}get data(){return ct(p(this,ti))}get length(){return p(this,qs)}appendWriter(e){return $(this,ko,Qu).call(this,cn(e.data))}writeBytes(e){let n=cn(e);const r=n.length%un;return r&&(n=cn(ct([n,Ih.slice(r)]))),$(this,ko,Qu).call(this,n)}writeValue(e){return $(this,ko,Qu).call(this,o0(e))}writeUpdatableValue(){const e=p(this,ti).length;return p(this,ti).push(Ih),b(this,qs,p(this,qs)+un),n=>{p(this,ti)[e]=o0(n)}}}ti=new WeakMap,qs=new WeakMap,ko=new WeakSet,Qu=function(e){return p(this,ti).push(e),b(this,qs,p(this,qs)+e.length),e.length};var yn,jn,ea,ta,zi,ka,Bh,t1;const Ng=class Ng{constructor(e,n,r){O(this,ka);j(this,"allowLoose");O(this,yn);O(this,jn);O(this,ea);O(this,ta);O(this,zi);ye(this,{allowLoose:!!n}),b(this,yn,cn(e)),b(this,ea,0),b(this,ta,null),b(this,zi,r??1024),b(this,jn,0)}get data(){return re(p(this,yn))}get dataLength(){return p(this,yn).length}get consumed(){return p(this,jn)}get bytes(){return new Uint8Array(p(this,yn))}subReader(e){const n=new Ng(p(this,yn).slice(p(this,jn)+e),this.allowLoose,p(this,zi));return b(n,ta,this),n}readBytes(e,n){let r=$(this,ka,t1).call(this,0,e,!!n);return $(this,ka,Bh).call(this,e),b(this,jn,p(this,jn)+r.length),r.slice(0,e)}readValue(){return xf(this.readBytes(un))}readIndex(){return lk(this.readBytes(un))}};yn=new WeakMap,jn=new WeakMap,ea=new WeakMap,ta=new WeakMap,zi=new WeakMap,ka=new WeakSet,Bh=function(e){var n;if(p(this,ta))return $(n=p(this,ta),ka,Bh).call(n,e);b(this,ea,p(this,ea)+e),G(p(this,zi)<1||p(this,ea)<=p(this,zi)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${p(this,zi)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:cn(p(this,yn)),offset:p(this,jn),length:e,info:{bytesRead:p(this,ea),dataLength:this.dataLength}})},t1=function(e,n,r){let i=Math.ceil(n/un)*un;return p(this,jn)+i>p(this,yn).length&&(this.allowLoose&&r&&p(this,jn)+n<=p(this,yn).length?i=n:G(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:cn(p(this,yn)),length:p(this,yn).length,offset:p(this,jn)+i})),p(this,yn).slice(p(this,jn),p(this,jn)+i)};let jh=Ng;function Bd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ug(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Rk(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Bd(t.outputLen),Bd(t.blockLen)}function pl(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function n1(t,e){ug(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const cp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r1=t=>t instanceof Uint8Array,jk=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),up=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Cr=(t,e)=>t<<32-e|t>>>e,Bk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Bk)throw new Error("Non little-endian hardware is not supported");function Lk(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bf(t){if(typeof t=="string"&&(t=Lk(t)),!r1(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Ok(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!r1(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class dg{clone(){return this._cloneInto()}}function fg(t){const e=r=>t().update(bf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Fk(t=32){if(cp&&typeof cp.getRandomValues=="function")return cp.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class i1 extends dg{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Rk(e);const r=bf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return pl(this),this.iHash.update(e),this}digestInto(e){pl(this),ug(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s1=(t,e,n)=>new i1(t,e).update(n).digest();s1.create=(t,e)=>new i1(t,e);function Mk(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,o,r)}class a1 extends dg{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=up(this.buffer)}update(e){pl(this);const{view:n,buffer:r,blockLen:i}=this;e=bf(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const l=up(e);for(;i<=s-a;a+=i)this.process(l,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pl(this),n1(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let f=a;f<i;f++)n[f]=0;Mk(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=up(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}}const Uk=(t,e,n)=>t&e^~t&n,Dk=(t,e,n)=>t&e^t&n^e&n,_k=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ni=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ii=new Uint32Array(64);class zk extends a1{constructor(){super(64,32,8,!1),this.A=Ni[0]|0,this.B=Ni[1]|0,this.C=Ni[2]|0,this.D=Ni[3]|0,this.E=Ni[4]|0,this.F=Ni[5]|0,this.G=Ni[6]|0,this.H=Ni[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:l}=this;return[e,n,r,i,s,a,o,l]}set(e,n,r,i,s,a,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)Ii[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=Ii[f-15],w=Ii[f-2],x=Cr(h,7)^Cr(h,18)^h>>>3,v=Cr(w,17)^Cr(w,19)^w>>>10;Ii[f]=v+Ii[f-7]+x+Ii[f-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const h=Cr(o,6)^Cr(o,11)^Cr(o,25),w=d+h+Uk(o,l,u)+_k[f]+Ii[f]|0,v=(Cr(r,2)^Cr(r,13)^Cr(r,22))+Dk(r,i,s)|0;d=u,u=l,l=o,o=a+w|0,a=s,s=i,i=r,r=w+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,s,a,o,l,u,d)}roundClean(){Ii.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const o1=fg(()=>new zk),Nu=BigInt(2**32-1),Lh=BigInt(32);function l1(t,e=!1){return e?{h:Number(t&Nu),l:Number(t>>Lh&Nu)}:{h:Number(t>>Lh&Nu)|0,l:Number(t&Nu)|0}}function c1(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=l1(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const Hk=(t,e)=>BigInt(t>>>0)<<Lh|BigInt(e>>>0),Wk=(t,e,n)=>t>>>n,Gk=(t,e,n)=>t<<32-n|e>>>n,$k=(t,e,n)=>t>>>n|e<<32-n,Vk=(t,e,n)=>t<<32-n|e>>>n,Qk=(t,e,n)=>t<<64-n|e>>>n-32,Kk=(t,e,n)=>t>>>n-32|e<<64-n,Jk=(t,e)=>e,Yk=(t,e)=>t,u1=(t,e,n)=>t<<n|e>>>32-n,d1=(t,e,n)=>e<<n|t>>>32-n,f1=(t,e,n)=>e<<n-32|t>>>64-n,p1=(t,e,n)=>t<<n-32|e>>>64-n;function Zk(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Xk=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),qk=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,eS=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),tS=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,nS=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),rS=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,ke={fromBig:l1,split:c1,toBig:Hk,shrSH:Wk,shrSL:Gk,rotrSH:$k,rotrSL:Vk,rotrBH:Qk,rotrBL:Kk,rotr32H:Jk,rotr32L:Yk,rotlSH:u1,rotlSL:d1,rotlBH:f1,rotlBL:p1,add:Zk,add3L:Xk,add3H:qk,add4L:eS,add4H:tS,add5H:rS,add5L:nS},[iS,sS]=ke.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Pi=new Uint32Array(80),Ri=new Uint32Array(80);class aS extends a1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:w,Gl:x,Hh:v,Hl:A}=this;return[e,n,r,i,s,a,o,l,u,d,f,h,w,x,v,A]}set(e,n,r,i,s,a,o,l,u,d,f,h,w,x,v,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=w|0,this.Gl=x|0,this.Hh=v|0,this.Hl=A|0}process(e,n){for(let y=0;y<16;y++,n+=4)Pi[y]=e.getUint32(n),Ri[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const k=Pi[y-15]|0,B=Ri[y-15]|0,L=ke.rotrSH(k,B,1)^ke.rotrSH(k,B,8)^ke.shrSH(k,B,7),P=ke.rotrSL(k,B,1)^ke.rotrSL(k,B,8)^ke.shrSL(k,B,7),E=Pi[y-2]|0,V=Ri[y-2]|0,U=ke.rotrSH(E,V,19)^ke.rotrBH(E,V,61)^ke.shrSH(E,V,6),Y=ke.rotrSL(E,V,19)^ke.rotrBL(E,V,61)^ke.shrSL(E,V,6),we=ke.add4L(P,Y,Ri[y-7],Ri[y-16]),H=ke.add4H(we,L,U,Pi[y-7],Pi[y-16]);Pi[y]=H|0,Ri[y]=we|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:l,Dh:u,Dl:d,Eh:f,El:h,Fh:w,Fl:x,Gh:v,Gl:A,Hh:g,Hl:m}=this;for(let y=0;y<80;y++){const k=ke.rotrSH(f,h,14)^ke.rotrSH(f,h,18)^ke.rotrBH(f,h,41),B=ke.rotrSL(f,h,14)^ke.rotrSL(f,h,18)^ke.rotrBL(f,h,41),L=f&w^~f&v,P=h&x^~h&A,E=ke.add5L(m,B,P,sS[y],Ri[y]),V=ke.add5H(E,g,k,L,iS[y],Pi[y]),U=E|0,Y=ke.rotrSH(r,i,28)^ke.rotrBH(r,i,34)^ke.rotrBH(r,i,39),we=ke.rotrSL(r,i,28)^ke.rotrBL(r,i,34)^ke.rotrBL(r,i,39),H=r&s^r&o^s&o,X=i&a^i&l^a&l;g=v|0,m=A|0,v=w|0,A=x|0,w=f|0,x=h|0,{h:f,l:h}=ke.add(u|0,d|0,V|0,U|0),u=o|0,d=l|0,o=s|0,l=a|0,s=r|0,a=i|0;const _=ke.add3L(U,we,X);r=ke.add3H(_,V,Y,H),i=_|0}({h:r,l:i}=ke.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=ke.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l}=ke.add(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:d}=ke.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=ke.add(this.Eh|0,this.El|0,f|0,h|0),{h:w,l:x}=ke.add(this.Fh|0,this.Fl|0,w|0,x|0),{h:v,l:A}=ke.add(this.Gh|0,this.Gl|0,v|0,A|0),{h:g,l:m}=ke.add(this.Hh|0,this.Hl|0,g|0,m|0),this.set(r,i,s,a,o,l,u,d,f,h,w,x,v,A,g,m)}roundClean(){Pi.fill(0),Ri.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const oS=fg(()=>new aS);function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const l0=lS();l0.crypto||l0.msCrypto;function cS(t){switch(t){case"sha256":return o1.create();case"sha512":return oS.create()}C(!1,"invalid hashing algorithm name","algorithm",t)}const[h1,m1,g1]=[[],[],[]],uS=BigInt(0),Ml=BigInt(1),dS=BigInt(2),fS=BigInt(7),pS=BigInt(256),hS=BigInt(113);for(let t=0,e=Ml,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],h1.push(2*(5*r+n)),m1.push((t+1)*(t+2)/2%64);let i=uS;for(let s=0;s<7;s++)e=(e<<Ml^(e>>fS)*hS)%pS,e&dS&&(i^=Ml<<(Ml<<BigInt(s))-Ml);g1.push(i)}const[mS,gS]=c1(g1,!0),c0=(t,e,n)=>n>32?f1(t,e,n):u1(t,e,n),u0=(t,e,n)=>n>32?p1(t,e,n):d1(t,e,n);function yS(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,u=n[l],d=n[l+1],f=c0(u,d,1)^n[o],h=u0(u,d,1)^n[o+1];for(let w=0;w<50;w+=10)t[a+w]^=f,t[a+w+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=m1[a],l=c0(i,s,o),u=u0(i,s,o),d=h1[a];i=t[d],s=t[d+1],t[d]=l,t[d+1]=u}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=mS[r],t[1]^=gS[r]}n.fill(0)}class pg extends dg{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Bd(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=jk(this.state)}keccak(){yS(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){pl(this);const{blockLen:n,state:r}=this;e=bf(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){pl(this,!1),ug(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Bd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(n1(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new pg(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const wS=(t,e,n)=>fg(()=>new pg(e,t,n)),vS=wS(1,136,256/8);let y1=!1;const w1=function(t){return vS(t)};let v1=w1;function St(t){const e=Se(t,"data");return re(v1(e))}St._=w1;St.lock=function(){y1=!0};St.register=function(t){if(y1)throw new TypeError("keccak256 is locked");v1=t};Object.freeze(St);const x1=function(t){return cS("sha256").update(t).digest()};let b1=x1,A1=!1;function El(t){const e=Se(t,"data");return re(b1(e))}El._=x1;El.lock=function(){A1=!0};El.register=function(t){if(A1)throw new Error("sha256 is locked");b1=t};Object.freeze(El);Object.freeze(El);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const E1=BigInt(0),Af=BigInt(1),xS=BigInt(2),Ef=t=>t instanceof Uint8Array,bS=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hl(t){if(!Ef(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=bS[t[n]];return e}function C1(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ml(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function ha(t){return hg(hl(t))}function mg(t){if(!Ef(t))throw new Error("Uint8Array expected");return hg(hl(Uint8Array.from(t).reverse()))}function gl(t,e){return ml(t.toString(16).padStart(e*2,"0"))}function gg(t,e){return gl(t,e).reverse()}function AS(t){return ml(C1(t))}function ar(t,e,n){let r;if(typeof e=="string")try{r=ml(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Ef(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Ec(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Ef(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function ES(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function CS(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function kS(t){let e;for(e=0;t>E1;t>>=Af,e+=1);return e}function SS(t,e){return t>>BigInt(e)&Af}const TS=(t,e,n)=>t|(n?Af:E1)<<BigInt(e),yg=t=>(xS<<BigInt(t-1))-Af,dp=t=>new Uint8Array(t),d0=t=>Uint8Array.from(t);function k1(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=dp(t),i=dp(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...f)=>n(i,r,...f),l=(f=dp())=>{i=o(d0([0]),f),r=o(),f.length!==0&&(i=o(d0([1]),f),r=o())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=o();const w=r.slice();h.push(w),f+=r.length}return Ec(...h)};return(f,h)=>{a(),l(f);let w;for(;!(w=h(u()));)l();return a(),w}}const NS={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ru(t,e,n={}){const r=(i,s,a)=>{const o=NS[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(a&&l===void 0)&&!o(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const IS=Object.freeze(Object.defineProperty({__proto__:null,bitGet:SS,bitLen:kS,bitMask:yg,bitSet:TS,bytesToHex:hl,bytesToNumberBE:ha,bytesToNumberLE:mg,concatBytes:Ec,createHmacDrbg:k1,ensureBytes:ar,equalBytes:ES,hexToBytes:ml,hexToNumber:hg,numberToBytesBE:gl,numberToBytesLE:gg,numberToHexUnpadded:C1,numberToVarBytesBE:AS,utf8ToBytes:CS,validateObject:ru},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mt=BigInt(0),Et=BigInt(1),Fs=BigInt(2),PS=BigInt(3),Oh=BigInt(4),f0=BigInt(5),p0=BigInt(8);BigInt(9);BigInt(16);function vn(t,e){const n=t%e;return n>=Mt?n:e+n}function RS(t,e,n){if(n<=Mt||e<Mt)throw new Error("Expected power/modulo > 0");if(n===Et)return Mt;let r=Et;for(;e>Mt;)e&Et&&(r=r*t%n),t=t*t%n,e>>=Et;return r}function _n(t,e,n){let r=t;for(;e-- >Mt;)r*=r,r%=n;return r}function Fh(t,e){if(t===Mt||e<=Mt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=vn(t,e),r=e,i=Mt,s=Et;for(;n!==Mt;){const o=r/n,l=r%n,u=i-s*o;r=n,n=l,i=s,s=u}if(r!==Et)throw new Error("invert: does not exist");return vn(i,e)}function jS(t){const e=(t-Et)/Fs;let n,r,i;for(n=t-Et,r=0;n%Fs===Mt;n/=Fs,r++);for(i=Fs;i<t&&RS(i,e,t)!==t-Et;i++);if(r===1){const a=(t+Et)/Oh;return function(l,u){const d=l.pow(u,a);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(n+Et)/Fs;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=r,d=o.pow(o.mul(o.ONE,i),n),f=o.pow(l,s),h=o.pow(l,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let w=1;for(let v=o.sqr(h);w<u&&!o.eql(v,o.ONE);w++)v=o.sqr(v);const x=o.pow(d,Et<<BigInt(u-w-1));d=o.sqr(x),f=o.mul(f,x),h=o.mul(h,d),u=w}return f}}function BS(t){if(t%Oh===PS){const e=(t+Et)/Oh;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%p0===f0){const e=(t-f0)/p0;return function(r,i){const s=r.mul(i,Fs),a=r.pow(s,e),o=r.mul(i,a),l=r.mul(r.mul(o,Fs),a),u=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return jS(t)}const LS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function OS(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=LS.reduce((r,i)=>(r[i]="function",r),e);return ru(t,n)}function FS(t,e,n){if(n<Mt)throw new Error("Expected power > 0");if(n===Mt)return t.ONE;if(n===Et)return e;let r=t.ONE,i=e;for(;n>Mt;)n&Et&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Et;return r}function MS(t,e){const n=new Array(e.length),r=e.reduce((s,a,o)=>t.is0(a)?s:(n[o]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,o)=>t.is0(a)?s:(n[o]=t.mul(s,n[o]),t.mul(s,a)),i),n}function S1(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function US(t,e,n=!1,r={}){if(t<=Mt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=S1(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=BS(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:yg(i),ZERO:Mt,ONE:Et,create:l=>vn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Mt<=l&&l<t},is0:l=>l===Mt,isOdd:l=>(l&Et)===Et,neg:l=>vn(-l,t),eql:(l,u)=>l===u,sqr:l=>vn(l*l,t),add:(l,u)=>vn(l+u,t),sub:(l,u)=>vn(l-u,t),mul:(l,u)=>vn(l*u,t),pow:(l,u)=>FS(o,l,u),div:(l,u)=>vn(l*Fh(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Fh(l,t),sqrt:r.sqrt||(l=>a(o,l)),invertBatch:l=>MS(o,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?gg(l,s):gl(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?mg(l):ha(l)}});return Object.freeze(o)}function T1(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function N1(t){const e=T1(t);return e+Math.ceil(e/2)}function DS(t,e,n=!1){const r=t.length,i=T1(e),s=N1(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const a=n?ha(t):mg(t),o=vn(a,e-Et)+Et;return n?gg(o,i):gl(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _S=BigInt(0),fp=BigInt(1);function zS(t,e){const n=(i,s)=>{const a=s.negate();return i?a:s},r=i=>{const s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:n,unsafeLadder(i,s){let a=t.ZERO,o=i;for(;s>_S;)s&fp&&(a=a.add(o)),o=o.double(),s>>=fp;return a},precomputeWindow(i,s){const{windows:a,windowSize:o}=r(s),l=[];let u=i,d=u;for(let f=0;f<a;f++){d=u,l.push(d);for(let h=1;h<o;h++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(i,s,a){const{windows:o,windowSize:l}=r(i);let u=t.ZERO,d=t.BASE;const f=BigInt(2**i-1),h=2**i,w=BigInt(i);for(let x=0;x<o;x++){const v=x*l;let A=Number(a&f);a>>=w,A>l&&(A-=h,a+=fp);const g=v,m=v+Math.abs(A)-1,y=x%2!==0,k=A<0;A===0?d=d.add(n(y,s[g])):u=u.add(n(k,s[m]))}return{p:u,f:d}},wNAFCached(i,s,a,o){const l=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&s.set(i,o(u))),this.wNAF(l,u,a)}}}function I1(t){return OS(t.Fp),ru(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...S1(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HS(t){const e=I1(t);ru(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:WS,hexToBytes:GS}=IS,Gs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Gs;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:WS(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Gs,n=typeof t=="string"?GS(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Gs._parseInt(n.subarray(2)),{d:a,l:o}=Gs._parseInt(s);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,a=i.length/2,o=n(s),l=n(a);return`30${n(a+s+4)}02${l}${i}02${o}${r}`}},ui=BigInt(0),Kn=BigInt(1);BigInt(2);const h0=BigInt(3);BigInt(4);function $S(t){const e=HS(t),{Fp:n}=e,r=e.toBytes||((x,v,A)=>{const g=v.toAffine();return Ec(Uint8Array.from([4]),n.toBytes(g.x),n.toBytes(g.y))}),i=e.fromBytes||(x=>{const v=x.subarray(1),A=n.fromBytes(v.subarray(0,n.BYTES)),g=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:A,y:g}});function s(x){const{a:v,b:A}=e,g=n.sqr(x),m=n.mul(g,x);return n.add(n.add(m,n.mul(x,v)),A)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(x){return typeof x=="bigint"&&ui<x&&x<e.n}function o(x){if(!a(x))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(x){const{allowedPrivateKeyLengths:v,nByteLength:A,wrapPrivateKey:g,n:m}=e;if(v&&typeof x!="bigint"){if(x instanceof Uint8Array&&(x=hl(x)),typeof x!="string"||!v.includes(x.length))throw new Error("Invalid key");x=x.padStart(A*2,"0")}let y;try{y=typeof x=="bigint"?x:ha(ar("private key",x,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof x}`)}return g&&(y=vn(y,m)),o(y),y}const u=new Map;function d(x){if(!(x instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,A,g){if(this.px=v,this.py=A,this.pz=g,v==null||!n.isValid(v))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(g==null||!n.isValid(g))throw new Error("z required")}static fromAffine(v){const{x:A,y:g}=v||{};if(!v||!n.isValid(A)||!n.isValid(g))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const m=y=>n.eql(y,n.ZERO);return m(A)&&m(g)?f.ZERO:new f(A,g,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const A=n.invertBatch(v.map(g=>g.pz));return v.map((g,m)=>g.toAffine(A[m])).map(f.fromAffine)}static fromHex(v){const A=f.fromAffine(i(ar("pointHex",v)));return A.assertValidity(),A}static fromPrivateKey(v){return f.BASE.multiply(l(v))}_setWindowSize(v){this._WINDOW_SIZE=v,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:A}=this.toAffine();if(!n.isValid(v)||!n.isValid(A))throw new Error("bad point: x or y not FE");const g=n.sqr(A),m=s(v);if(!n.eql(g,m))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){d(v);const{px:A,py:g,pz:m}=this,{px:y,py:k,pz:B}=v,L=n.eql(n.mul(A,B),n.mul(y,m)),P=n.eql(n.mul(g,B),n.mul(k,m));return L&&P}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:A}=e,g=n.mul(A,h0),{px:m,py:y,pz:k}=this;let B=n.ZERO,L=n.ZERO,P=n.ZERO,E=n.mul(m,m),V=n.mul(y,y),U=n.mul(k,k),Y=n.mul(m,y);return Y=n.add(Y,Y),P=n.mul(m,k),P=n.add(P,P),B=n.mul(v,P),L=n.mul(g,U),L=n.add(B,L),B=n.sub(V,L),L=n.add(V,L),L=n.mul(B,L),B=n.mul(Y,B),P=n.mul(g,P),U=n.mul(v,U),Y=n.sub(E,U),Y=n.mul(v,Y),Y=n.add(Y,P),P=n.add(E,E),E=n.add(P,E),E=n.add(E,U),E=n.mul(E,Y),L=n.add(L,E),U=n.mul(y,k),U=n.add(U,U),E=n.mul(U,Y),B=n.sub(B,E),P=n.mul(U,V),P=n.add(P,P),P=n.add(P,P),new f(B,L,P)}add(v){d(v);const{px:A,py:g,pz:m}=this,{px:y,py:k,pz:B}=v;let L=n.ZERO,P=n.ZERO,E=n.ZERO;const V=e.a,U=n.mul(e.b,h0);let Y=n.mul(A,y),we=n.mul(g,k),H=n.mul(m,B),X=n.add(A,g),_=n.add(y,k);X=n.mul(X,_),_=n.add(Y,we),X=n.sub(X,_),_=n.add(A,m);let z=n.add(y,B);return _=n.mul(_,z),z=n.add(Y,H),_=n.sub(_,z),z=n.add(g,m),L=n.add(k,B),z=n.mul(z,L),L=n.add(we,H),z=n.sub(z,L),E=n.mul(V,_),L=n.mul(U,H),E=n.add(L,E),L=n.sub(we,E),E=n.add(we,E),P=n.mul(L,E),we=n.add(Y,Y),we=n.add(we,Y),H=n.mul(V,H),_=n.mul(U,_),we=n.add(we,H),H=n.sub(Y,H),H=n.mul(V,H),_=n.add(_,H),Y=n.mul(we,_),P=n.add(P,Y),Y=n.mul(z,_),L=n.mul(X,L),L=n.sub(L,Y),Y=n.mul(X,we),E=n.mul(z,E),E=n.add(E,Y),new f(L,P,E)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return w.wNAFCached(this,u,v,A=>{const g=n.invertBatch(A.map(m=>m.pz));return A.map((m,y)=>m.toAffine(g[y])).map(f.fromAffine)})}multiplyUnsafe(v){const A=f.ZERO;if(v===ui)return A;if(o(v),v===Kn)return this;const{endo:g}=e;if(!g)return w.unsafeLadder(this,v);let{k1neg:m,k1:y,k2neg:k,k2:B}=g.splitScalar(v),L=A,P=A,E=this;for(;y>ui||B>ui;)y&Kn&&(L=L.add(E)),B&Kn&&(P=P.add(E)),E=E.double(),y>>=Kn,B>>=Kn;return m&&(L=L.negate()),k&&(P=P.negate()),P=new f(n.mul(P.px,g.beta),P.py,P.pz),L.add(P)}multiply(v){o(v);let A=v,g,m;const{endo:y}=e;if(y){const{k1neg:k,k1:B,k2neg:L,k2:P}=y.splitScalar(A);let{p:E,f:V}=this.wNAF(B),{p:U,f:Y}=this.wNAF(P);E=w.constTimeNegate(k,E),U=w.constTimeNegate(L,U),U=new f(n.mul(U.px,y.beta),U.py,U.pz),g=E.add(U),m=V.add(Y)}else{const{p:k,f:B}=this.wNAF(A);g=k,m=B}return f.normalizeZ([g,m])[0]}multiplyAndAddUnsafe(v,A,g){const m=f.BASE,y=(B,L)=>L===ui||L===Kn||!B.equals(m)?B.multiplyUnsafe(L):B.multiply(L),k=y(this,A).add(y(v,g));return k.is0()?void 0:k}toAffine(v){const{px:A,py:g,pz:m}=this,y=this.is0();v==null&&(v=y?n.ONE:n.inv(m));const k=n.mul(A,v),B=n.mul(g,v),L=n.mul(m,v);if(y)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:k,y:B}}isTorsionFree(){const{h:v,isTorsionFree:A}=e;if(v===Kn)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:A}=e;return v===Kn?this:A?A(f,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(f,this,v)}toHex(v=!0){return hl(this.toRawBytes(v))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,w=zS(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function VS(t){const e=I1(t);return ru(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function QS(t){const e=VS(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function a(_){return ui<_&&_<n.ORDER}function o(_){return vn(_,r)}function l(_){return Fh(_,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=$S({...e,toBytes(_,z,ee){const T=z.toAffine(),F=n.toBytes(T.x),W=Ec;return ee?W(Uint8Array.from([z.hasEvenY()?2:3]),F):W(Uint8Array.from([4]),F,n.toBytes(T.y))},fromBytes(_){const z=_.length,ee=_[0],T=_.subarray(1);if(z===i&&(ee===2||ee===3)){const F=ha(T);if(!a(F))throw new Error("Point is not on curve");const W=f(F);let M=n.sqrt(W);const ve=(M&Kn)===Kn;return(ee&1)===1!==ve&&(M=n.neg(M)),{x:F,y:M}}else if(z===s&&ee===4){const F=n.fromBytes(T.subarray(0,n.BYTES)),W=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:F,y:W}}else throw new Error(`Point of length ${z} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=_=>hl(gl(_,e.nByteLength));function x(_){const z=r>>Kn;return _>z}function v(_){return x(_)?o(-_):_}const A=(_,z,ee)=>ha(_.slice(z,ee));class g{constructor(z,ee,T){this.r=z,this.s=ee,this.recovery=T,this.assertValidity()}static fromCompact(z){const ee=e.nByteLength;return z=ar("compactSignature",z,ee*2),new g(A(z,0,ee),A(z,ee,2*ee))}static fromDER(z){const{r:ee,s:T}=Gs.toSig(ar("DER",z));return new g(ee,T)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(z){return new g(this.r,this.s,z)}recoverPublicKey(z){const{r:ee,s:T,recovery:F}=this,W=P(ar("msgHash",z));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const M=F===2||F===3?ee+e.n:ee;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ve=F&1?"03":"02",Te=u.fromHex(ve+w(M)),be=l(M),Me=o(-W*be),Ae=o(T*be),He=u.BASE.multiplyAndAddUnsafe(Te,Me,Ae);if(!He)throw new Error("point at infinify");return He.assertValidity(),He}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ml(this.toDERHex())}toDERHex(){return Gs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ml(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const m={isValidPrivateKey(_){try{return d(_),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const _=N1(e.n);return DS(e.randomBytes(_),e.n)},precompute(_=8,z=u.BASE){return z._setWindowSize(_),z.multiply(BigInt(3)),z}};function y(_,z=!0){return u.fromPrivateKey(_).toRawBytes(z)}function k(_){const z=_ instanceof Uint8Array,ee=typeof _=="string",T=(z||ee)&&_.length;return z?T===i||T===s:ee?T===2*i||T===2*s:_ instanceof u}function B(_,z,ee=!0){if(k(_))throw new Error("first arg must be private key");if(!k(z))throw new Error("second arg must be public key");return u.fromHex(z).multiply(d(_)).toRawBytes(ee)}const L=e.bits2int||function(_){const z=ha(_),ee=_.length*8-e.nBitLength;return ee>0?z>>BigInt(ee):z},P=e.bits2int_modN||function(_){return o(L(_))},E=yg(e.nBitLength);function V(_){if(typeof _!="bigint")throw new Error("bigint expected");if(!(ui<=_&&_<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return gl(_,e.nByteLength)}function U(_,z,ee=Y){if(["recovered","canonical"].some(We=>We in ee))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:F}=e;let{lowS:W,prehash:M,extraEntropy:ve}=ee;W==null&&(W=!0),_=ar("msgHash",_),M&&(_=ar("prehashed msgHash",T(_)));const Te=P(_),be=d(z),Me=[V(be),V(Te)];if(ve!=null){const We=ve===!0?F(n.BYTES):ve;Me.push(ar("extraEntropy",We))}const Ae=Ec(...Me),He=Te;function gn(We){const Ge=L(We);if(!h(Ge))return;const $e=l(Ge),Ze=u.BASE.multiply(Ge).toAffine(),D=o(Ze.x);if(D===ui)return;const ne=o($e*o(He+D*be));if(ne===ui)return;let Re=(Ze.x===D?0:2)|Number(Ze.y&Kn),Ve=ne;return W&&x(ne)&&(Ve=v(ne),Re^=1),new g(D,Ve,Re)}return{seed:Ae,k2sig:gn}}const Y={lowS:e.lowS,prehash:!1},we={lowS:e.lowS,prehash:!1};function H(_,z,ee=Y){const{seed:T,k2sig:F}=U(_,z,ee),W=e;return k1(W.hash.outputLen,W.nByteLength,W.hmac)(T,F)}u.BASE._setWindowSize(8);function X(_,z,ee,T=we){var Ze;const F=_;if(z=ar("msgHash",z),ee=ar("publicKey",ee),"strict"in T)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:M}=T;let ve,Te;try{if(typeof F=="string"||F instanceof Uint8Array)try{ve=g.fromDER(F)}catch(D){if(!(D instanceof Gs.Err))throw D;ve=g.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:D,s:ne}=F;ve=new g(D,ne)}else throw new Error("PARSE");Te=u.fromHex(ee)}catch(D){if(D.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&ve.hasHighS())return!1;M&&(z=e.hash(z));const{r:be,s:Me}=ve,Ae=P(z),He=l(Me),gn=o(Ae*He),We=o(be*He),Ge=(Ze=u.BASE.multiplyAndAddUnsafe(Te,gn,We))==null?void 0:Ze.toAffine();return Ge?o(Ge.x)===be:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:B,sign:H,verify:X,ProjectivePoint:u,Signature:g,utils:m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function KS(t){return{hash:t,hmac:(e,...n)=>s1(t,e,Ok(...n)),randomBytes:Fk}}function JS(t,e){const n=r=>QS({...t,...KS(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const P1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),m0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),YS=BigInt(1),Mh=BigInt(2),g0=(t,e)=>(t+e/Mh)/e;function ZS(t){const e=P1,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=_n(d,n,e)*d%e,h=_n(f,n,e)*d%e,w=_n(h,Mh,e)*u%e,x=_n(w,i,e)*w%e,v=_n(x,s,e)*x%e,A=_n(v,o,e)*v%e,g=_n(A,l,e)*A%e,m=_n(g,o,e)*v%e,y=_n(m,n,e)*d%e,k=_n(y,a,e)*x%e,B=_n(k,r,e)*u%e,L=_n(B,Mh,e);if(!Uh.eql(Uh.sqr(L),t))throw new Error("Cannot find square root");return L}const Uh=US(P1,void 0,void 0,{sqrt:ZS}),ji=JS({a:BigInt(0),b:BigInt(7),Fp:Uh,n:m0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=m0,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-YS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=g0(s*t,e),l=g0(-r*t,e);let u=vn(t-o*n-l*i,e),d=vn(-o*r-l*s,e);const f=u>a,h=d>a;if(f&&(u=e-u),h&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},o1);BigInt(0);ji.ProjectivePoint;const Cc="0x0000000000000000000000000000000000000000",y0="0x0000000000000000000000000000000000000000000000000000000000000000",w0=BigInt(0),v0=BigInt(1),Dh=BigInt(2),x0=BigInt(27),b0=BigInt(28),Iu=BigInt(35),R1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),XS=R1/Dh,qS=Symbol.for("nodejs.util.inspect.custom"),Ns={};function pp(t){return Ei(Tt(t),32)}var So,Ir,To,Hi;const zn=class zn{constructor(e,n,r,i){O(this,So);O(this,Ir);O(this,To);O(this,Hi);eu(e,Ns,"Signature"),b(this,So,n),b(this,Ir,r),b(this,To,i),b(this,Hi,null)}get r(){return p(this,So)}set r(e){C(ho(e)===32,"invalid r","value",e),b(this,So,re(e))}get s(){return C(parseInt(p(this,Ir).substring(0,3))<8,"non-canonical s; use ._s","s",p(this,Ir)),p(this,Ir)}set s(e){C(ho(e)===32,"invalid s","value",e),b(this,Ir,re(e))}get _s(){return p(this,Ir)}isValid(){return BigInt(p(this,Ir))<=XS}get v(){return p(this,To)}set v(e){const n=xe(e,"value");C(n===27||n===28,"invalid v","v",e),b(this,To,n)}get networkV(){return p(this,Hi)}get legacyChainId(){const e=this.networkV;return e==null?null:zn.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Se(this.s);return this.yParity&&(e[0]|=128),re(e)}get compactSerialized(){return ct([this.r,this.yParityAndS])}get serialized(){return ct([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=R1-BigInt(this._s),n=55-this.v,r=new zn(Ns,this.r,pp(e),n);return this.networkV&&b(r,Hi,this.networkV),r}clone(){const e=new zn(Ns,this.r,this._s,this.v);return this.networkV&&b(e,Hi,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[qS](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const n=le(e,"v");return n==x0||n==b0?w0:(C(n>=Iu,"invalid EIP-155 v","v",e),(n-Iu)/Dh)}static getChainIdV(e,n){return le(e)*Dh+BigInt(35+n-27)}static getNormalizedV(e){const n=le(e);return n===w0||n===x0?27:n===v0||n===b0?28:(C(n>=Iu,"invalid v","v",e),n&v0?27:28)}static from(e){function n(u,d){C(u,d,"signature",e)}if(e==null)return new zn(Ns,y0,y0,27);if(typeof e=="string"){const u=Se(e,"signature");if(u.length===64){const d=re(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new zn(Ns,d,re(f),h)}if(u.length===65){const d=re(u.slice(0,32)),f=re(u.slice(32,64)),h=zn.getNormalizedV(u[64]);return new zn(Ns,d,f,h)}n(!1,"invalid raw signature length")}if(e instanceof zn)return e.clone();const r=e.r;n(r!=null,"missing r");const i=pp(r),s=function(u,d){if(u!=null)return pp(u);if(d!=null){n(tt(d,32),"invalid yParityAndS");const f=Se(d);return f[0]&=127,re(f)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:o}=function(u,d,f){if(u!=null){const h=le(u);return{networkV:h>=Iu?h:void 0,v:zn.getNormalizedV(h)}}if(d!=null)return n(tt(d,32),"invalid yParityAndS"),{v:Se(d)[0]&128?28:27};if(f!=null){switch(xe(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new zn(Ns,i,s,o);return a&&b(l,Hi,a),n(e.yParity==null||xe(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};So=new WeakMap,Ir=new WeakMap,To=new WeakMap,Hi=new WeakMap;let Sn=zn;var ni;const Ms=class Ms{constructor(e){O(this,ni);C(ho(e)===32,"invalid private key","privateKey","[REDACTED]"),b(this,ni,re(e))}get privateKey(){return p(this,ni)}get publicKey(){return Ms.computePublicKey(p(this,ni))}get compressedPublicKey(){return Ms.computePublicKey(p(this,ni),!0)}sign(e){C(ho(e)===32,"invalid digest length","digest",e);const n=ji.sign(cn(e),cn(p(this,ni)),{lowS:!0});return Sn.from({r:ws(n.r,32),s:ws(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Ms.computePublicKey(e);return re(ji.getSharedSecret(cn(p(this,ni)),Se(n),!1))}static computePublicKey(e,n){let r=Se(e,"key");if(r.length===32){const s=ji.getPublicKey(r,!!n);return re(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=ji.ProjectivePoint.fromHex(r);return re(i.toRawBytes(n))}static recoverPublicKey(e,n){C(ho(e)===32,"invalid digest length","digest",e);const r=Sn.from(n);let i=ji.Signature.fromCompact(cn(ct([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(cn(e));return C(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=ji.ProjectivePoint.fromHex(Ms.computePublicKey(e).substring(2)),s=ji.ProjectivePoint.fromHex(Ms.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};ni=new WeakMap;let kc=Ms;const eT=BigInt(0),tT=BigInt(36);function A0(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Se(St(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const wg={};for(let t=0;t<10;t++)wg[String(t)]=String(t);for(let t=0;t<26;t++)wg[String.fromCharCode(65+t)]=String(10+t);const E0=15;function nT(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>wg[r]).join("");for(;e.length>=E0;){let r=e.substring(0,E0);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const rT=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function iT(t){t=t.toLowerCase();let e=eT;for(let n=0;n<t.length;n++)e=e*tT+rT[t[n]];return e}function ze(t){if(C(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=A0(t);return C(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){C(t.substring(2,4)===nT(t),"bad icap checksum","address",t);let e=iT(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return A0("0x"+e)}C(!1,"invalid address","address",t)}function sT(t){const e=ze(t.from);let r=le(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,ze(gt(St(gi([e,r])),12))}function j1(t){return t&&typeof t.getAddress=="function"}async function hp(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(G(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),C(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),ze(n)}function dn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?ze(t):(G(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),hp(t,e.resolveName(t)));if(j1(t))return hp(t,t.getAddress());if(t&&typeof t.then=="function")return hp(t,t);C(!1,"unsupported addressable value","target",t)}const Jr={};function ae(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new tn(Jr,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Ue(t,e){return new tn(Jr,`bytes${e||""}`,t,{size:e})}const C0=Symbol.for("_ethers_typed");var na;const Yr=class Yr{constructor(e,n,r,i){j(this,"type");j(this,"value");O(this,na);j(this,"_typedSymbol");i==null&&(i=null),eu(Jr,e,"Typed"),ye(this,{_typedSymbol:C0,type:n,value:r}),b(this,na,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return p(this,na)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return p(this,na)===!0?-1:p(this,na)===!1?this.value.length:null}static from(e,n){return new Yr(Jr,e,n)}static uint8(e){return ae(e,8)}static uint16(e){return ae(e,16)}static uint24(e){return ae(e,24)}static uint32(e){return ae(e,32)}static uint40(e){return ae(e,40)}static uint48(e){return ae(e,48)}static uint56(e){return ae(e,56)}static uint64(e){return ae(e,64)}static uint72(e){return ae(e,72)}static uint80(e){return ae(e,80)}static uint88(e){return ae(e,88)}static uint96(e){return ae(e,96)}static uint104(e){return ae(e,104)}static uint112(e){return ae(e,112)}static uint120(e){return ae(e,120)}static uint128(e){return ae(e,128)}static uint136(e){return ae(e,136)}static uint144(e){return ae(e,144)}static uint152(e){return ae(e,152)}static uint160(e){return ae(e,160)}static uint168(e){return ae(e,168)}static uint176(e){return ae(e,176)}static uint184(e){return ae(e,184)}static uint192(e){return ae(e,192)}static uint200(e){return ae(e,200)}static uint208(e){return ae(e,208)}static uint216(e){return ae(e,216)}static uint224(e){return ae(e,224)}static uint232(e){return ae(e,232)}static uint240(e){return ae(e,240)}static uint248(e){return ae(e,248)}static uint256(e){return ae(e,256)}static uint(e){return ae(e,256)}static int8(e){return ae(e,-8)}static int16(e){return ae(e,-16)}static int24(e){return ae(e,-24)}static int32(e){return ae(e,-32)}static int40(e){return ae(e,-40)}static int48(e){return ae(e,-48)}static int56(e){return ae(e,-56)}static int64(e){return ae(e,-64)}static int72(e){return ae(e,-72)}static int80(e){return ae(e,-80)}static int88(e){return ae(e,-88)}static int96(e){return ae(e,-96)}static int104(e){return ae(e,-104)}static int112(e){return ae(e,-112)}static int120(e){return ae(e,-120)}static int128(e){return ae(e,-128)}static int136(e){return ae(e,-136)}static int144(e){return ae(e,-144)}static int152(e){return ae(e,-152)}static int160(e){return ae(e,-160)}static int168(e){return ae(e,-168)}static int176(e){return ae(e,-176)}static int184(e){return ae(e,-184)}static int192(e){return ae(e,-192)}static int200(e){return ae(e,-200)}static int208(e){return ae(e,-208)}static int216(e){return ae(e,-216)}static int224(e){return ae(e,-224)}static int232(e){return ae(e,-232)}static int240(e){return ae(e,-240)}static int248(e){return ae(e,-248)}static int256(e){return ae(e,-256)}static int(e){return ae(e,-256)}static bytes1(e){return Ue(e,1)}static bytes2(e){return Ue(e,2)}static bytes3(e){return Ue(e,3)}static bytes4(e){return Ue(e,4)}static bytes5(e){return Ue(e,5)}static bytes6(e){return Ue(e,6)}static bytes7(e){return Ue(e,7)}static bytes8(e){return Ue(e,8)}static bytes9(e){return Ue(e,9)}static bytes10(e){return Ue(e,10)}static bytes11(e){return Ue(e,11)}static bytes12(e){return Ue(e,12)}static bytes13(e){return Ue(e,13)}static bytes14(e){return Ue(e,14)}static bytes15(e){return Ue(e,15)}static bytes16(e){return Ue(e,16)}static bytes17(e){return Ue(e,17)}static bytes18(e){return Ue(e,18)}static bytes19(e){return Ue(e,19)}static bytes20(e){return Ue(e,20)}static bytes21(e){return Ue(e,21)}static bytes22(e){return Ue(e,22)}static bytes23(e){return Ue(e,23)}static bytes24(e){return Ue(e,24)}static bytes25(e){return Ue(e,25)}static bytes26(e){return Ue(e,26)}static bytes27(e){return Ue(e,27)}static bytes28(e){return Ue(e,28)}static bytes29(e){return Ue(e,29)}static bytes30(e){return Ue(e,30)}static bytes31(e){return Ue(e,31)}static bytes32(e){return Ue(e,32)}static address(e){return new Yr(Jr,"address",e)}static bool(e){return new Yr(Jr,"bool",!!e)}static bytes(e){return new Yr(Jr,"bytes",e)}static string(e){return new Yr(Jr,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Yr(Jr,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===C0}static dereference(e,n){if(Yr.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};na=new WeakMap;let tn=Yr;class aT extends Si{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=tn.dereference(n,"string");try{r=ze(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return ze(ws(e.readValue(),20))}}class oT extends Si{constructor(n){super(n.name,n.type,"_",n.dynamic);j(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function B1(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(u=>{const d=u.localName;return G(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),G(!l[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),l[d]=!0,n[d]})}else C(!1,"invalid tuple value","tuple",n);C(e.length===r.length,"types/value length mismatch","tuple",n);let i=new Rh,s=new Rh,a=[];e.forEach((l,u)=>{let d=r[u];if(l.dynamic){let f=s.length;l.encode(s,d);let h=i.writeUpdatableValue();a.push(w=>{h(w+f)})}else l.encode(i,d)}),a.forEach(l=>{l(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(s),o}function L1(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let a=null;if(s.dynamic){let o=t.readIndex(),l=i.subReader(o);try{a=s.decode(l)}catch(u){if(Gt(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(o){if(Gt(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}if(a==null)throw new Error("investigate");n.push(a),r.push(s.localName||null)}),fl.fromItems(n,r)}class lT extends Si{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",a=r===-1||n.dynamic;super("array",s,i,a);j(this,"coder");j(this,"length");ye(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=tn.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),Hx(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<i.length;o++)a.push(this.coder);return B1(n,a,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),G(r*un<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*un,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new oT(this.coder));return L1(n,i)}}class cT extends Si{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=tn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class O1 extends Si{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=cn(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class uT extends O1{constructor(e){super("bytes",e)}decode(e){return re(super.decode(e))}}class dT extends Si{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);j(this,"size");ye(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=cn(tn.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return re(n.readBytes(this.size))}}const fT=new Uint8Array([]);class pT extends Si{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(fT)}decode(e){return e.readBytes(0),null}}const hT=BigInt(0),mT=BigInt(1),gT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class yT extends Si{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);j(this,"size");j(this,"signed");ye(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=le(tn.dereference(r,this.type)),s=Ws(gT,un*8);if(this.signed){let a=Ws(s,this.size*8-1);(i>a||i<-(a+mT))&&this._throwError("value out-of-bounds",r),i=$x(i,8*un)}else(i<hT||i>Ws(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Ws(n.readValue(),this.size*8);return this.signed&&(r=Pd(r,this.size*8)),r}}class wT extends O1{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,mi(tn.dereference(n,"string")))}decode(e){return Rd(super.decode(e))}}class Pu extends Si{constructor(n,r){let i=!1;const s=[];n.forEach(o=>{o.dynamic&&(i=!0),s.push(o.type)});const a="tuple("+s.join(",")+")";super("tuple",a,r,i);j(this,"coders");ye(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,s)=>{let a=i.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),n[a]==null&&(n[a]=n[s]))}),Object.freeze(n)}encode(n,r){const i=tn.dereference(r,"tuple");return B1(n,this.coders,i)}decode(n){return L1(n,this.coders)}}function mp(t,e){return{address:ze(t),storageKeys:e.map((n,r)=>(C(tt(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Pa(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(C(n.length===2,"invalid slot set",`value[${r}]`,n),mp(n[0],n[1])):(C(n!=null&&typeof n=="object","invalid address-slot set","value",t),mp(n.address,n.storageKeys)));C(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return mp(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function F1(t){return{address:ze(t.address),nonce:le(t.nonce!=null?t.nonce:0),chainId:le(t.chainId!=null?t.chainId:0),signature:Sn.from(t.signature)}}function vT(t){let e;return typeof t=="string"?e=kc.computePublicKey(t,!1):e=t.publicKey,ze(St("0x"+e.substring(4)).substring(26))}function xT(t,e){return vT(kc.recoverPublicKey(t,e))}const Ft=BigInt(0),bT=BigInt(2),AT=BigInt(27),ET=BigInt(28),CT=BigInt(35),kT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ST=Symbol.for("nodejs.util.inspect.custom"),gp=4096*32,Ku=128;function TT(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Se(t.blobToKzgCommitment(re(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Se(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Se(t.blobToKZGCommitment(re(r)));C(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Se(t.computeBlobProof(re(r),re(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Se(t.computeBlobKZGProof(re(r),re(i)));C(!1,"unsupported KZG library","kzg",t)}}}function k0(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=El(e).substring(4),"0x"+n}function Cl(t){return t==="0x"?null:ze(t)}function Cf(t,e){try{return Pa(t)}catch(n){C(!1,n.message,e,t)}}function NT(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Cl(i[1]),nonce:Ye(i[2],"nonce"),chainId:Ye(i[0],"chainId"),signature:Sn.from({yParity:Ra(i[3],"yParity"),r:Ei(i[4],32),s:Ei(i[5],32)})})}return n}catch(n){C(!1,n.message,e,t)}}function Ra(t,e){return t==="0x"?0:xe(t,e)}function Ye(t,e){if(t==="0x")return Ft;const n=le(t,e);return C(n<=kT,"value exceeds uint size",e,n),n}function Le(t,e){const n=le(t,"value"),r=Tt(n);return C(r.length<=32,"value too large",`tx.${e}`,n),r}function kf(t){return Pa(t).map(e=>[e.address,e.storageKeys])}function IT(t){return t.map(e=>[Le(e.chainId,"chainId"),e.address,Le(e.nonce,"nonce"),Le(e.signature.yParity,"yParity"),Tt(e.signature.r),Tt(e.signature._s)])}function PT(t,e){C(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)C(tt(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function RT(t){const e=nu(t);C(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Ra(e[0],"nonce"),gasPrice:Ye(e[1],"gasPrice"),gasLimit:Ye(e[2],"gasLimit"),to:Cl(e[3]),value:Ye(e[4],"value"),data:re(e[5]),chainId:Ft};if(e.length===6)return n;const r=Ye(e[6],"v"),i=Ye(e[7],"r"),s=Ye(e[8],"s");if(i===Ft&&s===Ft)n.chainId=r;else{let a=(r-CT)/bT;a<Ft&&(a=Ft),n.chainId=a,C(a!==Ft||r===AT||r===ET,"non-canonical legacy v","v",e[6]),n.signature=Sn.from({r:Ei(e[7],32),s:Ei(e[8],32),v:r})}return n}function jT(t,e){const n=[Le(t.nonce,"nonce"),Le(t.gasPrice||0,"gasPrice"),Le(t.gasLimit,"gasLimit"),t.to||"0x",Le(t.value,"value"),t.data];let r=Ft;if(t.chainId!=Ft)r=le(t.chainId,"tx.chainId"),C(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Ft&&(n.push(Tt(r)),n.push("0x"),n.push("0x")),gi(n);let i=BigInt(27+e.yParity);return r!==Ft?i=Sn.getChainIdV(r,e.v):BigInt(e.v)!==i&&C(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Tt(i)),n.push(Tt(e.r)),n.push(Tt(e._s)),gi(n)}function Sf(t,e){let n;try{if(n=Ra(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{C(!1,"invalid yParity","yParity",e[0])}const r=Ei(e[1],32),i=Ei(e[2],32),s=Sn.from({r,s:i,yParity:n});t.signature=s}function BT(t){const e=nu(Se(t).slice(1));C(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",re(t));const n={type:2,chainId:Ye(e[0],"chainId"),nonce:Ra(e[1],"nonce"),maxPriorityFeePerGas:Ye(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ye(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ye(e[4],"gasLimit"),to:Cl(e[5]),value:Ye(e[6],"value"),data:re(e[7]),accessList:Cf(e[8],"accessList")};return e.length===9||Sf(n,e.slice(9)),n}function LT(t,e){const n=[Le(t.chainId,"chainId"),Le(t.nonce,"nonce"),Le(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Le(t.maxFeePerGas||0,"maxFeePerGas"),Le(t.gasLimit,"gasLimit"),t.to||"0x",Le(t.value,"value"),t.data,kf(t.accessList||[])];return e&&(n.push(Le(e.yParity,"yParity")),n.push(Tt(e.r)),n.push(Tt(e.s))),ct(["0x02",gi(n)])}function OT(t){const e=nu(Se(t).slice(1));C(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",re(t));const n={type:1,chainId:Ye(e[0],"chainId"),nonce:Ra(e[1],"nonce"),gasPrice:Ye(e[2],"gasPrice"),gasLimit:Ye(e[3],"gasLimit"),to:Cl(e[4]),value:Ye(e[5],"value"),data:re(e[6]),accessList:Cf(e[7],"accessList")};return e.length===8||Sf(n,e.slice(8)),n}function FT(t,e){const n=[Le(t.chainId,"chainId"),Le(t.nonce,"nonce"),Le(t.gasPrice||0,"gasPrice"),Le(t.gasLimit,"gasLimit"),t.to||"0x",Le(t.value,"value"),t.data,kf(t.accessList||[])];return e&&(n.push(Le(e.yParity,"recoveryParam")),n.push(Tt(e.r)),n.push(Tt(e.s))),ct(["0x01",gi(n)])}function MT(t){let e=nu(Se(t).slice(1)),n="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const a=e[1],o=e[2],l=e[3];C(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),C(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),C(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),C(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),C(a.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let u=0;u<e[1].length;u++)i.push({data:a[u],commitment:o[u],proof:l[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){n="3 (EIP-7594 network format)",r=xe(e[1]);const a=e[2],o=e[3],l=e[4];C(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),C(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),C(Array.isArray(o),"invalid EIP-7594 network format: commitments not an array","fields[3]",o),C(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),C(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),C(a.length*Ku===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let u=0;u<a.length;u++){const d=[];for(let f=0;f<Ku;f++)d.push(l[u*Ku+f]);i.push({data:a[u],commitment:o[u],proof:ct(d)})}e=e[0]}C(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",re(t));const s={type:3,chainId:Ye(e[0],"chainId"),nonce:Ra(e[1],"nonce"),maxPriorityFeePerGas:Ye(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ye(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ye(e[4],"gasLimit"),to:Cl(e[5]),value:Ye(e[6],"value"),data:re(e[7]),accessList:Cf(e[8],"accessList"),maxFeePerBlobGas:Ye(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(s.blobs=i),C(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),C(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<s.blobVersionedHashes.length;a++)C(tt(s.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||Sf(s,e.slice(11)),s}function UT(t,e,n){const r=[Le(t.chainId,"chainId"),Le(t.nonce,"nonce"),Le(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Le(t.maxFeePerGas||0,"maxFeePerGas"),Le(t.gasLimit,"gasLimit"),t.to||Cc,Le(t.value,"value"),t.data,kf(t.accessList||[]),Le(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),PT(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(Le(e.yParity,"yParity")),r.push(Tt(e.r)),r.push(Tt(e.s)),n)){if(t.blobWrapperVersion!=null){const i=Tt(t.blobWrapperVersion),s=[];for(const{proof:a}of n){const o=Se(a),l=o.length/Ku;for(let u=0;u<o.length;u+=l)s.push(o.subarray(u,u+l))}return ct(["0x03",gi([r,i,n.map(a=>a.data),n.map(a=>a.commitment),s])])}return ct(["0x03",gi([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])])}return ct(["0x03",gi(r)])}function DT(t){const e=nu(Se(t).slice(1));C(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",re(t));const n={type:4,chainId:Ye(e[0],"chainId"),nonce:Ra(e[1],"nonce"),maxPriorityFeePerGas:Ye(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ye(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ye(e[4],"gasLimit"),to:Cl(e[5]),value:Ye(e[6],"value"),data:re(e[7]),accessList:Cf(e[8],"accessList"),authorizationList:NT(e[9],"authorizationList")};return e.length===10||Sf(n,e.slice(10)),n}function _T(t,e){const n=[Le(t.chainId,"chainId"),Le(t.nonce,"nonce"),Le(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Le(t.maxFeePerGas||0,"maxFeePerGas"),Le(t.gasLimit,"gasLimit"),t.to||"0x",Le(t.value,"value"),t.data,kf(t.accessList||[]),IT(t.authorizationList||[])];return e&&(n.push(Le(e.yParity,"yParity")),n.push(Tt(e.r)),n.push(Tt(e.s))),ct(["0x04",gi(n)])}var ur,No,Io,Po,Ro,jo,Bo,Lo,Oo,Fo,Mo,Uo,ra,Wi,Pr,Gi,Do,_o,zo,Ju;const Tr=class Tr{constructor(){O(this,zo);O(this,ur);O(this,No);O(this,Io);O(this,Po);O(this,Ro);O(this,jo);O(this,Bo);O(this,Lo);O(this,Oo);O(this,Fo);O(this,Mo);O(this,Uo);O(this,ra);O(this,Wi);O(this,Pr);O(this,Gi);O(this,Do);O(this,_o);b(this,ur,null),b(this,No,null),b(this,Po,0),b(this,Ro,Ft),b(this,jo,null),b(this,Bo,null),b(this,Lo,null),b(this,Io,"0x"),b(this,Oo,Ft),b(this,Fo,Ft),b(this,Mo,null),b(this,Uo,null),b(this,ra,null),b(this,Wi,null),b(this,Pr,null),b(this,Gi,null),b(this,Do,null),b(this,_o,null)}get type(){return p(this,ur)}set type(e){switch(e){case null:b(this,ur,null);break;case 0:case"legacy":b(this,ur,0);break;case 1:case"berlin":case"eip-2930":b(this,ur,1);break;case 2:case"london":case"eip-1559":b(this,ur,2);break;case 3:case"cancun":case"eip-4844":b(this,ur,3);break;case 4:case"pectra":case"eip-7702":b(this,ur,4);break;default:C(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=p(this,No);return e==null&&this.type===3?Cc:e}set to(e){b(this,No,e==null?null:ze(e))}get nonce(){return p(this,Po)}set nonce(e){b(this,Po,xe(e,"value"))}get gasLimit(){return p(this,Ro)}set gasLimit(e){b(this,Ro,le(e))}get gasPrice(){const e=p(this,jo);return e==null&&(this.type===0||this.type===1)?Ft:e}set gasPrice(e){b(this,jo,e==null?null:le(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=p(this,Bo);return e??(this.type===2||this.type===3?Ft:null)}set maxPriorityFeePerGas(e){b(this,Bo,e==null?null:le(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=p(this,Lo);return e??(this.type===2||this.type===3?Ft:null)}set maxFeePerGas(e){b(this,Lo,e==null?null:le(e,"maxFeePerGas"))}get data(){return p(this,Io)}set data(e){b(this,Io,re(e))}get value(){return p(this,Oo)}set value(e){b(this,Oo,le(e,"value"))}get chainId(){return p(this,Fo)}set chainId(e){b(this,Fo,le(e))}get signature(){return p(this,Mo)||null}set signature(e){b(this,Mo,e==null?null:Sn.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const n=this.authorizationList;if(n){for(const r of n)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=p(this,Uo)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){b(this,Uo,e==null?null:Pa(e))}get authorizationList(){const e=p(this,Do)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){b(this,Do,e==null?null:e.map(n=>F1(n)))}get maxFeePerBlobGas(){const e=p(this,ra);return e==null&&this.type===3?Ft:e}set maxFeePerBlobGas(e){b(this,ra,e==null?null:le(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=p(this,Wi);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){C(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)C(tt(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}b(this,Wi,e)}get blobs(){return p(this,Gi)==null?null:p(this,Gi).map(e=>Object.assign({},e))}set blobs(e){if(e==null){b(this,Gi,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(cg(s)){G(p(this,Pr),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=Se(s);if(C(a.length<=gp,"blob is too large",`blobs[${i}]`,s),a.length!==gp){const u=new Uint8Array(gp);u.set(a),a=u}const o=p(this,Pr).blobToKzgCommitment(a),l=re(p(this,Pr).computeBlobKzgProof(a,o));n.push({data:re(a),commitment:re(o),proof:l}),r.push(k0(1,o))}else{const a=re(s.data),o=re(s.commitment),l=re(s.proof);n.push({data:a,commitment:o,proof:l}),r.push(k0(1,o))}}b(this,Gi,n),b(this,Wi,r)}get kzg(){return p(this,Pr)}set kzg(e){e==null?b(this,Pr,null):b(this,Pr,TT(e))}get blobWrapperVersion(){return p(this,_o)}set blobWrapperVersion(e){b(this,_o,e)}get hash(){return this.signature==null?null:St($(this,zo,Ju).call(this,!0,!1))}get unsignedHash(){return St(this.unsignedSerialized)}get from(){return this.signature==null?null:xT(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:kc.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return $(this,zo,Ju).call(this,!0,!0)}get unsignedSerialized(){return $(this,zo,Ju).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=p(this,ra)!=null||p(this,Wi);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&G(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),G(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),G(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Tr.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[ST](){return this.toString()}toString(){const e=[],n=i=>{let s=this[i];typeof s=="string"&&(s=JSON.stringify(s)),e.push(`${i}: ${s}`)};this.type&&n("type"),n("to"),n("data"),n("nonce"),n("gasLimit"),n("value"),this.chainId!=null&&n("chainId"),this.signature&&(n("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const s of r){const a=[];a.push(`address: ${JSON.stringify(s.address)}`),s.nonce!=null&&a.push(`nonce: ${s.nonce}`),s.chainId!=null&&a.push(`chainId: ${s.chainId}`),s.signature&&a.push(`signature: ${s.signature.toString()}`),i.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new Tr;if(typeof e=="string"){const r=Se(e);if(r[0]>=127)return Tr.from(RT(r));switch(r[0]){case 1:return Tr.from(OT(r));case 2:return Tr.from(BT(r));case 3:return Tr.from(MT(r));case 4:return Tr.from(DT(r))}G(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Tr;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Sn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobWrapperVersion!=null&&(n.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(C(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),C(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(C(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),C(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};ur=new WeakMap,No=new WeakMap,Io=new WeakMap,Po=new WeakMap,Ro=new WeakMap,jo=new WeakMap,Bo=new WeakMap,Lo=new WeakMap,Oo=new WeakMap,Fo=new WeakMap,Mo=new WeakMap,Uo=new WeakMap,ra=new WeakMap,Wi=new WeakMap,Pr=new WeakMap,Gi=new WeakMap,Do=new WeakMap,_o=new WeakMap,zo=new WeakSet,Ju=function(e,n){G(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return jT(this,r);case 1:return FT(this,r);case 2:return LT(this,r);case 3:return UT(this,r,n?this.blobs:null);case 4:return _T(this,r)}G(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Ld=Tr;function ba(t){return St(mi(t))}var zT="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";const S0=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),T0=4;function HT(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let B=1;B<r;B++)s.push(i+=n());let a=n(),o=e;e+=a;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,h=2**f,w=h>>>1,x=w>>1,v=h-1;let A=0;for(let B=0;B<f;B++)A=A<<1|d();let g=[],m=0,y=h;for(;;){let B=Math.floor(((A-m+1)*i-1)/y),L=0,P=r;for(;P-L>1;){let U=L+P>>>1;B<s[U]?P=U:L=U}if(L==0)break;g.push(L);let E=m+Math.floor(y*s[L]/i),V=m+Math.floor(y*s[L+1]/i)-1;for(;!((E^V)&w);)A=A<<1&v|d(),E=E<<1&v,V=V<<1&v|1;for(;E&~V&x;)A=A&w|A<<1&v>>>1|d(),E=E<<1^w,V=(V^w)<<1|w|1;m=E,y=1+V-E}let k=r-4;return g.map(B=>{switch(B-k){case 3:return k+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return k+256+(t[o++]<<8|t[o++]);case 1:return k+t[o++];default:return B-1}})}function WT(t){let e=0;return()=>t[e++]}function M1(t){return WT(HT(GT(t)))}function GT(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,a=0,o=0;i<n;i++)o=o<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(r[s++]=o>>(a-=8));return r}function $T(t){return t&1?~t>>1:t>>1}function VT(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=$T(e());return n}function Sc(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function U1(t){return Tc(()=>{let e=Sc(t);if(e.length)return e})}function D1(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(QT(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(KT(n,t))}return e.flat()}function Tc(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function _1(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)VT(t,n).forEach((s,a)=>r[a].push(s));return r}function QT(t,e){let n=1+e(),r=e(),i=Tc(e);return _1(i.length,1+t,e).flatMap((a,o)=>{let[l,...u]=a;return Array(i[o]).fill().map((d,f)=>{let h=f*r;return[l+f*n,u.map(w=>w+h)]})})}function KT(t,e){let n=1+e();return _1(n,1+t,e).map(i=>[i[0],i.slice(1)])}function JT(t){let e=[],n=Sc(t);return i(r([]),[]),e;function r(s){let a=t(),o=Tc(()=>{let l=Sc(t).map(u=>n[u]);if(l.length)return r(l)});return{S:a,B:o,Q:s}}function i({S:s,B:a},o,l){if(!(s&4&&l===o[o.length-1])){s&2&&(l=o[o.length-1]),s&1&&e.push(o);for(let u of a)for(let d of u.Q)i(u,[...o,d],l)}}}function YT(t){return t.toString(16).toUpperCase().padStart(2,"0")}function z1(t){return`{${YT(t)}}`}function ZT(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function yl(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function XT(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var qT="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";const Nc=44032,Od=4352,Fd=4449,Md=4519,H1=19,W1=21,wl=28,Ud=W1*wl,eN=H1*Ud,tN=Nc+eN,nN=Od+H1,rN=Fd+W1,iN=Md+wl;function Wl(t){return t>>24&255}function G1(t){return t&16777215}let _h,N0,zh,Yu;function sN(){let t=M1(qT);_h=new Map(U1(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),N0=new Set(Sc(t)),zh=new Map,Yu=new Map;for(let[e,n]of D1(t)){if(!N0.has(e)&&n.length==2){let[r,i]=n,s=Yu.get(r);s||(s=new Map,Yu.set(r,s)),s.set(i,e)}zh.set(e,n.reverse())}}function $1(t){return t>=Nc&&t<tN}function aN(t,e){if(t>=Od&&t<nN&&e>=Fd&&e<rN)return Nc+(t-Od)*Ud+(e-Fd)*wl;if($1(t)&&e>Md&&e<iN&&(t-Nc)%wl==0)return t+(e-Md);{let n=Yu.get(t);return n&&(n=n.get(e),n)?n:-1}}function V1(t){_h||sN();let e=[],n=[],r=!1;function i(s){let a=_h.get(s);a&&(r=!0,s|=a),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if($1(s)){let a=s-Nc,o=a/Ud|0,l=a%Ud/wl|0,u=a%wl;i(Od+o),i(Fd+l),u>0&&i(Md+u)}else{let a=zh.get(s);a?n.push(...a):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Wl(e[0]);for(let a=1;a<e.length;a++){let o=Wl(e[a]);if(o==0||s<=o){s=o;continue}let l=a-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(s=Wl(e[--l]),s<=o))break}s=Wl(e[a])}}return e}function oN(t){let e=[],n=[],r=-1,i=0;for(let s of t){let a=Wl(s),o=G1(s);if(r==-1)a==0?r=o:e.push(o);else if(i>0&&i>=a)a==0?(e.push(r,...n),n.length=0,r=o):n.push(o),i=a;else{let l=aN(r,o);l>=0?r=l:i==0&&a==0?(e.push(r),r=o):(n.push(o),i=a)}}return r>=0&&e.push(r,...n),e}function Q1(t){return V1(t).map(G1)}function lN(t){return oN(V1(t))}const I0=45,K1=".",J1=65039,Y1=1,Dd=t=>Array.from(t);function Ic(t,e){return t.P.has(e)||t.Q.has(e)}class cN extends Array{get is_emoji(){return!0}}let Hh,Z1,$s,Wh,X1,go,yp,Ua,Ls,P0,Gh;function vg(){if(Hh)return;let t=M1(zT);const e=()=>Sc(t),n=()=>new Set(e()),r=(d,f)=>f.forEach(h=>d.add(h));Hh=new Map(D1(t)),Z1=n(),$s=e(),Wh=new Set(e().map(d=>$s[d])),$s=new Set($s),X1=n(),n();let i=U1(t),s=t();const a=()=>{let d=new Set;return e().forEach(f=>r(d,i[f])),r(d,e()),d};go=Tc(d=>{let f=Tc(t).map(h=>h+96);if(f.length){let h=d>=s;f[0]-=32,f=yl(f),h&&(f=`Restricted[${f}]`);let w=a(),x=a(),v=!t();return{N:f,P:w,Q:x,M:v,R:h}}}),yp=n(),Ua=new Map;let o=e().concat(Dd(yp)).sort((d,f)=>d-f);o.forEach((d,f)=>{let h=t(),w=o[f]=h?o[f-h]:{V:[],M:new Map};w.V.push(d),yp.has(d)||Ua.set(d,w)});for(let{V:d,M:f}of new Set(Ua.values())){let h=[];for(let x of d){let v=go.filter(g=>Ic(g,x)),A=h.find(({G:g})=>v.some(m=>g.has(m)));A||(A={G:new Set,V:[]},h.push(A)),A.V.push(x),r(A.G,v)}let w=h.flatMap(x=>Dd(x.G));for(let{G:x,V:v}of h){let A=new Set(w.filter(g=>!x.has(g)));for(let g of v)f.set(g,A)}}Ls=new Set;let l=new Set;const u=d=>Ls.has(d)?l.add(d):Ls.add(d);for(let d of go){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of Ls)!Ua.has(d)&&!l.has(d)&&Ua.set(d,Y1);r(Ls,Q1(Ls)),P0=JT(t).map(d=>cN.from(d)).sort(XT),Gh=new Map;for(let d of P0){let f=[Gh];for(let h of d){let w=f.map(x=>{let v=x.get(h);return v||(v=new Map,x.set(h,v)),v});h===J1?f.push(...w):f=w}for(let h of f)h.V=d}}function xg(t){return(q1(t)?"":`${bg(Tf([t]))} `)+z1(t)}function bg(t){return`"${t}"`}function uN(t){if(t.length>=4&&t[2]==I0&&t[3]==I0)throw new Error(`invalid label extension: "${yl(t.slice(0,4))}"`)}function dN(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function fN(t){let e=t[0],n=S0.get(e);if(n)throw nc(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let a=S0.get(e);if(a){if(i==s)throw nc(`${n} + ${a}`);i=s+1,n=a}}if(i==r)throw nc(`trailing ${n}`)}function Tf(t,e=1/0,n=z1){let r=[];pN(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let a=0;a<s;a++){let o=t[a];q1(o)&&(r.push(yl(t.slice(i,a))),r.push(n(o)),i=a+1)}return r.push(yl(t.slice(i,s))),r.join("")}function pN(t){return vg(),$s.has(t)}function q1(t){return vg(),X1.has(t)}function hN(t){return wN(mN(t,lN,bN))}function mN(t,e,n){if(!t)return[];vg();let r=0;return t.split(K1).map(i=>{let s=ZT(i),a={input:s,offset:r};r+=s.length+1;try{let o=a.tokens=xN(s,e,n),l=o.length,u;if(!l)throw new Error("empty label");let d=a.output=o.flat();if(dN(d),!(a.emoji=l>1||o[0].is_emoji)&&d.every(h=>h<128))uN(d),u="ASCII";else{let h=o.flatMap(w=>w.is_emoji?[]:w);if(!h.length)u="Emoji";else{if($s.has(d[0]))throw nc("leading combining mark");for(let v=1;v<l;v++){let A=o[v];if(!A.is_emoji&&$s.has(A[0]))throw nc(`emoji + combining mark: "${yl(o[v-1])} + ${Tf([A[0]])}"`)}fN(d);let w=Dd(new Set(h)),[x]=yN(w);vN(x,h),gN(x,w),u=x.N}}a.type=u}catch(o){a.error=o}return a})}function gN(t,e){let n,r=[];for(let i of e){let s=Ua.get(i);if(s===Y1)return;if(s){let a=s.M.get(i);if(n=n?n.filter(o=>a.has(o)):Dd(a),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>Ic(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function yN(t){let e=go;for(let n of t){let r=e.filter(i=>Ic(i,n));if(!r.length)throw go.some(i=>Ic(i,n))?tb(e[0],n):eb(n);if(e=r,r.length==1)break}return e}function wN(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${bg(Tf(e,63))}: ${i}`)}return yl(r)}).join(K1)}function eb(t){return new Error(`disallowed character: ${xg(t)}`)}function tb(t,e){let n=xg(e),r=go.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function nc(t){return new Error(`illegal placement: ${t}`)}function vN(t,e){for(let n of e)if(!Ic(t,n))throw tb(t,n);if(t.M){let n=Q1(e);for(let r=1,i=n.length;r<i;r++)if(Wh.has(n[r])){let s=r+1;for(let a;s<i&&Wh.has(a=n[s]);s++)for(let o=r;o<s;o++)if(n[o]==a)throw new Error(`duplicate non-spacing marks: ${xg(a)}`);if(s-r>T0)throw new Error(`excessive non-spacing marks: ${bg(Tf(n.slice(r-1,s)))} (${s-r}/${T0})`);r=s}}}function xN(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=AN(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let a=t.pop();if(Ls.has(a))i.push(a);else{let o=Hh.get(a);if(o)i.push(...o);else if(!Z1.has(a))throw eb(a)}}}return i.length&&r.push(e(i)),r}function bN(t){return t.filter(e=>e!=J1)}function AN(t,e){let n=Gh,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const nb=new Uint8Array(32);nb.fill(0);function R0(t){return C(t.length!==0,"invalid ENS name; empty component","comp",t),t}function rb(t){const e=mi(EN(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(R0(e.slice(r,i))),r=i+1);return C(r<e.length,"invalid ENS name; empty component","name",t),n.push(R0(e.slice(r))),n}function EN(t){try{if(t.length===0)throw new Error("empty label");return hN(t)}catch(e){C(!1,`invalid ENS name (${e.message})`,"name",t)}}function $h(t){C(typeof t=="string","invalid ENS name; not a string","name",t),C(t.length,"invalid ENS name (empty label)","name",t);let e=nb;const n=rb(t);for(;n.length;)e=St(ct([e,St(n.pop())]));return re(e)}function CN(t,e){const n=e;return C(n<=255,"DNS encoded label cannot exceed 255","length",n),re(ct(rb(t).map(r=>{C(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const ib=new Uint8Array(32);ib.fill(0);const kN=BigInt(-1),sb=BigInt(0),ab=BigInt(1),SN=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function TN(t){const e=Se(t),n=e.length%32;return n?ct([e,ib.slice(n)]):re(e)}const NN=ws(ab,32),IN=ws(sb,32),j0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},wp=["name","version","chainId","verifyingContract","salt"];function B0(t){return function(e){return C(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const PN={name:B0("name"),version:B0("version"),chainId:function(t){const e=le(t,"domain.chainId");return C(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):mr(e)},verifyingContract:function(t){try{return ze(t).toLowerCase()}catch{}C(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Se(t,"domain.salt");return C(e.length===32,'invalid domain value "salt"',"domain.salt",t),re(e)}};function vp(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);C(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Ws(SN,n?r-1:r),s=n?(i+ab)*kN:sb;return function(a){const o=le(a,"value");return C(o>=s&&o<=i,`value out-of-bounds for ${t}`,"value",o),ws(n?$x(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return C(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Se(r);return C(i.length===n,`invalid length for ${t}`,"value",r),TN(r)}}}switch(t){case"address":return function(e){return Ei(ze(e),32)};case"bool":return function(e){return e?NN:IN};case"bytes":return function(e){return St(e)};case"string":return function(e){return ba(e)}}return null}function L0(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Ru(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Mc,ri,Ho,Vd,ob;const Hn=class Hn{constructor(e){O(this,Vd);j(this,"primaryType");O(this,Mc);O(this,ri);O(this,Ho);b(this,ri,new Map),b(this,Ho,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:u,type:d})=>{let{base:f,index:h}=Ru(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),b(this,Mc,JSON.stringify(s));for(const l in s){const u=new Set;for(const d of s[l]){C(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(l)}`,"types",e),u.add(d.name);const f=Ru(d.type).base;C(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!vp(f)&&(C(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(l),n.get(l).add(f))}}const a=Array.from(r.keys()).filter(l=>r.get(l).length===0);C(a.length!==0,"missing primary type","types",e),C(a.length===1,`ambiguous primary types or unused types: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),ye(this,{primaryType:a[0]});function o(l,u){C(!u.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),u.add(l);for(const d of n.get(l))if(r.has(d)){o(d,u);for(const f of u)i.get(f).add(d)}u.delete(l)}o(this.primaryType,new Set);for(const[l,u]of i){const d=Array.from(u);d.sort(),p(this,ri).set(l,L0(l,s[l])+d.map(f=>L0(f,s[f])).join(""))}}get types(){return JSON.parse(p(this,Mc))}getEncoder(e){let n=p(this,Ho).get(e);return n||(n=$(this,Vd,ob).call(this,e),p(this,Ho).set(e,n)),n}encodeType(e){const n=p(this,ri).get(e);return C(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return St(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(vp(e))return r(e,n);const i=Ru(e).array;if(i)return C(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(a=>this._visit(i.prefix,a,r));const s=this.types[e];if(s)return s.reduce((a,{name:o,type:l})=>(a[o]=this._visit(l,n[o],r),a),{});C(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Hn(e)}static getPrimaryType(e){return Hn.from(e).primaryType}static hashStruct(e,n,r){return Hn.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=j0[r];C(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>wp.indexOf(r.name)-wp.indexOf(i.name)),Hn.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return ct(["0x1901",Hn.hashDomain(e),Hn.from(n).hash(r)])}static hash(e,n,r){return St(Hn.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const s={};e.verifyingContract&&!tt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Hn.from(n);a.visit(r,(o,l)=>(o==="address"&&!tt(l,20)&&(s[l]="0x"),l));for(const o in s)s[o]=await i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=a.visit(r,(o,l)=>o==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){Hn.hashDomain(e);const i={},s=[];wp.forEach(l=>{const u=e[l];u!=null&&(i[l]=PN[l](u),s.push({name:l,type:j0[l]}))});const a=Hn.from(n);n=a.types;const o=Object.assign({},n);return C(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=s,a.encode(r),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return re(Se(u));if(l.match(/^u?int/))return le(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return C(typeof u=="string","invalid string","value",u),u}C(!1,"unsupported type","type",l)})}}};Mc=new WeakMap,ri=new WeakMap,Ho=new WeakMap,Vd=new WeakSet,ob=function(e){{const i=vp(e);if(i)return i}const n=Ru(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return a=>{C(n.count===-1||n.count===a.length,`array length mismatch; expected length ${n.count}`,"value",a);let o=a.map(s);return p(this,ri).has(i)&&(o=o.map(St)),St(ct(o))}}const r=this.types[e];if(r){const i=ba(p(this,ri).get(e));return s=>{const a=r.map(({name:o,type:l})=>{const u=this.getEncoder(l)(s[o]);return p(this,ri).has(l)?St(u):u});return a.unshift(i),ct(a)}}C(!1,`unknown type: ${e}`,"type",e)};let _d=Hn;function fn(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const RN="external public payable override",jN=fn(RN.split(" ")),lb="constant external internal payable private public pure view override",BN=fn(lb.split(" ")),cb="constructor error event fallback function receive struct",ub=fn(cb.split(" ")),db="calldata memory storage payable indexed",LN=fn(db.split(" ")),ON="tuple returns",FN=[cb,db,ON,lb].join(" "),MN=fn(FN.split(" ")),UN={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},DN=new RegExp("^(\\s*)"),_N=new RegExp("^([0-9]+)"),zN=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),fb=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),pb=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var zt,dr,Uc,Vh;const Qd=class Qd{constructor(e){O(this,Uc);O(this,zt);O(this,dr);b(this,zt,0),b(this,dr,e.slice())}get offset(){return p(this,zt)}get length(){return p(this,dr).length-p(this,zt)}clone(){return new Qd(p(this,dr))}reset(){b(this,zt,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=$(this,Uc,Vh).call(this,p(this,zt)+1,e.match+1);return b(this,zt,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;p(this,zt)<e.match-1;){const r=this.peek().linkNext;n.push($(this,Uc,Vh).call(this,p(this,zt)+1,r)),b(this,zt,r)}return b(this,zt,e.match+1),n}peek(){if(p(this,zt)>=p(this,dr).length)throw new Error("out-of-bounds");return p(this,dr)[p(this,zt)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Sl(this,zt)._++,e}toString(){const e=[];for(let n=p(this,zt);n<p(this,dr).length;n++){const r=p(this,dr)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};zt=new WeakMap,dr=new WeakMap,Uc=new WeakSet,Vh=function(e=0,n=0){return new Qd(p(this,dr).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let br=Qd;function Ss(t){const e=[],n=a=>{const o=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${o} at ${s}: ${a}`)};let r=[],i=[],s=0;for(;s<t.length;){let a=t.substring(s),o=a.match(DN);o&&(s+=o[1].length,a=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let u=UN[a[0]]||"";if(u){if(l.type=u,l.text=a[0],s++,u==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(u==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")l.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=xe(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(o=a.match(zN),o){if(l.text=o[1],s+=l.text.length,MN.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(pb)){l.type="TYPE";continue}l.type="ID";continue}if(o=a.match(_N),o){l.text=o[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new br(e.map(a=>Object.freeze(a)))}function O0(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Nf(t,e){if(e.peekKeyword(ub)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ci(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function hb(t){let e=Ci(t,BN);return O0(e,fn("constant payable nonpayable".split(" "))),O0(e,fn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function yi(t,e){return t.popParams().map(n=>Vt.from(n,e))}function mb(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return le(t.pop().text);throw new Error("invalid gas")}return null}function Aa(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const HN=new RegExp(/^(.*)\[([0-9]*)\]$/);function F0(t){const e=t.match(pb);if(C(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);C(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);C(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const dt={},Tn=Symbol.for("_ethers_internal"),M0="_ParamTypeInternal",U0="_ErrorInternal",D0="_EventInternal",_0="_ConstructorInternal",z0="_FallbackInternal",H0="_FunctionInternal",W0="_StructInternal";var Wo,Zu;const Wn=class Wn{constructor(e,n,r,i,s,a,o,l){O(this,Wo);j(this,"name");j(this,"type");j(this,"baseType");j(this,"indexed");j(this,"components");j(this,"arrayLength");j(this,"arrayChildren");if(eu(e,dt,"ParamType"),Object.defineProperty(this,Tn,{value:M0}),a&&(a=Object.freeze(a.slice())),i==="array"){if(o==null||l==null)throw new Error("")}else if(o!=null||l!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");ye(this,{name:n,type:r,baseType:i,indexed:s,components:a,arrayLength:o,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return $(this,Wo,Zu).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(Wn.isParamType(e))return e;if(typeof e=="string")try{return Wn.from(Ss(e),n)}catch{C(!1,"invalid param type","obj",e)}else if(e instanceof br){let o="",l="",u=null;Ci(e,fn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",u=e.popParams().map(v=>Wn.from(v)),o=`tuple(${u.map(v=>v.format()).join(",")})`):(o=F0(e.popType("TYPE")),l=o);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const v=e.pop();d=new Wn(dt,"",o,l,null,u,f,d),f=v.value,o+=v.text,l="array",u=null}let h=null;if(Ci(e,LN).has("indexed")){if(!n)throw new Error("");h=!0}const x=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Wn(dt,x,o,l,h,u,f,d)}const r=e.name;C(!r||typeof r=="string"&&r.match(fb),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(C(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,a=s.match(HN);if(a){const o=parseInt(a[2]||"-1"),l=Wn.from({type:a[1],components:e.components});return new Wn(dt,r||"",s,"array",i,null,o,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const o=e.components!=null?e.components.map(u=>Wn.from(u)):null;return new Wn(dt,r||"",s,"tuple",i,o,null,null)}return s=F0(e.type),new Wn(dt,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Tn]===M0}};Wo=new WeakSet,Zu=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=n.slice();o.forEach((l,u)=>{var d;$(d=a,Wo,Zu).call(d,e,l,r,f=>{o[u]=f})}),i(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(n))o=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");o=a.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((l,u)=>{var d;$(d=a[u],Wo,Zu).call(d,e,l,r,f=>{o[u]=f})}),i(o);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let Vt=Wn;class Ea{constructor(e,n,r){j(this,"type");j(this,"inputs");eu(e,dt,"Fragment"),r=Object.freeze(r.slice()),ye(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Ea.from(JSON.parse(e))}catch{}return Ea.from(Ss(e))}if(e instanceof br)switch(e.peekKeyword(ub)){case"constructor":return pi.from(e);case"error":return bn.from(e);case"event":return Ur.from(e);case"fallback":case"receive":return Xr.from(e);case"function":return Dr.from(e);case"struct":return ma.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return pi.from(e);case"error":return bn.from(e);case"event":return Ur.from(e);case"fallback":case"receive":return Xr.from(e);case"function":return Dr.from(e);case"struct":return ma.from(e)}G(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}C(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return pi.isFragment(e)}static isError(e){return bn.isFragment(e)}static isEvent(e){return Ur.isFragment(e)}static isFunction(e){return Dr.isFragment(e)}static isStruct(e){return ma.isFragment(e)}}class If extends Ea{constructor(n,r,i,s){super(n,r,s);j(this,"name");C(typeof i=="string"&&i.match(fb),"invalid identifier","name",i),s=Object.freeze(s.slice()),ye(this,{name:i})}}function Pc(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class bn extends If{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Tn,{value:U0})}get selector(){return ba(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Pc(e,this.inputs)),n.join(" ")}static from(e){if(bn.isFragment(e))return e;if(typeof e=="string")return bn.from(Ss(e));if(e instanceof br){const n=Nf("error",e),r=yi(e);return Aa(e),new bn(dt,n,r)}return new bn(dt,e.name,e.inputs?e.inputs.map(Vt.from):[])}static isFragment(e){return e&&e[Tn]===U0}}class Ur extends If{constructor(n,r,i,s){super(n,"event",r,i);j(this,"anonymous");Object.defineProperty(this,Tn,{value:D0}),ye(this,{anonymous:s})}get topicHash(){return ba(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+Pc(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Vt.from(s)),new Ur(dt,n,r,!1).topicHash}static from(n){if(Ur.isFragment(n))return n;if(typeof n=="string")try{return Ur.from(Ss(n))}catch{C(!1,"invalid event fragment","obj",n)}else if(n instanceof br){const r=Nf("event",n),i=yi(n,!0),s=!!Ci(n,fn(["anonymous"])).has("anonymous");return Aa(n),new Ur(dt,r,i,s)}return new Ur(dt,n.name,n.inputs?n.inputs.map(r=>Vt.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Tn]===D0}}class pi extends Ea{constructor(n,r,i,s,a){super(n,r,i);j(this,"payable");j(this,"gas");Object.defineProperty(this,Tn,{value:_0}),ye(this,{payable:s,gas:a})}format(n){if(G(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${Pc(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(pi.isFragment(n))return n;if(typeof n=="string")try{return pi.from(Ss(n))}catch{C(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof br){Ci(n,fn(["constructor"]));const r=yi(n),i=!!Ci(n,jN).has("payable"),s=mb(n);return Aa(n),new pi(dt,"constructor",r,i,s)}return new pi(dt,"constructor",n.inputs?n.inputs.map(Vt.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Tn]===_0}}class Xr extends Ea{constructor(n,r,i){super(n,"fallback",r);j(this,"payable");Object.defineProperty(this,Tn,{value:z0}),ye(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Xr.isFragment(n))return n;if(typeof n=="string")try{return Xr.from(Ss(n))}catch{C(!1,"invalid fallback fragment","obj",n)}else if(n instanceof br){const r=n.toString(),i=n.peekKeyword(fn(["fallback","receive"]));if(C(i,"type must be fallback or receive","obj",r),n.popKeyword(fn(["fallback","receive"]))==="receive"){const l=yi(n);return C(l.length===0,"receive cannot have arguments","obj.inputs",l),Ci(n,fn(["payable"])),Aa(n),new Xr(dt,[],!0)}let a=yi(n);a.length?C(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(l=>l.format("minimal")).join(", ")):a=[Vt.from("bytes")];const o=hb(n);if(C(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Ci(n,fn(["returns"])).has("returns")){const l=yi(n);C(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(u=>u.format("minimal")).join(", "))}return Aa(n),new Xr(dt,a,o==="payable")}if(n.type==="receive")return new Xr(dt,[],!0);if(n.type==="fallback"){const r=[Vt.from("bytes")],i=n.stateMutability==="payable";return new Xr(dt,r,i)}C(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Tn]===z0}}class Dr extends If{constructor(n,r,i,s,a,o){super(n,"function",r,s);j(this,"constant");j(this,"outputs");j(this,"stateMutability");j(this,"payable");j(this,"gas");Object.defineProperty(this,Tn,{value:H0}),a=Object.freeze(a.slice()),ye(this,{constant:i==="view"||i==="pure",gas:o,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return ba(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+Pc(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Pc(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Vt.from(s)),new Dr(dt,n,"view",r,[],null).selector}static from(n){if(Dr.isFragment(n))return n;if(typeof n=="string")try{return Dr.from(Ss(n))}catch{C(!1,"invalid function fragment","obj",n)}else if(n instanceof br){const i=Nf("function",n),s=yi(n),a=hb(n);let o=[];Ci(n,fn(["returns"])).has("returns")&&(o=yi(n));const l=mb(n);return Aa(n),new Dr(dt,i,a,s,o,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Dr(dt,n.name,r,n.inputs?n.inputs.map(Vt.from):[],n.outputs?n.outputs.map(Vt.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Tn]===H0}}class ma extends If{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Tn,{value:W0})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return ma.from(Ss(e))}catch{C(!1,"invalid struct fragment","obj",e)}else if(e instanceof br){const n=Nf("struct",e),r=yi(e);return Aa(e),new ma(dt,n,r)}return new ma(dt,e.name,e.inputs?e.inputs.map(Vt.from):[])}static isFragment(e){return e&&e[Tn]===W0}}const Ar=new Map;Ar.set(0,"GENERIC_PANIC");Ar.set(1,"ASSERT_FALSE");Ar.set(17,"OVERFLOW");Ar.set(18,"DIVIDE_BY_ZERO");Ar.set(33,"ENUM_RANGE_ERROR");Ar.set(34,"BAD_STORAGE_DATA");Ar.set(49,"STACK_UNDERFLOW");Ar.set(50,"ARRAY_RANGE_ERROR");Ar.set(65,"OUT_OF_MEMORY");Ar.set(81,"UNINITIALIZED_FUNCTION_CALL");const WN=new RegExp(/^bytes([0-9]*)$/),GN=new RegExp(/^(u?int)([0-9]*)$/);let xp=null,G0=1024;function $N(t,e,n,r){let i="missing revert data",s=null;const a=null;let o=null;if(n){i="execution reverted";const u=Se(n);if(n=re(n),u.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(re(u.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],u.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(re(u.slice(0,4))==="0x4e487b71")try{const d=Number(r.decode(["uint256"],u.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[d]},s=`Panic due to ${Ar.get(d)||"UNKNOWN"}(${d})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?ze(e.to):null,data:e.data||"0x"};return e.from&&(l.from=ze(e.from)),at(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:a,revert:o})}var $i,Da;const Kd=class Kd{constructor(){O(this,$i)}getDefaultValue(e){const n=e.map(i=>$(this,$i,Da).call(this,Vt.from(i)));return new Pu(n,"_").defaultValue()}encode(e,n){Hx(n.length,e.length,"types/values length mismatch");const r=e.map(a=>$(this,$i,Da).call(this,Vt.from(a))),i=new Pu(r,"_"),s=new Rh;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(a=>$(this,$i,Da).call(this,Vt.from(a)));return new Pu(i,"_").decode(new jh(n,r,G0))}static _setDefaultMaxInflation(e){C(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),G0=e}static defaultAbiCoder(){return xp==null&&(xp=new Kd),xp}static getBuiltinCallException(e,n,r){return $N(e,n,r,Kd.defaultAbiCoder())}};$i=new WeakSet,Da=function(e){if(e.isArray())return new lT($(this,$i,Da).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Pu(e.components.map(r=>$(this,$i,Da).call(this,r)),e.name);switch(e.baseType){case"address":return new aT(e.name);case"bool":return new cT(e.name);case"string":return new wT(e.name);case"bytes":return new uT(e.name);case"":return new pT(e.name)}let n=e.type.match(GN);if(n){let r=parseInt(n[2]||"256");return C(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new yT(r/8,n[1]==="int",e.name)}if(n=e.type.match(WN),n){let r=parseInt(n[1]);return C(r!==0&&r<=32,"invalid bytes length","param",e),new dT(r,e.name)}C(!1,"invalid type","type",e.type)};let Rc=Kd;class VN{constructor(e,n,r){j(this,"fragment");j(this,"name");j(this,"signature");j(this,"topic");j(this,"args");const i=e.name,s=e.format();ye(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class QN{constructor(e,n,r,i){j(this,"fragment");j(this,"name");j(this,"args");j(this,"signature");j(this,"selector");j(this,"value");const s=e.name,a=e.format();ye(this,{fragment:e,name:s,args:r,signature:a,selector:n,value:i})}}class KN{constructor(e,n,r){j(this,"fragment");j(this,"name");j(this,"args");j(this,"signature");j(this,"selector");const i=e.name,s=e.format();ye(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class $0{constructor(e){j(this,"hash");j(this,"_isIndexed");ye(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const V0={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Q0={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&V0[t.toString()]&&(e=V0[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Rr,jr,Br,Zt,$r,Xu,qu;const Us=class Us{constructor(e){O(this,$r);j(this,"fragments");j(this,"deploy");j(this,"fallback");j(this,"receive");O(this,Rr);O(this,jr);O(this,Br);O(this,Zt);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,b(this,Br,new Map),b(this,Rr,new Map),b(this,jr,new Map);const r=[];for(const a of n)try{r.push(Ea.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}ye(this,{fragments:Object.freeze(r)});let i=null,s=!1;b(this,Zt,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let l;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ye(this,{deploy:a});return;case"fallback":a.inputs.length===0?s=!0:(C(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${o}]`,a),i=a,s=i.payable);return;case"function":l=p(this,Br);break;case"event":l=p(this,jr);break;case"error":l=p(this,Rr);break;default:return}const u=a.format();l.has(u)||l.set(u,a)}),this.deploy||ye(this,{deploy:pi.from("constructor()")}),ye(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Rc.defaultAbiCoder()}getFunctionName(e){const n=$(this,$r,Xu).call(this,e,null,!1);return C(n,"no matching function","key",e),n.name}hasFunction(e){return!!$(this,$r,Xu).call(this,e,null,!1)}getFunction(e,n){return $(this,$r,Xu).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(p(this,Br).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(p(this,Br).get(i),r)}}getEventName(e){const n=$(this,$r,qu).call(this,e,null,!1);return C(n,"no matching event","key",e),n.name}hasEvent(e){return!!$(this,$r,qu).call(this,e,null,!1)}getEvent(e,n){return $(this,$r,qu).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(p(this,jr).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(p(this,jr).get(i),r)}}getError(e,n){if(tt(e)){const i=e.toLowerCase();if(Q0[i])return bn.from(Q0[i].signature);for(const s of p(this,Rr).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,a]of p(this,Rr))s.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?bn.from("error Error(string)"):e==="Panic"?bn.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(a=>JSON.stringify(a.format())).join(", ");C(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=bn.from(e).format(),e==="Error(string)")return bn.from("error Error(string)");if(e==="Panic(uint256)")return bn.from("error Panic(uint256)");const r=p(this,Rr).get(e);return r||null}forEachError(e){const n=Array.from(p(this,Rr).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(p(this,Rr).get(i),r)}}_decodeParams(e,n){return p(this,Zt).decode(e,n)}_encodeParams(e,n){return p(this,Zt).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);C(r,"unknown error","fragment",e),e=r}return C(gt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,gt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);C(r,"unknown error","fragment",e),e=r}return ct([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);C(r,"unknown function","fragment",e),e=r}return C(gt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,gt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);C(r,"unknown function","fragment",e),e=r}return ct([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);C(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=cn(n);if(i.length%32===0)try{return p(this,Zt).decode(e.outputs,i)}catch{r="could not decode result data"}G(!1,r,"BAD_DATA",{value:re(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Se(e,"data"),i=Rc.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const o=re(r.slice(0,4)),l=this.getError(o);if(l)try{const u=p(this,Zt).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);C(r,"unknown function","fragment",e),e=r}return re(p(this,Zt).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);C(s,"unknown event","eventFragment",e),e=s}G(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,a)=>s.type==="string"?ba(a):s.type==="bytes"?St(re(a)):(s.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":s.type.match(/^u?int/)?a=ws(a):s.type.match(/^bytes/)?a=ok(a,32):s.type==="address"&&p(this,Zt).encode(["address"],[a]),Ei(re(a),32));for(n.forEach((s,a)=>{const o=e.inputs[a];if(!o.indexed){C(s==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?C(!1,"filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?r.push(s.map(l=>i(o,l))):r.push(i(o,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const a=this.getEvent(e);C(a,"unknown event","eventFragment",e),e=a}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),C(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((a,o)=>{const l=n[o];if(a.indexed)if(a.type==="string")r.push(ba(l));else if(a.type==="bytes")r.push(St(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(p(this,Zt).encode([a.type],[l]))}else i.push(a),s.push(l)}),{data:p(this,Zt).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const w=this.getEvent(e);C(w,"unknown event","eventFragment",e),e=w}if(r!=null&&!e.anonymous){const w=e.topicHash;C(tt(r[0],32)&&r[0].toLowerCase()===w,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],a=[];e.inputs.forEach((w,x)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(i.push(Vt.from({type:"bytes32",name:w.name})),a.push(!0)):(i.push(w),a.push(!1)):(s.push(w),a.push(!1))});const o=r!=null?p(this,Zt).decode(i,ct(r)):null,l=p(this,Zt).decode(s,n,!0),u=[],d=[];let f=0,h=0;return e.inputs.forEach((w,x)=>{let v=null;if(w.indexed)if(o==null)v=new $0(null);else if(a[x])v=new $0(o[h++]);else try{v=o[h++]}catch(A){v=A}else try{v=l[f++]}catch(A){v=A}u.push(v),d.push(w.name||null)}),fl.fromItems(u,d)}parseTransaction(e){const n=Se(e.data,"tx.data"),r=le(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(re(n.slice(0,4)));if(!i)return null;const s=p(this,Zt).decode(i.inputs,n.slice(4));return new QN(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new VN(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=re(e),r=this.getError(gt(n,0,4));if(!r)return null;const i=p(this,Zt).decode(r.inputs,gt(n,4));return new KN(r,r.selector,i)}static from(e){return e instanceof Us?e:typeof e=="string"?new Us(JSON.parse(e)):typeof e.formatJson=="function"?new Us(e.formatJson()):typeof e.format=="function"?new Us(e.format("json")):new Us(e)}};Rr=new WeakMap,jr=new WeakMap,Br=new WeakMap,Zt=new WeakMap,$r=new WeakSet,Xu=function(e,n,r){if(tt(e)){const s=e.toLowerCase();for(const a of p(this,Br).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of p(this,Br))a.split("(")[0]===e&&s.push(o);if(n){const a=n.length>0?n[n.length-1]:null;let o=n.length,l=!0;tn.isTyped(a)&&a.type==="overrides"&&(l=!1,o--);for(let u=s.length-1;u>=0;u--){const d=s[u].inputs.length;d!==o&&(!l||d!==o-1)&&s.splice(u,1)}for(let u=s.length-1;u>=0;u--){const d=s[u].inputs;for(let f=0;f<n.length;f++)if(tn.isTyped(n[f])){if(f>=d.length){if(n[f].type==="overrides")continue;s.splice(u,1);break}if(n[f].type!==d[f].baseType){s.splice(u,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const a=n[n.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(o=>JSON.stringify(o.format())).join(", ");C(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return s[0]}const i=p(this,Br).get(Dr.from(e).format());return i||null},qu=function(e,n,r){if(tt(e)){const s=e.toLowerCase();for(const a of p(this,jr).values())if(s===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of p(this,jr))a.split("(")[0]===e&&s.push(o);if(n){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<n.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const o=s[a].inputs;for(let l=0;l<n.length;l++)if(tn.isTyped(n[l])&&n[l].type!==o[l].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(o=>JSON.stringify(o.format())).join(", ");C(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return s[0]}const i=p(this,jr).get(Ur.from(e).format());return i||null};let Qh=Us;const gb=BigInt(0);function yo(t){return t??null}function bt(t){return t==null?null:t.toString()}class K0{constructor(e,n,r){j(this,"gasPrice");j(this,"maxFeePerGas");j(this,"maxPriorityFeePerGas");ye(this,{gasPrice:yo(e),maxFeePerGas:yo(n),maxPriorityFeePerGas:yo(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:bt(e),maxFeePerGas:bt(n),maxPriorityFeePerGas:bt(r)}}}function zd(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=re(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=le(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=xe(t[i],`request.${i}`));return t.accessList&&(e.accessList=Pa(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>cg(i)?re(i):Object.assign({},i))),e}var ii;class JN{constructor(e,n){j(this,"provider");j(this,"number");j(this,"hash");j(this,"timestamp");j(this,"parentHash");j(this,"parentBeaconBlockRoot");j(this,"nonce");j(this,"difficulty");j(this,"gasLimit");j(this,"gasUsed");j(this,"stateRoot");j(this,"receiptsRoot");j(this,"blobGasUsed");j(this,"excessBlobGas");j(this,"miner");j(this,"prevRandao");j(this,"extraData");j(this,"baseFeePerGas");O(this,ii);b(this,ii,e.transactions.map(r=>typeof r!="string"?new jc(r,n):r)),ye(this,{provider:n,hash:yo(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:yo(e.prevRandao),extraData:e.extraData,baseFeePerGas:yo(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return p(this,ii).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=p(this,ii).slice();return e.length===0?[]:(G(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:a,miner:o,prevRandao:l,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:w,receiptsRoot:x,timestamp:v,transactions:A}=this;return{_type:"Block",baseFeePerGas:bt(e),difficulty:bt(n),extraData:r,gasLimit:bt(i),gasUsed:bt(s),blobGasUsed:bt(this.blobGasUsed),excessBlobGas:bt(this.excessBlobGas),hash:a,miner:o,prevRandao:l,nonce:u,number:d,parentHash:f,timestamp:v,parentBeaconBlockRoot:h,stateRoot:w,receiptsRoot:x,transactions:A}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return p(this,ii).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=p(this,ii)[e];else{const r=e.toLowerCase();for(const i of p(this,ii))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;C(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return YN(this)}}ii=new WeakMap;class iu{constructor(e,n){j(this,"provider");j(this,"transactionHash");j(this,"blockHash");j(this,"blockNumber");j(this,"removed");j(this,"address");j(this,"data");j(this,"topics");j(this,"index");j(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());ye(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:a,topics:o,transactionHash:l,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:a,topics:o,transactionHash:l,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return G(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return G(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return G(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return ZN(this)}}var Dc;class yb{constructor(e,n){j(this,"provider");j(this,"to");j(this,"from");j(this,"contractAddress");j(this,"hash");j(this,"index");j(this,"blockHash");j(this,"blockNumber");j(this,"logsBloom");j(this,"gasUsed");j(this,"blobGasUsed");j(this,"cumulativeGasUsed");j(this,"gasPrice");j(this,"blobGasPrice");j(this,"type");j(this,"status");j(this,"root");O(this,Dc);b(this,Dc,Object.freeze(e.logs.map(i=>new iu(i,n))));let r=gb;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),ye(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return p(this,Dc)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:a,blockNumber:o,logsBloom:l,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:bt(this.cumulativeGasUsed),from:n,gasPrice:bt(this.gasPrice),blobGasUsed:bt(this.blobGasUsed),blobGasPrice:bt(this.blobGasPrice),gasUsed:bt(this.gasUsed),hash:i,index:s,logs:u,logsBloom:l,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return vb(this)}reorderedEvent(e){return G(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),wb(this,e)}}Dc=new WeakMap;var Vi;const Ig=class Ig{constructor(e,n){j(this,"provider");j(this,"blockNumber");j(this,"blockHash");j(this,"index");j(this,"hash");j(this,"type");j(this,"to");j(this,"from");j(this,"nonce");j(this,"gasLimit");j(this,"gasPrice");j(this,"maxPriorityFeePerGas");j(this,"maxFeePerGas");j(this,"maxFeePerBlobGas");j(this,"data");j(this,"value");j(this,"chainId");j(this,"signature");j(this,"accessList");j(this,"blobVersionedHashes");j(this,"authorizationList");O(this,Vi);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,b(this,Vi,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:a,from:o,nonce:l,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:bt(this.chainId),data:u,from:o,gasLimit:bt(this.gasLimit),gasPrice:bt(this.gasPrice),hash:i,maxFeePerGas:bt(this.maxFeePerGas),maxPriorityFeePerGas:bt(this.maxPriorityFeePerGas),maxFeePerBlobGas:bt(this.maxFeePerBlobGas),nonce:l,signature:d,to:a,index:r,type:s,value:bt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await ln({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=p(this,Vi),a=-1,o=s===-1;const l=async()=>{if(o)return null;const{blockNumber:h,nonce:w}=await ln({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(w<this.nonce){s=h;return}if(o)return null;const x=await this.getTransaction();if(!(x&&x.blockNumber!=null))for(a===-1&&(a=s-3,a<p(this,Vi)&&(a=p(this,Vi)));a<=h;){if(o)return null;const v=await this.provider.getBlock(a,!0);if(v==null)return;for(const A of v)if(A===this.hash)return;for(let A=0;A<v.length;A++){const g=await v.getTransaction(A);if(g.from===this.from&&g.nonce===this.nonce){if(o)return null;const m=await this.provider.getTransactionReceipt(g.hash);if(m==null||h-m.blockNumber+1<r)return;let y="replaced";g.data===this.data&&g.to===this.to&&g.value===this.value?y="repriced":g.data==="0x"&&g.from===g.to&&g.value===gb&&(y="cancelled"),G(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:y==="replaced"||y==="cancelled",reason:y,replacement:g.replaceableTransaction(s),hash:g.hash,receipt:m})}}a++}},u=h=>{if(h==null||h.status!==0)return h;G(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(d);if(d){if(r===1||await d.confirmations()>=r)return u(d)}else if(await l(),r===0)return null;return await new Promise((h,w)=>{const x=[],v=()=>{x.forEach(g=>g())};if(x.push(()=>{o=!0}),i>0){const g=setTimeout(()=>{v(),w(at("wait for transaction timeout","TIMEOUT"))},i);x.push(()=>{clearTimeout(g)})}const A=async g=>{if(await g.confirmations()>=r){v();try{h(u(g))}catch(m){w(m)}}};if(x.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),s>=0){const g=async()=>{try{await l()}catch(m){if(Gt(m,"TRANSACTION_REPLACED")){v(),w(m);return}}o||this.provider.once("block",g)};x.push(()=>{this.provider.off("block",g)}),this.provider.once("block",g)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return G(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),vb(this)}reorderedEvent(e){return G(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),G(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),wb(this,e)}replaceableTransaction(e){C(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Ig(this,this.provider);return b(n,Vi,e),n}};Vi=new WeakMap;let jc=Ig;function YN(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function wb(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function vb(t){return{orphan:"drop-transaction",tx:t}}function ZN(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class Ag extends iu{constructor(n,r,i){super(n,n.provider);j(this,"interface");j(this,"fragment");j(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);ye(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class xb extends iu{constructor(n,r){super(n,n.provider);j(this,"error");ye(this,{error:r})}}var Go;class XN extends yb{constructor(n,r,i){super(i,r);O(this,Go);b(this,Go,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?p(this,Go).getEvent(n.topics[0]):null;if(r)try{return new Ag(n,p(this,Go),r)}catch(i){return new xb(n,i)}return n})}}Go=new WeakMap;var _c;class Eg extends jc{constructor(n,r,i){super(i,r);O(this,_c);b(this,_c,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new XN(p(this,_c),this.provider,i)}}_c=new WeakMap;class bb extends Vx{constructor(n,r,i,s){super(n,r,i);j(this,"log");ye(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class qN extends bb{constructor(e,n,r,i,s){super(e,n,r,new Ag(s,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);ye(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const J0=BigInt(0);function Ab(t){return t&&typeof t.call=="function"}function Eb(t){return t&&typeof t.estimateGas=="function"}function Pf(t){return t&&typeof t.resolveName=="function"}function Cb(t){return t&&typeof t.sendTransaction=="function"}function kb(t){if(t!=null){if(Pf(t))return t;if(t.provider)return t.provider}}var zc;class e5{constructor(e,n,r){O(this,zc);j(this,"fragment");if(ye(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Ca(e.runner,"resolveName"),s=Pf(i)?i:null;b(this,zc,async function(){const a=await Promise.all(n.inputs.map((o,l)=>r[l]==null?null:o.walkAsync(r[l],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>dn(h,s))):dn(f,s):f)));return e.interface.encodeFilterTopics(n,a)}())}getTopicFilter(){return p(this,zc)}}zc=new WeakMap;function Ca(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Vs(t){return t==null?null:t.provider||null}async function Sb(t,e){const n=tn.dereference(t,"overrides");C(typeof n=="object","invalid overrides parameter","overrides",t);const r=zd(n);return C(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),C(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function t5(t,e,n){const r=Ca(t,"resolveName"),i=Pf(r)?r:null;return await Promise.all(e.map((s,a)=>s.walkAsync(n[a],(o,l)=>(l=tn.dereference(l,o),o==="address"?dn(l,i):l))))}function n5(t){const e=async function(a){const o=await Sb(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await dn(o.from,kb(t.runner)));const l=t.interface,u=le(o.value||J0,"overrides.value")===J0,d=(o.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!d&&!u&&C(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),C(l.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data);const f=l.receive||l.fallback&&l.fallback.payable;return C(f||u,"cannot send value to non-payable fallback","overrides.value",o.value),C(l.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(a){const o=Ca(t.runner,"call");G(Ab(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(a);try{return await o.call(l)}catch(u){throw lg(u)&&u.data?t.interface.makeError(u.data,l):u}},r=async function(a){const o=t.runner;G(Cb(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await o.sendTransaction(await e(a)),u=Vs(t.runner);return new Eg(t.interface,u,l)},i=async function(a){const o=Ca(t.runner,"estimateGas");return G(Eb(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},s=async a=>await r(a);return ye(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function r5(t,e){const n=function(...u){const d=t.interface.getFunction(e,u);return G(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},r=async function(...u){const d=n(...u);let f={};if(d.inputs.length+1===u.length&&(f=await Sb(u.pop()),f.from&&(f.from=await dn(f.from,kb(t.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await t5(t.runner,d.inputs,u);return Object.assign({},f,await ln({to:t.getAddress(),data:t.interface.encodeFunctionData(d,h)}))},i=async function(...u){const d=await o(...u);return d.length===1?d[0]:d},s=async function(...u){const d=t.runner;G(Cb(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await r(...u)),h=Vs(t.runner);return new Eg(t.interface,h,f)},a=async function(...u){const d=Ca(t.runner,"estimateGas");return G(Eb(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await r(...u))},o=async function(...u){const d=Ca(t.runner,"call");G(Ab(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...u);let h="0x";try{h=await d.call(f)}catch(x){throw lg(x)&&x.data?t.interface.makeError(x.data,f):x}const w=n(...u);return t.interface.decodeFunctionResult(w,h)},l=async(...u)=>n(...u).constant?await i(...u):await s(...u);return ye(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:a,populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return G(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),l}function i5(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return G(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new e5(t,n(...i),i)};return ye(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return G(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Hd=Symbol.for("_ethersInternal_contract"),Tb=new WeakMap;function s5(t,e){Tb.set(t[Hd],e)}function In(t){return Tb.get(t[Hd])}function a5(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function Cg(t,e){let n,r=null;if(Array.isArray(e)){const s=function(a){if(tt(a,32))return a;const o=t.interface.getEvent(a);return C(o,"unknown fragment","name",a),o.topicHash};n=e.map(a=>a==null?null:Array.isArray(a)?a.map(s):s(a))}else e==="*"?n=[null]:typeof e=="string"?tt(e,32)?n=[e]:(r=t.interface.getEvent(e),C(r,"unknown fragment","event",e),n=[r.topicHash]):a5(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):C(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const a=Array.from(new Set(s.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function Gl(t,e){const{subs:n}=In(t);return n.get((await Cg(t,e)).tag)||null}async function Y0(t,e,n){const r=Vs(t.runner);G(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:a}=await Cg(t,n),{addr:o,subs:l}=In(t);let u=l.get(s);if(!u){const f={address:o||t,topics:a},h=A=>{let g=i;if(g==null)try{g=t.interface.getEvent(A.topics[0])}catch{}if(g){const m=g,y=i?t.interface.decodeEventLog(i,A.data,A.topics):[];Jh(t,n,y,k=>new qN(t,k,n,m,A))}else Jh(t,n,[],m=>new bb(t,m,n,A))};let w=[];u={tag:s,listeners:[],start:()=>{w.length||w.push(r.on(f,h))},stop:async()=>{if(w.length==0)return;let A=w;w=[],await Promise.all(A),r.off(f,h)}},l.set(s,u)}return u}let Kh=Promise.resolve();async function o5(t,e,n,r){await Kh;const i=await Gl(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:o})=>{const l=Array.from(n);r&&l.push(r(o?null:a));try{a.call(t,...l)}catch{}return!o}),i.listeners.length===0&&(i.stop(),In(t).subs.delete(i.tag)),s>0}async function Jh(t,e,n,r){try{await Kh}catch{}const i=o5(t,e,n,r);return Kh=i,await i}const ju=["then"];var uw;uw=Hd;const rc=class rc{constructor(e,n,r,i){j(this,"target");j(this,"interface");j(this,"runner");j(this,"filters");j(this,uw);j(this,"fallback");C(typeof e=="string"||j1(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=Qh.from(n);ye(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,Hd,{value:{}});let a,o=null,l=null;if(i){const f=Vs(r);l=new Eg(this.interface,f,i)}let u=new Map;if(typeof e=="string")if(tt(e))o=e,a=Promise.resolve(e);else{const f=Ca(r,"resolveName");if(!Pf(f))throw at("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw at("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return In(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return In(this).addr=f,f});s5(this,{addrPromise:a,addr:o,deployTx:l,subs:u});const d=new Proxy({},{get:(f,h,w)=>{if(typeof h=="symbol"||ju.indexOf(h)>=0)return Reflect.get(f,h,w);try{return this.getEvent(h)}catch(x){if(!Gt(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(f,h)=>ju.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return ye(this,{filters:d}),ye(this,{fallback:s.receive||s.fallback?n5(this):null}),new Proxy(this,{get:(f,h,w)=>{if(typeof h=="symbol"||h in f||ju.indexOf(h)>=0)return Reflect.get(f,h,w);try{return f.getFunction(h)}catch(x){if(!Gt(x,"INVALID_ARGUMENT")||x.argument!=="key")throw x}},has:(f,h)=>typeof h=="symbol"||h in f||ju.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new rc(this.target,this.interface,e)}attach(e){return new rc(e,this.interface,this.runner)}async getAddress(){return await In(this).addrPromise}async getDeployedCode(){const e=Vs(this.runner);G(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Vs(this.runner);return G(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",a)}catch(o){s(o)}};a()})}deploymentTransaction(){return In(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),r5(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),i5(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=In(this),a=i||await s,{fragment:o,topics:l}=await Cg(this,e),u={address:a,topics:l,fromBlock:n,toBlock:r},d=Vs(this.runner);return G(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=o;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new Ag(f,this.interface,h)}catch(w){return new xb(f,w)}return new iu(f,d)})}async on(e,n){const r=await Y0(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await Y0(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Jh(this,e,n,null)}async listenerCount(e){if(e){const i=await Gl(this,e);return i?i.listeners.length:0}const{subs:n}=In(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Gl(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=In(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await Gl(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),In(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Gl(this,e);if(!n)return this;n.stop(),In(this).subs.delete(n.tag)}else{const{subs:n}=In(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends rc{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let Yh=rc;function l5(){return Yh}class ft extends l5(){}function bp(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):C(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class c5{constructor(e){j(this,"name");ye(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const Nb=new RegExp("^(ipfs)://(.*)$","i"),Z0=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Nb,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Qi,ia,Ki,_a,Jd,Ib;const so=class so{constructor(e,n,r){O(this,Ki);j(this,"provider");j(this,"address");j(this,"name");O(this,Qi);O(this,ia);ye(this,{provider:e,address:n,name:r}),b(this,Qi,null),b(this,ia,new ft(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return p(this,Qi)==null&&b(this,Qi,(async()=>{try{return await p(this,ia).supportsInterface("0x9061b923")}catch(e){if(Gt(e,"CALL_EXCEPTION"))return!1;throw b(this,Qi,null),e}})()),await p(this,Qi)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await $(this,Ki,_a).call(this,"addr(bytes32)");return s==null||s===Cc?null:s}catch(s){if(Gt(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const a=await $(this,Ki,_a).call(this,"addr(bytes32,uint)",[s]);if(tt(a,20))return ze(a)}let n=null;for(const s of this.provider.plugins)if(s instanceof c5&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await $(this,Ki,_a).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;G(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await $(this,Ki,_a).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await $(this,Ki,_a).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${ck("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;G(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Z0.length;r++){const i=n.match(Z0[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const a=bp(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const u=l[1],d=new ft(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const v=await d.ownerOf(u);if(o!==v)return e.push({type:"!owner",value:v}),{url:null,linkage:e};e.push({type:"owner",value:v})}else if(s==="erc1155"){const v=await d.balanceOf(o,u);if(!v)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:v.toString()})}let f=await d[a](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),s==="erc1155"&&(f=f.replace("{id}",ws(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=bp(f)),e.push({type:"metadata-url",value:f});let h={};const w=await new vs(f).send();w.assertOk();try{h=w.bodyJson}catch{try{e.push({type:"!metadata",value:w.bodyText})}catch{const g=w.body;return g&&e.push({type:"!metadata",value:re(g)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let x=h.image;if(typeof x!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!x.match(/^(https:\/\/|data:)/i)){if(x.match(Nb)==null)return e.push({type:"!imageUrl-ipfs",value:x}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:x}),x=bp(x)}return e.push({type:"url",value:x}),{linkage:e,url:x}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return G(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await $(i=so,Jd,Ib).call(i,e,r);if(s!=null){const a=new so(e,s,n);return r!==n&&!await a.supportsWildcard()?null:a}r=r.split(".").slice(1).join(".")}}};Qi=new WeakMap,ia=new WeakMap,Ki=new WeakSet,_a=async function(e,n){n=(n||[]).slice();const r=p(this,ia).interface;n.unshift($h(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),G(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[CN(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await p(this,ia)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Gt(s,"CALL_EXCEPTION"))throw s}return null},Jd=new WeakSet,Ib=async function(e,n){const r=await so.getEnsAddress(e);try{const s=await new ft(r,["function resolver(bytes32) view returns (address)"],e).resolver($h(n),{enableCcipRead:!0});return s===Cc?null:s}catch(i){throw i}return null},O(so,Jd);let Wd=so;const X0=BigInt(0);function Be(t,e){return function(n){return n==null?e:t(n)}}function Bc(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function su(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const a of e[i])if(a in n){s=a;break}}try{const a=t[i](n[s]);a!==void 0&&(r[i]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";G(!1,`invalid value for value.${i} (${o})`,"BAD_DATA",{value:n})}}return r}}function u5(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}C(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function vl(t){return C(tt(t,!0),"invalid data","value",t),t}function Wt(t){return C(tt(t,32),"invalid hash","value",t),t}const d5=su({address:ze,blockHash:Wt,blockNumber:xe,data:vl,index:xe,removed:Be(u5,!1),topics:Bc(Wt),transactionHash:Wt,transactionIndex:xe},{index:["logIndex"]});function f5(t){return d5(t)}const p5=su({hash:Be(Wt),parentHash:Wt,parentBeaconBlockRoot:Be(Wt,null),number:xe,timestamp:xe,nonce:Be(vl),difficulty:le,gasLimit:le,gasUsed:le,stateRoot:Be(Wt,null),receiptsRoot:Be(Wt,null),blobGasUsed:Be(le,null),excessBlobGas:Be(le,null),miner:Be(ze),prevRandao:Be(Wt,null),extraData:vl,baseFeePerGas:Be(le)},{prevRandao:["mixHash"]});function h5(t){const e=p5(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Pb(n)),e}const m5=su({transactionIndex:xe,blockNumber:xe,transactionHash:Wt,address:ze,topics:Bc(Wt),data:vl,index:xe,blockHash:Wt},{index:["logIndex"]});function g5(t){return m5(t)}const y5=su({to:Be(ze,null),from:Be(ze,null),contractAddress:Be(ze,null),index:xe,root:Be(re),gasUsed:le,blobGasUsed:Be(le,null),logsBloom:Be(vl),blockHash:Wt,hash:Wt,logs:Bc(g5),blockNumber:xe,cumulativeGasUsed:le,effectiveGasPrice:Be(le),blobGasPrice:Be(le,null),status:Be(xe),type:Be(xe,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function w5(t){return y5(t)}function Pb(t){t.to&&le(t.to)===X0&&(t.to="0x0000000000000000000000000000000000000000");const e=su({hash:Wt,index:Be(xe,void 0),type:n=>n==="0x"||n==null?0:xe(n),accessList:Be(Pa,null),blobVersionedHashes:Be(Bc(Wt,!0),null),authorizationList:Be(Bc(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:ze(n.address),chainId:le(n.chainId),nonce:le(n.nonce),signature:Sn.from(r)}},!1),null),blockHash:Be(Wt,null),blockNumber:Be(xe,null),transactionIndex:Be(xe,null),from:ze,gasPrice:Be(le),maxPriorityFeePerGas:Be(le),maxFeePerGas:Be(le),maxFeePerBlobGas:Be(le,null),gasLimit:le,to:Be(ze,null),value:le,nonce:xe,data:vl,creates:Be(ze,null),chainId:Be(le,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=sT(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Sn.from(t.signature):e.signature=Sn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&le(e.blockHash)===X0&&(e.blockHash=null),e}const v5="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class au{constructor(e){j(this,"name");ye(this,{name:e})}clone(){return new au(this.name)}}class Rf extends au{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);j(this,"effectiveBlock");j(this,"txBase");j(this,"txCreate");j(this,"txDataZero");j(this,"txDataNonzero");j(this,"txAccessListStorageKey");j(this,"txAccessListAddress");const i={effectiveBlock:n};function s(a,o){let l=(r||{})[a];l==null&&(l=o),C(typeof l=="number",`invalud value for ${a}`,"costs",r),i[a]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),ye(this,i)}clone(){return new Rf(this.effectiveBlock,this)}}class jf extends au{constructor(n,r){super("org.ethers.plugins.network.Ens");j(this,"address");j(this,"targetNetwork");ye(this,{address:n||v5,targetNetwork:r??1})}clone(){return new jf(this.address,this.targetNetwork)}}var Hc,Wc;class x5 extends au{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");O(this,Hc);O(this,Wc);b(this,Hc,n),b(this,Wc,r)}get url(){return p(this,Hc)}get processFunc(){return p(this,Wc)}clone(){return this}}Hc=new WeakMap,Wc=new WeakMap;const Ap=new Map;var $o,Vo,Ji;const ao=class ao{constructor(e,n){O(this,$o);O(this,Vo);O(this,Ji);b(this,$o,e),b(this,Vo,le(n)),b(this,Ji,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return p(this,$o)}set name(e){b(this,$o,e)}get chainId(){return p(this,Vo)}set chainId(e){b(this,Vo,le(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===le(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===le(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===le(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(p(this,Ji).values())}attachPlugin(e){if(p(this,Ji).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return p(this,Ji).set(e.name,e.clone()),this}getPlugin(e){return p(this,Ji).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new ao(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Rf;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Pa(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(b5(),e==null)return ao.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=Ap.get(e);if(n)return n();if(typeof e=="bigint")return new ao("unknown",e);C(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){C(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new ao(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new jf(e.ensAddress,e.ensNetwork)),n}C(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=Ap.get(e);r&&C(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),Ap.set(e,n)}};$o=new WeakMap,Vo=new WeakMap,Ji=new WeakMap;let Hr=ao;function q0(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function ew(t){return new x5(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,a]=await Promise.all([r.send(),e()]);i=s;const o=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:q0(o.maxFee,9),maxPriorityFeePerGas:q0(o.maxPriorityFee,9)}}catch(s){G(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let tw=!1;function b5(){if(tw)return;tw=!0;function t(e,n,r){const i=function(){const s=new Hr(e,n);return r.ensNetwork!=null&&s.attachPlugin(new jf(null,r.ensNetwork)),s.attachPlugin(new Rf),(r.plugins||[]).forEach(a=>{s.attachPlugin(a)}),s};Hr.register(e,i),Hr.register(n,i),r.altNames&&r.altNames.forEach(s=>{Hr.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[ew("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[ew("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Zh(t){return JSON.parse(JSON.stringify(t))}var si,Gn,Yi,Lr,Qo,ed;class A5{constructor(e){O(this,Qo);O(this,si);O(this,Gn);O(this,Yi);O(this,Lr);b(this,si,e),b(this,Gn,null),b(this,Yi,4e3),b(this,Lr,-2)}get pollingInterval(){return p(this,Yi)}set pollingInterval(e){b(this,Yi,e)}start(){p(this,Gn)||(b(this,Gn,p(this,si)._setTimeout($(this,Qo,ed).bind(this),p(this,Yi))),$(this,Qo,ed).call(this))}stop(){p(this,Gn)&&(p(this,si)._clearTimeout(p(this,Gn)),b(this,Gn,null))}pause(e){this.stop(),e&&b(this,Lr,-2)}resume(){this.start()}}si=new WeakMap,Gn=new WeakMap,Yi=new WeakMap,Lr=new WeakMap,Qo=new WeakSet,ed=async function(){try{const e=await p(this,si).getBlockNumber();if(p(this,Lr)===-2){b(this,Lr,e);return}if(e!==p(this,Lr)){for(let n=p(this,Lr)+1;n<=e;n++){if(p(this,Gn)==null)return;await p(this,si).emit("block",n)}b(this,Lr,e)}}catch{}p(this,Gn)!=null&&b(this,Gn,p(this,si)._setTimeout($(this,Qo,ed).bind(this),p(this,Yi)))};var sa,aa,Zi;class kg{constructor(e){O(this,sa);O(this,aa);O(this,Zi);b(this,sa,e),b(this,Zi,!1),b(this,aa,n=>{this._poll(n,p(this,sa))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){p(this,Zi)||(b(this,Zi,!0),p(this,aa).call(this,-2),p(this,sa).on("block",p(this,aa)))}stop(){p(this,Zi)&&(b(this,Zi,!1),p(this,sa).off("block",p(this,aa)))}pause(e){this.stop()}resume(){this.start()}}sa=new WeakMap,aa=new WeakMap,Zi=new WeakMap;var Ko,ai;class E5 extends kg{constructor(n,r){super(n);O(this,Ko);O(this,ai);b(this,Ko,r),b(this,ai,-2)}pause(n){n&&b(this,ai,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(p(this,Ko));i!=null&&(p(this,ai)===-2?b(this,ai,i.number):i.number>p(this,ai)&&(r.emit(p(this,Ko),i.number),b(this,ai,i.number)))}}Ko=new WeakMap,ai=new WeakMap;var Yd;class C5 extends kg{constructor(n,r){super(n);O(this,Yd);b(this,Yd,Zh(r))}async _poll(n,r){throw new Error("@TODO")}}Yd=new WeakMap;var Jo;class k5 extends kg{constructor(n,r){super(n);O(this,Jo);b(this,Jo,r)}async _poll(n,r){const i=await r.getTransactionReceipt(p(this,Jo));i&&r.emit(p(this,Jo),i)}}Jo=new WeakMap;var oi,Yo,Zo,Xi,$n,Zd,Rb;class Sg{constructor(e,n){O(this,Zd);O(this,oi);O(this,Yo);O(this,Zo);O(this,Xi);O(this,$n);b(this,oi,e),b(this,Yo,Zh(n)),b(this,Zo,$(this,Zd,Rb).bind(this)),b(this,Xi,!1),b(this,$n,-2)}start(){p(this,Xi)||(b(this,Xi,!0),p(this,$n)===-2&&p(this,oi).getBlockNumber().then(e=>{b(this,$n,e)}),p(this,oi).on("block",p(this,Zo)))}stop(){p(this,Xi)&&(b(this,Xi,!1),p(this,oi).off("block",p(this,Zo)))}pause(e){this.stop(),e&&b(this,$n,-2)}resume(){this.start()}}oi=new WeakMap,Yo=new WeakMap,Zo=new WeakMap,Xi=new WeakMap,$n=new WeakMap,Zd=new WeakSet,Rb=async function(e){if(p(this,$n)===-2)return;const n=Zh(p(this,Yo));n.fromBlock=p(this,$n)+1,n.toBlock=e;const r=await p(this,oi).getLogs(n);if(r.length===0){p(this,$n)<e-60&&b(this,$n,e-60);return}for(const i of r)p(this,oi).emit(p(this,Yo),i),b(this,$n,i.blockNumber)};const S5=BigInt(2),T5=10;function Bu(t){return t&&typeof t.then=="function"}function td(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,a)=>(s[a]=r[a],s),{})}return r})}class jb{constructor(e){j(this,"name");ye(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function N5(t){return JSON.parse(JSON.stringify(t))}function Xh(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function Ep(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(tt(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:td("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:td("orphan",n),filter:N5(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?Xh(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],a=o=>{tt(o)?i.push(o):s.push((async()=>{i.push(await dn(o,e))})())};Array.isArray(n.address)?n.address.forEach(a):a(n.address),s.length&&await Promise.all(s),r.address=Xh(i.map(o=>o.toLowerCase()))}return{filter:r,tag:td("event",r),type:"event"}}C(!1,"unknown ProviderEvent","event",t)}function Cp(){return new Date().getTime()}const I5={cacheTimeout:250,pollingInterval:4e3};var Xt,qi,qt,Xo,Bn,oa,es,li,Gc,Vn,qo,el,Pe,Nn,qh,em,$l,tm,Vl,nd;class P5{constructor(e,n){O(this,Pe);O(this,Xt);O(this,qi);O(this,qt);O(this,Xo);O(this,Bn);O(this,oa);O(this,es);O(this,li);O(this,Gc);O(this,Vn);O(this,qo);O(this,el);if(b(this,el,Object.assign({},I5,n||{})),e==="any")b(this,oa,!0),b(this,Bn,null);else if(e){const r=Hr.from(e);b(this,oa,!1),b(this,Bn,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else b(this,oa,!1),b(this,Bn,null);b(this,li,-1),b(this,es,new Map),b(this,Xt,new Map),b(this,qi,new Map),b(this,qt,null),b(this,Xo,!1),b(this,Gc,1),b(this,Vn,new Map),b(this,qo,!1)}get pollingInterval(){return p(this,el).pollingInterval}get provider(){return this}get plugins(){return Array.from(p(this,qi).values())}attachPlugin(e){if(p(this,qi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return p(this,qi).set(e.name,e.connect(this)),this}getPlugin(e){return p(this,qi).get(e)||null}get disableCcipRead(){return p(this,qo)}set disableCcipRead(e){b(this,qo,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),a=[];for(let o=0;o<r.length;o++){const l=r[o],u=l.replace("{sender}",i).replace("{data}",s),d=new vs(u);l.indexOf("{data}")===-1&&(d.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:o,urls:r});let f="unknown error",h;try{h=await d.send()}catch(w){a.push(w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:w}});continue}try{const w=h.bodyJson;if(w.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:w}),w.data;w.message&&(f=w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:w})}catch{}G(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),a.push(f)}G(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,n){return new JN(h5(e),this)}_wrapLog(e,n){return new iu(f5(e),this)}_wrapTransactionReceipt(e,n){return new yb(w5(e),this)}_wrapTransactionResponse(e,n){return new jc(Pb(e),this)}_detectNetwork(){G(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){G(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=xe(await $(this,Pe,Nn).call(this,{method:"getBlockNumber"}),"%response");return p(this,li)>=0&&b(this,li,e),e}_getAddress(e){return dn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(tt(e))return tt(e,32)?e:mr(e);if(typeof e=="bigint"&&(e=xe(e,"blockTag")),typeof e=="number")return e>=0?mr(e):p(this,li)>=0?mr(p(this,li)+e):this.getBlockNumber().then(n=>mr(n+e));C(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?Xh(l.map(u=>u.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,u,d)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(r&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),n.length&&(h.topics=n),u&&(h.fromBlock=u),d&&(h.toBlock=d),r&&(h.blockHash=r),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(s),a,o]).then(l=>i(l[0],l[1],l[2])):i(s,a,o)}_getTransactionRequest(e){const n=zd(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=dn(n[i],this);Bu(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);Bu(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(p(this,Bn)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw p(this,Bn)===i&&b(this,Bn,null),s}})();return b(this,Bn,i),(await i).clone()}const e=p(this,Bn),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(p(this,oa)?(this.emit("network",r,n),p(this,Bn)===e&&b(this,Bn,Promise.resolve(r))):G(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:a}=await ln({_block:$(this,Pe,tm).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await $(this,Pe,Nn).call(this,{method:"getGasPrice"});return le(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await $(this,Pe,Nn).call(this,{method:"getPriorityFee"});return le(d,"%response")}catch{}return null})()});let o=null,l=null;const u=this._wrapBlock(i,e);return u&&u.baseFeePerGas&&(l=a??BigInt("1000000000"),o=u.baseFeePerGas*S5+l),new K0(s,o,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new vs(r.url),s=await r.processFunc(n,this,i);return new K0(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Bu(n)&&(n=await n),le(await $(this,Pe,Nn).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await ln({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await $(this,Pe,em).call(this,$(this,Pe,qh).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return le(await $(this,Pe,$l).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return xe(await $(this,Pe,$l).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return re(await $(this,Pe,$l).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=le(n,"position");return re(await $(this,Pe,$l).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await ln({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Ld.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await ln({network:this.getNetwork(),params:$(this,Pe,tm).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await ln({network:this.getNetwork(),params:$(this,Pe,Nn).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await ln({network:this.getNetwork(),params:$(this,Pe,Nn).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await $(this,Pe,Nn).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await ln({network:this.getNetwork(),result:$(this,Pe,Nn).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:re(n)}async getLogs(e){let n=this._getFilter(e);Bu(n)&&(n=await n);const{network:r,params:i}=await ln({network:this.getNetwork(),params:$(this,Pe,Nn).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){G(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Wd.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=ze(e);const n=$h(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Wd.getEnsAddress(this),s=await new ft(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===Cc)return null;const o=await new ft(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(o)!==e?null:o}catch(r){if(Gt(r,"BAD_DATA")&&r.value==="0x"||Gt(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,a)=>{let o=null;const l=async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=i){s(d),o&&(clearTimeout(o),o=null);return}}catch(d){console.log("EEE",d)}this.once("block",l)};r!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",l),a(at("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){G(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=p(this,Vn).get(e);n&&(n.timer&&clearTimeout(n.timer),p(this,Vn).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=Sl(this,Gc)._++,i=()=>{p(this,Vn).delete(r),e()};if(this.paused)p(this,Vn).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);p(this,Vn).set(r,{timer:s,func:i,time:Cp()})}return r}_forEachSubscriber(e){for(const n of p(this,Xt).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new jb(e.type);case"block":{const n=new A5(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new E5(this,e.type);case"event":return new Sg(this,e.filter);case"transaction":return new k5(this,e.hash);case"orphan":return new C5(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of p(this,Xt).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),p(this,qt)!=null&&n.pause(p(this,qt));break}}async on(e,n){const r=await $(this,Pe,nd).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,p(this,qt)!=null&&r.subscriber.pause(p(this,qt))),this}async once(e,n){const r=await $(this,Pe,nd).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,p(this,qt)!=null&&r.subscriber.pause(p(this,qt))),this}async emit(e,...n){const r=await $(this,Pe,Vl).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:a})=>{const o=new Vx(this,a?null:s,e);try{s.call(this,...n,o)}catch{}return!a}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),p(this,Xt).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await $(this,Pe,Vl).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of p(this,Xt).values())n+=r.length;return n}async listeners(e){if(e){const r=await $(this,Pe,Vl).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of p(this,Xt).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await $(this,Pe,Vl).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),p(this,Xt).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await $(this,Pe,nd).call(this,e);r&&i.stop(),p(this,Xt).delete(n)}else for(const[n,{started:r,subscriber:i}]of p(this,Xt))r&&i.stop(),p(this,Xt).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return p(this,Xo)}destroy(){this.removeAllListeners();for(const e of p(this,Vn).keys())this._clearTimeout(e);b(this,Xo,!0)}get paused(){return p(this,qt)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(b(this,li,-1),p(this,qt)!=null){if(p(this,qt)==!!e)return;G(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),b(this,qt,!!e);for(const n of p(this,Vn).values())n.timer&&clearTimeout(n.timer),n.time=Cp()-n.time}resume(){if(p(this,qt)!=null){this._forEachSubscriber(e=>e.resume()),b(this,qt,null);for(const e of p(this,Vn).values()){let n=e.time;n<0&&(n=0),e.time=Cp(),setTimeout(e.func,n)}}}}Xt=new WeakMap,qi=new WeakMap,qt=new WeakMap,Xo=new WeakMap,Bn=new WeakMap,oa=new WeakMap,es=new WeakMap,li=new WeakMap,Gc=new WeakMap,Vn=new WeakMap,qo=new WeakMap,el=new WeakMap,Pe=new WeakSet,Nn=async function(e){const n=p(this,el).cacheTimeout;if(n<0)return await this._perform(e);const r=td(e.method,e);let i=p(this,es).get(r);return i||(i=this._perform(e),p(this,es).set(r,i),setTimeout(()=>{p(this,es).get(r)===i&&p(this,es).delete(r)},n)),await i},qh=async function(e,n,r){G(r<T5,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=zd(e);try{return re(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&lg(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&gt(s.data,0,4)==="0x556f1830"){const a=s.data,o=await dn(i.to,this);let l;try{l=O5(gt(s.data,4))}catch(f){G(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}G(l.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const u=await this.ccipReadFetch(i,l.calldata,l.urls);G(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const d={to:o,data:ct([l.selector,L5([u,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await $(this,Pe,qh).call(this,d,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw s}},em=async function(e){const{value:n}=await ln({network:this.getNetwork(),value:e});return n},$l=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await $(this,Pe,em).call(this,$(this,Pe,Nn).call(this,Object.assign(e,{address:i,blockTag:s})))},tm=async function(e,n){if(tt(e,32))return await $(this,Pe,Nn).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await $(this,Pe,Nn).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},Vl=async function(e,n){let r=await Ep(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await Ep({orphan:"drop-log",log:n[0]},this)),p(this,Xt).get(r.tag)||null},nd=async function(e){const n=await Ep(e,this),r=n.tag;let i=p(this,Xt).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},p(this,Xt).set(r,i)),i};function R5(t,e){try{const n=nm(t,e);if(n)return Rd(n)}catch{}return null}function nm(t,e){if(t==="0x")return null;try{const n=xe(gt(t,e,e+32)),r=xe(gt(t,n,n+32));return gt(t,n+32,n+32+r)}catch{}return null}function nw(t){const e=Tt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function j5(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const B5=new Uint8Array([]);function L5(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(B5),n+=32;for(let r=0;r<t.length;r++){const i=Se(t[r]);e[r]=nw(n),e.push(nw(i.length)),e.push(j5(i)),n+=32+Math.ceil(i.length/32)*32}return ct(e)}const rw="0x0000000000000000000000000000000000000000000000000000000000000000";function O5(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};G(ho(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=gt(t,0,32);G(gt(n,0,12)===gt(rw,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=gt(n,12);try{const r=[],i=xe(gt(t,32,64)),s=xe(gt(t,i,i+32)),a=gt(t,i+32);for(let o=0;o<s;o++){const l=R5(a,o*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{G(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=nm(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{G(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}G(gt(t,100,128)===gt(rw,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=gt(t,96,100);try{const r=nm(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{G(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Is(t,e){if(t.provider)return t.provider;G(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function iw(t,e){let n=zd(e);if(n.to!=null&&(n.to=dn(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),dn(r,t)]).then(([i,s])=>(C(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await ln(n)}class F5{constructor(e){j(this,"provider");ye(this,{provider:e||null})}async getNonce(e){return Is(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await iw(this,e)}async populateTransaction(e){const n=Is(this,"populateTransaction"),r=await iw(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const a=le(r.chainId);C(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?C(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&C(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const a=await n.getFeeData();G(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice)}else{const a=await n.getFeeData();if(r.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(G(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice),r.type=0):G(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await ln(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Is(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Is(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Is(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Is(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Is(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Ld.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){G(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function M5(t){return JSON.parse(JSON.stringify(t))}var an,Or,la,ts,ca,tl,xs,rm,im;class Bb{constructor(e){O(this,xs);O(this,an);O(this,Or);O(this,la);O(this,ts);O(this,ca);O(this,tl);b(this,an,e),b(this,Or,null),b(this,la,$(this,xs,rm).bind(this)),b(this,ts,!1),b(this,ca,null),b(this,tl,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){p(this,ts)||(b(this,ts,!0),$(this,xs,rm).call(this,-2))}stop(){p(this,ts)&&(b(this,ts,!1),b(this,tl,!0),$(this,xs,im).call(this),p(this,an).off("block",p(this,la)))}pause(e){e&&$(this,xs,im).call(this),p(this,an).off("block",p(this,la))}resume(){this.start()}}an=new WeakMap,Or=new WeakMap,la=new WeakMap,ts=new WeakMap,ca=new WeakMap,tl=new WeakMap,xs=new WeakSet,rm=async function(e){try{p(this,Or)==null&&b(this,Or,this._subscribe(p(this,an)));let n=null;try{n=await p(this,Or)}catch(s){if(!Gt(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){b(this,Or,null),p(this,an)._recoverSubscriber(this,this._recover(p(this,an)));return}const r=await p(this,an).getNetwork();if(p(this,ca)||b(this,ca,r),p(this,ca).chainId!==r.chainId)throw new Error("chaid changed");if(p(this,tl))return;const i=await p(this,an).send("eth_getFilterChanges",[n]);await this._emitResults(p(this,an),i)}catch(n){console.log("@TODO",n)}p(this,an).once("block",p(this,la))},im=function(){const e=p(this,Or);e&&(b(this,Or,null),e.then(n=>{p(this,an).destroyed||p(this,an).send("eth_uninstallFilter",[n])}))};var ua;class U5 extends Bb{constructor(n,r){super(n);O(this,ua);b(this,ua,M5(r))}_recover(n){return new Sg(n,p(this,ua))}async _subscribe(n){return await n.send("eth_newFilter",[p(this,ua)])}async _emitResults(n,r){for(const i of r)n.emit(p(this,ua),n._wrapLog(i,n._network))}}ua=new WeakMap;class D5 extends Bb{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const _5="bigint,boolean,function,number,string,symbol".split(/,/g);function rd(t){if(t==null||_5.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(rd);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function z5(t){return new Promise(e=>{setTimeout(e,t)})}function La(t){return t&&t.toLowerCase()}function sw(t){return t&&typeof t.pollingInterval=="number"}const Lb={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class kp extends F5{constructor(n,r){super(n);j(this,"address");r=ze(r),ye(this,{address:r})}connect(n){G(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=rd(n),i=[];if(r.from){const a=r.from;i.push((async()=>{const o=await dn(a,this.provider);C(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=o})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const a=r.to;i.push((async()=>{r.to=await dn(a,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,a)=>{const o=[1e3,100];let l=0;const u=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){s(d.replaceableTransaction(r));return}}catch(d){if(Gt(d,"CANCELLED")||Gt(d,"BAD_DATA")||Gt(d,"NETWORK_ERROR")||Gt(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,a(d);return}if(Gt(d,"INVALID_ARGUMENT")&&(l++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,l>10)){a(d);return}this.provider.emit("error",at("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{u()},o.pop()||4e3)};u()})}async signTransaction(n){const r=rd(n);if(r.from){const s=await dn(r.from,this.provider);C(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?mi(n):n;return await this.provider.send("personal_sign",[re(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=rd(i),a=await _d.resolveNames(n,r,s,async o=>{const l=await dn(o);return C(l!=null,"TypedData does not support null address","value",o),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(_d.getPayload(a.domain,r,a.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?mi(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),re(r)])}}var da,nl,ci,Fr,fr,Qn,wn,$c,sm;class H5 extends P5{constructor(n,r){super(n,r);O(this,$c);O(this,da);O(this,nl);O(this,ci);O(this,Fr);O(this,fr);O(this,Qn);O(this,wn);b(this,nl,1),b(this,da,Object.assign({},Lb,r||{})),b(this,ci,[]),b(this,Fr,null),b(this,Qn,null),b(this,wn,null);{let s=null;const a=new Promise(o=>{s=o});b(this,fr,{promise:a,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(C(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&b(this,Qn,Hr.from(n))):i&&(C(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),b(this,Qn,i))}_getOption(n){return p(this,da)[n]}get _network(){return G(p(this,Qn),"network is not available yet","NETWORK_ERROR"),p(this,Qn)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&le(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(p(this,Qn))return p(this,Qn)}else return n;return p(this,wn)?await p(this,wn):this.ready?(b(this,wn,(async()=>{try{const r=Hr.from(le(await this.send("eth_chainId",[])));return b(this,wn,null),r}catch(r){throw b(this,wn,null),r}})()),await p(this,wn)):(b(this,wn,(async()=>{const r={id:Sl(this,nl)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],b(this,wn,null)}catch(s){throw b(this,wn,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Hr.from(le(i.result));throw this.getRpcError(r,i)})()),await p(this,wn))}_start(){p(this,fr)==null||p(this,fr).resolve==null||(p(this,fr).resolve(),b(this,fr,null),(async()=>{for(;p(this,Qn)==null&&!this.destroyed;)try{b(this,Qn,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",at("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await z5(1e3)}$(this,$c,sm).call(this)})())}async _waitUntilReady(){if(p(this,fr)!=null)return await p(this,fr).promise}_getSubscriber(n){return n.type==="pending"?new D5(this):n.type==="event"?this._getOption("polling")?new Sg(this,n.filter):new U5(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new jb("orphan"):super._getSubscriber(n)}get ready(){return p(this,fr)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=mr(le(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=re(n[i]))}),n.accessList&&(r.accessList=Pa(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=F1(i);return{address:s.address,nonce:mr(s.nonce),chainId:mr(s.chainId),yParity:mr(s.signature.yParity),r:mr(s.signature.r),s:mr(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[La(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[La(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[La(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[La(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(La):n.filter.address=La(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return at("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(l.match(/nonce/i)&&l.match(/too low/i))return at("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=am(s),u=Rc.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return u.info={error:s,payload:n},u}const a=JSON.stringify(G5(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return at("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return at("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return at("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return at("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(a.match(/only replay-protected/i))return at("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let o=!!a.match(/the method .* does not exist/i);return o||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(o=!0),o?at("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):at("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(at("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=Sl(this,nl)._++,s=new Promise((a,o)=>{p(this,ci).push({resolve:a,reject:o,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return $(this,$c,sm).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new kp(this,s[n])}const{accounts:i}=await ln({network:this.getNetwork(),accounts:r});n=ze(n);for(const s of i)if(ze(s)===n)return new kp(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new kp(this,r))}destroy(){p(this,Fr)&&(clearTimeout(p(this,Fr)),b(this,Fr,null));for(const{payload:n,reject:r}of p(this,ci))r(at("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));b(this,ci,[]),super.destroy()}}da=new WeakMap,nl=new WeakMap,ci=new WeakMap,Fr=new WeakMap,fr=new WeakMap,Qn=new WeakMap,wn=new WeakMap,$c=new WeakSet,sm=function(){if(p(this,Fr))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");b(this,Fr,setTimeout(()=>{b(this,Fr,null);const r=p(this,ci);for(b(this,ci,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==p(this,da).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(a=>a.payload)).length>p(this,da).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const a=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:o,reject:l,payload:u}of i){if(this.destroyed){l(at("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const d=a.filter(f=>f.id===u.id)[0];if(d==null){const f=at("missing response for request","BAD_DATA",{value:a,info:{payload:u}});this.emit("error",f),l(f);continue}if("error"in d){l(this.getRpcError(u,d));continue}o(d.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:o}of i)o(a)}})()}},n))};var ns;class W5 extends H5{constructor(n,r){super(n,r);O(this,ns);let i=this._getOption("pollingInterval");i==null&&(i=Lb.pollingInterval),b(this,ns,i)}_getSubscriber(n){const r=super._getSubscriber(n);return sw(r)&&(r.pollingInterval=p(this,ns)),r}get pollingInterval(){return p(this,ns)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");b(this,ns,n),this._forEachSubscriber(r=>{sw(r)&&(r.pollingInterval=p(this,ns))})}}ns=new WeakMap;function am(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&tt(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=am(t[e]);if(n)return n}return null}if(typeof t=="string")try{return am(JSON.parse(t))}catch{}return null}function om(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)om(t[n],e);if(typeof t=="string")try{return om(JSON.parse(t),e)}catch{}}}function G5(t){const e=[];return om(t,e),e}var rl,il;const Ds=class Ds extends W5{constructor(n,r,i){const s=Object.assign({},i??{},{batchMaxCount:1});C(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,s);O(this,rl);O(this,il);b(this,il,null),i&&i.providerInfo&&b(this,il,i.providerInfo),b(this,rl,async(a,o)=>{const l={method:a,params:o};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const u=await n.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const d=new Error(u.message);throw d.code=u.code,d.data=u.data,d.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}get providerInfo(){return p(this,il)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){C(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await p(this,rl).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await p(this,rl).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new Ds(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const i=n.anyProvider;if(i&&r.ethereum)return new Ds(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const s=n.timeout?n.timeout:300;return s===0?null:await new Promise((a,o)=>{let l=[];const u=h=>{l.push(h.detail),i&&d()},d=()=>{if(clearTimeout(f),l.length)if(n&&n.filter){const h=n.filter(l.map(w=>Object.assign({},w.info)));if(h==null)a(null);else if(h instanceof Ds)a(h);else{let w=null;if(h.uuid&&(w=l.filter(v=>h.uuid===v.info.uuid)[0]),w){const{provider:x,info:v}=w;a(new Ds(x,void 0,{providerInfo:v}))}else o(at("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:w}=l[0];a(new Ds(h,void 0,{providerInfo:w}))}else a(null);r.removeEventListener("eip6963:announceProvider",u)},f=setTimeout(()=>{d()},s);r.addEventListener("eip6963:announceProvider",u),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};rl=new WeakMap,il=new WeakMap;let lm=Ds;const Ct={marketplace:"0xfAaa2E34f8E454355D33c57A662297475e22f16a",mockNFT:"0x2ceD43bE1bBd8aD876F606e34a2E23673B5A131E",collectionFactory:"0xa489e41E3Be16347C01c65979c7869DcbF0a0B96"},aw={marketplaceFee:2.5,defaultRoyalty:5},_t={chainId:5042002,chainName:"Arc Testnet",nativeCurrency:{name:"USDC",symbol:"USDC",decimals:18},rpcUrls:["https://rpc.testnet.arc.network"],blockExplorerUrls:["https://testnet.arcscan.app"]},ow=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"ItemListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"ItemSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"}],name:"ListingCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newPrice",type:"uint256"}],name:"ListingPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"MarketplaceFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RoyaltyPaid",type:"event"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"buyItem",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"cancelListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offset",type:"uint256"},{internalType:"uint256",name:"_limit",type:"uint256"}],name:"getActiveListings",outputs:[{components:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],internalType:"struct Marketplace.Listing[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"getListing",outputs:[{components:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],internalType:"struct Marketplace.Listing",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_seller",type:"address"}],name:"getSellerListings",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_nftContract",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isNFTListed",outputs:[{internalType:"bool",name:"isListed",type:"bool"},{internalType:"uint256",name:"listingId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_nftContract",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"listItem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"listingCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplaceFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"sellerListings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_newPrice",type:"uint256"}],name:"updateListingPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newFee",type:"uint256"}],name:"updateMarketplaceFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawFees",outputs:[],stateMutability:"nonpayable",type:"function"}],lw=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"string[]",name:"_uris",type:"string[]"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"string",name:"_uri",type:"string"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],cw=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"maxSupply",type:"uint256"}],name:"CollectionCreated",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"collectionInfo",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"createdAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"collections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_collectionName",type:"string"},{internalType:"uint256",name:"_maxSupply",type:"uint256"}],name:"createCollection",outputs:[{internalType:"address",name:"collectionAddress",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"creatorCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCollectionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getCreatorCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collectionAddress",type:"address"}],name:"isValidCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Ob=S.createContext(),kl=()=>{const t=S.useContext(Ob);if(!t)throw new Error("useWeb3 must be used within a Web3Provider");return t},$5=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(null),[s,a]=S.useState(null),[o,l]=S.useState(null),[u,d]=S.useState(null),[f,h]=S.useState(null),[w,x]=S.useState(!1),[v,A]=S.useState(!1),g=async P=>{try{const E=await P.getNetwork(),V=Number(E.chainId)===_t.chainId;return x(V),V}catch(E){return console.error("Error checking network:",E),!1}},m=async()=>{try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${_t.chainId.toString(16)}`}]}),!0}catch(P){if(P.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${_t.chainId.toString(16)}`,chainName:_t.chainName,nativeCurrency:_t.nativeCurrency,rpcUrls:_t.rpcUrls,blockExplorerUrls:_t.blockExplorerUrls}]}),!0}catch(E){return console.error("Error adding network:",E),R.error("Erro ao adicionar rede Arc Testnet"),!1}return console.error("Error switching network:",P),R.error("Erro ao trocar para rede Arc Testnet"),!1}},y=async()=>{try{if(!window.ethereum){R.error("Por favor, instale o MetaMask!");return}A(!0);const P=await window.ethereum.request({method:"eth_requestAccounts"}),E=new lm(window.ethereum);if(!await g(E)&&!await m()){A(!1);return}const U=await E.getSigner();n(E),i(U),a(P[0]);try{const X=await E.getCode(Ct.marketplace),_=await E.getCode(Ct.mockNFT);console.log("Marketplace code length:",(X==null?void 0:X.length)||0),console.log("NFT code length:",(_==null?void 0:_.length)||0),(X==="0x"||_==="0x")&&console.warn("Contratos podem no estar deployados ou endereos incorretos")}catch(X){console.warn("Erro ao verificar cdigo dos contratos:",X)}const Y=new ft(Ct.marketplace,ow,U),we=new ft(Ct.mockNFT,lw,U);let H=null;if(Ct.collectionFactory)try{const X=await E.getCode(Ct.collectionFactory);console.log("CollectionFactory code length:",(X==null?void 0:X.length)||0),X&&X!=="0x"?(H=new ft(Ct.collectionFactory,cw,U),console.log(" CollectionFactory inicializado:",Ct.collectionFactory)):console.warn(" CollectionFactory no deployado no endereo:",Ct.collectionFactory)}catch(X){console.error(" Erro ao inicializar CollectionFactory:",X)}l(Y),d(we),h(H),R.success("Carteira conectada com sucesso!"),A(!1)}catch(P){console.error("Error connecting wallet:",P),R.error("Erro ao conectar carteira"),A(!1)}},k=async()=>{try{if(!window.ethereum)return R.error("MetaMask no est instalado"),null;if(!e)return R.error("Carteira no conectada"),null;const P=await e.getNetwork(),E=Number(P.chainId);let V=P.name||"Unknown",U="ETH",Y=18,we=null;try{const X=await window.ethereum.request({method:"eth_chainId"}),_={"0x1":{name:"Ethereum Mainnet",symbol:"ETH",explorer:"https://etherscan.io"},"0x5":{name:"Goerli Testnet",symbol:"ETH",explorer:"https://goerli.etherscan.io"},"0x89":{name:"Polygon Mainnet",symbol:"MATIC",explorer:"https://polygonscan.com"},"0x4d9c4d":{name:"Arc Testnet",symbol:"USDC",explorer:"https://testnet.arcscan.app"}},z=`0x${E.toString(16)}`;_[z]&&(V=_[z].name,U=_[z].symbol,we=_[z].explorer),E===_t.chainId&&(V=_t.chainName,U=_t.nativeCurrency.symbol,we=_t.blockExplorerUrls[0])}catch(X){console.warn("Erro ao obter informaes extras da rede:",X)}return{chainId:E,chainIdHex:`0x${E.toString(16)}`,name:V,currencySymbol:U,currencyDecimals:Y,blockExplorer:we,isCorrect:E===_t.chainId,expectedChainId:_t.chainId,expectedName:_t.chainName}}catch(P){return console.error("Erro ao verificar informaes da rede:",P),R.error("Erro ao verificar informaes da rede"),null}},B=()=>{n(null),i(null),a(null),l(null),d(null),h(null),x(!1),R.success("Carteira desconectada")};S.useEffect(()=>(window.ethereum&&(window.ethereum.on("accountsChanged",async P=>{if(P.length===0)B();else{const E=P[0];if(a(E),e)try{const V=await e.getSigner();i(V);const U=new ft(Ct.marketplace,ow,V),Y=new ft(Ct.mockNFT,lw,V);if(l(U),d(Y),Ct.collectionFactory){const we=new ft(Ct.collectionFactory,cw,V);h(we)}console.log(" Signer atualizado para nova conta:",E)}catch(V){console.error("Erro ao atualizar signer:",V),window.location.reload()}}}),window.ethereum.on("chainChanged",()=>{window.location.reload()})),()=>{window.ethereum&&(window.ethereum.removeAllListeners("accountsChanged"),window.ethereum.removeAllListeners("chainChanged"))}),[]);const L={provider:e,signer:r,account:s,marketplaceContract:o,nftContract:u,collectionFactoryContract:f,isCorrectNetwork:w,loading:v,connectWallet:y,disconnect:B,switchToArcNetwork:m,checkNetworkInfo:k};return c.jsx(Ob.Provider,{value:L,children:t})};function Fb({size:t=45,animate:e=!0}){return c.jsx("div",{className:e?"genesis-logo-animated":"genesis-logo",style:{width:`${t}px`,height:`${t}px`,position:"relative"},children:c.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"hexGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:1}}),c.jsx("stop",{offset:"50%",style:{stopColor:"#60a5fa",stopOpacity:1}}),c.jsx("stop",{offset:"100%",style:{stopColor:"#3b82f6",stopOpacity:1}})]}),c.jsxs("linearGradient",{id:"innerGlow",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"#60a5fa",stopOpacity:.9}}),c.jsx("stop",{offset:"50%",style:{stopColor:"#60a5fa",stopOpacity:.9}}),c.jsx("stop",{offset:"100%",style:{stopColor:"#3b82f6",stopOpacity:.9}})]}),c.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),c.jsx("filter",{id:"innerGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1.5"})})]}),c.jsx("path",{d:"M 50 5 L 85 27.5 L 85 72.5 L 50 95 L 15 72.5 L 15 27.5 Z",stroke:"url(#hexGradient)",strokeWidth:"3",fill:"var(--background)",filter:"url(#glow)"}),c.jsx("path",{d:"M 50 15 L 75 30 L 75 70 L 50 85 L 25 70 L 25 30 Z",stroke:"url(#hexGradient)",strokeWidth:"1.5",fill:"none",opacity:"0.4"}),c.jsxs("g",{opacity:"0.7",children:[c.jsx("circle",{cx:"70",cy:"25",r:"2",fill:"#3b82f6"}),c.jsx("line",{x1:"70",y1:"25",x2:"78",y2:"20",stroke:"#3b82f6",strokeWidth:"1"}),c.jsx("circle",{cx:"78",cy:"20",r:"1.5",fill:"#60a5fa"}),c.jsx("circle",{cx:"75",cy:"32",r:"2",fill:"#60a5fa"}),c.jsx("line",{x1:"75",y1:"32",x2:"82",y2:"28",stroke:"#60a5fa",strokeWidth:"1"}),c.jsx("circle",{cx:"82",cy:"28",r:"1.5",fill:"#3b82f6"})]}),c.jsxs("g",{opacity:"0.7",children:[c.jsx("circle",{cx:"30",cy:"75",r:"2",fill:"#60a5fa"}),c.jsx("line",{x1:"30",y1:"75",x2:"22",y2:"80",stroke:"#60a5fa",strokeWidth:"1"}),c.jsx("circle",{cx:"22",cy:"80",r:"1.5",fill:"#3b82f6"}),c.jsx("circle",{cx:"25",cy:"68",r:"2",fill:"#3b82f6"}),c.jsx("line",{x1:"25",y1:"68",x2:"18",y2:"72",stroke:"#3b82f6",strokeWidth:"1"}),c.jsx("circle",{cx:"18",cy:"72",r:"1.5",fill:"#60a5fa"})]}),c.jsxs("g",{filter:"url(#glow)",children:[c.jsx("path",{d:`M 65 35 \r
               A 15 15 0 1 0 65 65\r
               L 65 50\r
               L 55 50`,stroke:"url(#hexGradient)",strokeWidth:"5",strokeLinecap:"round",fill:"none"}),c.jsx("line",{x1:"55",y1:"50",x2:"62",y2:"50",stroke:"url(#hexGradient)",strokeWidth:"5",strokeLinecap:"round"}),c.jsx("circle",{cx:"50",cy:"50",r:"3",fill:"url(#innerGlow)",opacity:"0.8"})]}),c.jsx("circle",{cx:"50",cy:"5",r:"2",fill:"#3b82f6",opacity:"0.9"}),c.jsx("circle",{cx:"85",cy:"27.5",r:"2",fill:"#60a5fa",opacity:"0.9"}),c.jsx("circle",{cx:"85",cy:"72.5",r:"2",fill:"#3b82f6",opacity:"0.9"}),c.jsx("circle",{cx:"50",cy:"95",r:"2",fill:"#60a5fa",opacity:"0.9"}),c.jsx("circle",{cx:"15",cy:"72.5",r:"2",fill:"#3b82f6",opacity:"0.9"}),c.jsx("circle",{cx:"15",cy:"27.5",r:"2",fill:"#60a5fa",opacity:"0.9"})]})})}function Gd({size:t=24,showText:e=!0,textSize:n="1rem",uppercase:r=!1,color:i="currentColor"}){const[s,a]=S.useState(!1);return c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",fontFamily:"inherit"},children:[s?c.jsx("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0,display:"block"},children:c.jsx("path",{d:"M50 15 L75 85 L65 85 L60 70 L40 70 L35 85 L25 85 Z M45 55 L55 55 L50 40 Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2"})}):c.jsx("img",{src:"/arc-logo.svg",alt:"Arc Logo",style:{width:`${t}px`,height:`${t}px`,objectFit:"contain",flexShrink:0,display:"block"},onError:o=>{if(console.error("Erro ao carregar logo da Arc. Tentando PNG..."),o.target.src.endsWith(".svg")){o.target.src="/arc-logo.png";return}console.error("Erro ao carregar logo da Arc (PNG tambm falhou)"),a(!0)}}),e&&c.jsx("span",{style:{fontSize:n,fontWeight:"600",color:"inherit",letterSpacing:"0.05em",textTransform:r?"uppercase":"none"},children:"Arc"})]})}function V5(){const{account:t,connectWallet:e,marketplaceContract:n,nftContract:r}=kl(),[i,s]=S.useState([]),[a,o]=S.useState({totalVolume:0,totalItems:0,loading:!0});return S.useEffect(()=>{(async()=>{if(!n||!r){o(u=>({...u,loading:!1}));return}try{o(y=>({...y,loading:!0}));const u=await n.listingCounter(),d=Number(u);if(d===0){o({totalVolume:0,totalItems:0,loading:!1}),s([]);return}const f=[],h=Math.min(d,20);for(let y=0;y<h;y++)f.push(n.getListing(y).catch(()=>null));const w=await Promise.all(f),x=[];let v=vr("0");for(let y=0;y<w.length&&x.length<6;y++){const k=w[y];k&&k.active&&(x.push({listingId:y,nftContract:k.nftContract,tokenId:k.tokenId,seller:k.seller,price:k.price,active:k.active}),v=v+k.price)}x.sort((y,k)=>{const B=BigInt(y.price),L=BigInt(k.price);return L>B?1:L<B?-1:0});const A=x.slice(0,3),g=await Promise.all(A.map(async y=>{try{const k=n.runner||n.provider,L=await new ft(y.nftContract,r.interface,k).tokenURI(y.tokenId);let P={name:`NFT #${y.tokenId}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"};try{const E=JSON.parse(L);P={name:E.name||`NFT #${y.tokenId}`,description:E.description||"NFT from Genesis Launchpad",image:E.image||"",social_links:E.social_links||{},external_url:E.external_url||"",supply:E.supply||"1"}}catch{let V=L;if(L.startsWith("ipfs://")?V=`https://gateway.pinata.cloud/ipfs/${L.replace("ipfs://","")}`:(L.startsWith("Qm")||L.startsWith("baf"))&&(V=`https://gateway.pinata.cloud/ipfs/${L}`),V.startsWith("http"))try{const U=await fetch(V);if(U.ok){const Y=await U.json();if(P={name:Y.name||`NFT #${y.tokenId}`,description:Y.description||"NFT from Genesis Launchpad",image:Y.image||"",social_links:Y.social_links||{},external_url:Y.external_url||"",supply:Y.supply||"1"},P.image&&P.image.startsWith("ipfs://")){const we=P.image.replace("ipfs://","");P.image=`https://gateway.pinata.cloud/ipfs/${we}`}else P.image&&(P.image.startsWith("Qm")||P.image.startsWith("baf"))&&(P.image=`https://gateway.pinata.cloud/ipfs/${P.image}`)}}catch(U){console.log("Could not load metadata:",U)}}return{...y,metadata:P}}catch{return{...y,metadata:{name:`NFT #${y.tokenId}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"}}}}));let m=vr("0");for(const y of w)y&&y.active&&(m=m+y.price);s(g.filter(y=>y!==null)),o({totalVolume:parseFloat(ot(m)),totalItems:x.length,loading:!1})}catch(u){console.error("Error loading featured NFTs:",u),o({totalVolume:0,totalItems:0,loading:!1}),s([])}})()},[n,r]),c.jsxs("div",{className:"container",children:[c.jsxs("section",{className:"hero",children:[c.jsx("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"center"},children:c.jsx(Fb,{size:120,animate:!0})}),c.jsx("h1",{style:{fontSize:"6rem",marginBottom:"1rem",background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",filter:"drop-shadow(0 0 30px rgba(59, 130, 246, 0.5))",fontWeight:"900",letterSpacing:"0.15em"},children:"GENESIS"}),c.jsx("div",{style:{fontSize:"1.25rem",letterSpacing:"0.2em",color:"var(--accent-gold)",marginBottom:"1.5rem",textTransform:"uppercase",fontWeight:"600"},children:"Launch on Genesis"}),c.jsx("p",{className:"hero-subtitle",style:{maxWidth:"600px",margin:"0 auto 2rem"},children:"Discover, Collect, and Sell Extraordinary NFTs"}),c.jsx("div",{className:"flex-center gap-2",style:{marginTop:"2rem"},children:t?c.jsxs(c.Fragment,{children:[c.jsx(Zn,{to:"/collections",children:c.jsx("button",{className:"btn btn-primary",style:{padding:"1rem 2rem",fontSize:"1.0625rem"},children:"Collections"})}),c.jsx(Zn,{to:"/launchpad",children:c.jsx("button",{className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1.0625rem"},children:"Launchpad"})})]}):c.jsx("button",{className:"btn btn-primary",onClick:e,style:{padding:"1rem 2.5rem",fontSize:"1.0625rem"},children:"Get Started"})})]}),c.jsx("section",{className:"mt-4",children:c.jsxs("div",{className:"nft-grid",children:[c.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2.5rem 2rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(96, 165, 250, 0.05) 100%)"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"},children:""}),c.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.25rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Create"}),c.jsx("p",{className:"text-secondary",style:{lineHeight:"1.6"},children:"Transform your digital creations into unique, authentic NFTs"})]}),c.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2.5rem 2rem",background:"linear-gradient(135deg, rgba(96, 165, 250, 0.05) 0%, rgba(59, 130, 246, 0.05) 100%)"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 0 10px rgba(96, 165, 250, 0.5))"},children:""}),c.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.25rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Trade"}),c.jsx("p",{className:"text-secondary",style:{lineHeight:"1.6"},children:"List your NFTs with fair fees and secure blockchain transactions"})]}),c.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2.5rem 2rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(96, 165, 250, 0.05) 100%)"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"},children:""}),c.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.25rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Collect"}),c.jsx("p",{className:"text-secondary",style:{lineHeight:"1.6"},children:"Enjoy fast transactions and low fees on Arc Testnet"})]})]})}),c.jsxs("section",{className:"mt-4",style:{marginTop:"4rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"2rem",flexWrap:"wrap",gap:"1.5rem"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"2rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em",background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem"},children:" Top 3 Featured NFTs"}),c.jsx("p",{className:"text-secondary",children:"Featured NFTs with highest market value"})]}),!a.loading&&c.jsxs("div",{style:{display:"flex",gap:"2rem",alignItems:"center",flexWrap:"wrap"},children:[c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Total Volume"}),c.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[a.totalVolume.toFixed(2)," USDC"]})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Items Listed"}),c.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-primary)"},children:a.totalItems})]})]})]}),a.loading?c.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",background:"var(--border-light)",borderRadius:"16px",border:"2px solid var(--border)"},children:[c.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),c.jsx("p",{className:"text-secondary",children:"Loading featured NFTs..."})]}):i.length>0?c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:i.map(l=>c.jsxs("div",{className:"card",style:{overflow:"hidden",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",border:"1px solid var(--border)",background:"var(--surface)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-4px)",u.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[c.jsx("div",{style:{width:"100%",height:"300px",overflow:"hidden",background:"var(--border-light)"},children:l.metadata.image?c.jsx("img",{src:l.metadata.image.startsWith("ipfs://")?l.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):l.metadata.image.startsWith("Qm")||l.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${l.metadata.image}`:l.metadata.image,alt:l.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:u=>{u.target.style.display="none"}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem"},children:""})}),c.jsxs("div",{style:{padding:"1.25rem"},children:[c.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:[l.nftContract.substring(0,6),"...",l.nftContract.substring(38)]}),c.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"700",marginBottom:"0.5rem",color:"var(--text-primary)"},children:l.metadata.name}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"1rem",borderTop:"1px solid var(--border)",marginTop:"1rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Price"}),c.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"var(--accent-gold)"},children:[ot(l.price)," USDC"]})]}),c.jsx(Zn,{to:"/collections",children:c.jsx("button",{className:"btn btn-primary",style:{padding:"0.625rem 1.25rem",fontSize:"0.875rem"},children:"View "})})]})]})]},l.listingId))}):c.jsxs("div",{style:{textAlign:"center",padding:"3rem 2rem",background:"var(--border-light)",borderRadius:"16px",border:"2px solid var(--border)"},children:[c.jsx("p",{className:"text-secondary",style:{fontSize:"1rem",marginBottom:"1.5rem"},children:"No NFTs listed in the launchpad yet"}),c.jsx(Zn,{to:"/launchpad",children:c.jsx("button",{className:"btn btn-primary",style:{padding:"1rem 2rem",fontSize:"1rem"},children:"Create First NFT "})})]}),i.length>0&&c.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:c.jsx(Zn,{to:"/collections",children:c.jsx("button",{className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1rem"},children:"View All NFTs "})})})]}),c.jsx("section",{className:"mt-4 text-center",children:c.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto",padding:"3rem 2rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.03) 0%, rgba(96, 165, 250, 0.03) 100%)",border:"2px solid",borderImage:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light)) 1"},children:[c.jsxs("h2",{style:{marginBottom:"1rem",fontSize:"1.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",color:"var(--text)"},children:[c.jsx("span",{style:{background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Powered by"}),c.jsx("div",{style:{color:"var(--accent-gold)"},children:c.jsx(Gd,{size:32,showText:!0,textSize:"1.75rem"})})]}),c.jsx("p",{className:"text-secondary",style:{marginBottom:"1.5rem",fontSize:"1.0625rem",lineHeight:"1.6"},children:"Arc Testnet offers robust and efficient infrastructure for NFTs, with native USDC support and seamless Web3 integration."}),c.jsxs("div",{className:"flex-center gap-2",style:{marginTop:"2rem",flexWrap:"wrap"},children:[c.jsx("div",{className:"badge badge-success",children:"Chain ID: 5042002"}),c.jsx("div",{className:"badge badge-success",children:"Currency: USDC"}),c.jsx("div",{className:"badge badge-success",children:"Fast & Secure"})]}),c.jsx("div",{style:{marginTop:"2rem"},children:c.jsx("a",{href:"https://testnet.arcscan.app",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline",style:{padding:"0.875rem 1.5rem"},children:"View Explorer "})})]})})]})}const _r=[{inputs:[{internalType:"string",name:"_collectionName",type:"string"},{internalType:"uint256",name:"_maxSupply",type:"uint256"},{internalType:"address",name:"_creator",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Airdrop",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"image",type:"string"}],name:"CollectionMetadataUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EarningsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldLimit",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newLimit",type:"uint256"}],name:"MaxMintPerWalletUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newPrice",type:"uint256"}],name:"MintPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"MintingStatusChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"tokenURI",type:"string"}],name:"NFTMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"PublicMintStatusChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint96",name:"feeNumerator",type:"uint96"}],name:"RoyaltyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"bool",name:"status",type:"bool"}],name:"WhitelistUpdated",type:"event"},{inputs:[{internalType:"string[]",name:"uris",type:"string[]"}],name:"addTokenURIs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"addToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"addToWhitelistBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"_tokenURI",type:"string"}],name:"airdrop",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"string[]",name:"tokenURIs",type:"string[]"}],name:"airdropBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"string",name:"_tokenURI",type:"string"}],name:"airdropSameURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"availableEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"availableURIsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"canMint",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionDescription",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionImage",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"createdAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCollectionInfo",outputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_image",type:"string"},{internalType:"uint256",name:"_maxSupply",type:"uint256"},{internalType:"uint256",name:"_totalSupply",type:"uint256"},{internalType:"uint256",name:"_mintPrice",type:"uint256"},{internalType:"bool",name:"_mintingEnabled",type:"bool"},{internalType:"bool",name:"_publicMintEnabled",type:"bool"},{internalType:"bool",name:"_whitelistEnabled",type:"bool"},{internalType:"uint256",name:"_maxMintPerWallet",type:"uint256"},{internalType:"address",name:"_creator",type:"address"},{internalType:"uint256",name:"_createdAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintPerWallet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"_tokenURI",type:"string"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string[]",name:"tokenURIs",type:"string[]"}],name:"mintBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"mintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"mintedPerWallet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"publicMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"publicMintEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"removeFromWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"image",type:"string"}],name:"setCollectionMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"limit",type:"uint256"}],name:"setMaxMintPerWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"setMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setMintingEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setPublicMintEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint96",name:"feeNumerator",type:"uint96"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setWhitelistEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"whitelistEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawEarnings",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawnEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function Q5(){const{marketplaceContract:t,account:e,nftContract:n,isCorrectNetwork:r}=kl(),[i,s]=S.useState([]),[a,o]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null),[h,w]=S.useState("price-desc"),[x,v]=S.useState("all"),[A,g]=S.useState("all"),[m,y]=S.useState({min:"",max:""}),[k,B]=S.useState(!1);S.useEffect(()=>{if(t&&n){P();const H=()=>{console.log(" Novo NFT listado! Recarregando listagens..."),setTimeout(()=>{P()},2e3)};if(t)try{t.on("ItemListed",H),console.log(" Ouvindo eventos ItemListed do marketplace")}catch(X){console.warn(" No foi possvel configurar listener de eventos:",X)}return()=>{if(t)try{t.off("ItemListed",H)}catch{}}}},[t,n]),S.useEffect(()=>{const H=()=>{t&&n&&(console.log(" Pgina em foco, recarregando listagens..."),P())};return window.addEventListener("focus",H),()=>window.removeEventListener("focus",H)},[t,n]);const L=H=>{let _=[...H!==void 0?H:i];if(x==="rare"?_=_.filter(z=>{var T,F,W,M;const ee=((F=(T=z.metadata)==null?void 0:T.rarity)==null?void 0:F.rank)||((M=(W=z.metadata)==null?void 0:W.rarity)==null?void 0:M.score);return ee&&ee<=10}):x==="common"&&(_=_.filter(z=>{var T,F,W,M;const ee=((F=(T=z.metadata)==null?void 0:T.rarity)==null?void 0:F.rank)||((M=(W=z.metadata)==null?void 0:W.rarity)==null?void 0:M.score);return!ee||ee>10})),A!=="all"&&(_=_.filter(z=>{var T;const ee=(T=z.metadata)==null?void 0:T.collection_name;return ee&&ee.toLowerCase().includes(A.toLowerCase())})),m.min!==""){const z=vr(m.min);_=_.filter(ee=>ee.price>=z)}if(m.max!==""){const z=vr(m.max);_=_.filter(ee=>ee.price<=z)}_.sort((z,ee)=>{var T,F,W,M,ve,Te,be,Me,Ae,He,gn,We,Ge,$e,Ze,D;switch(h){case"price-desc":return parseFloat(ot(ee.price))-parseFloat(ot(z.price));case"price-asc":return parseFloat(ot(z.price))-parseFloat(ot(ee.price));case"rarity-desc":{const ne=((F=(T=z.metadata)==null?void 0:T.rarity)==null?void 0:F.score)||((M=(W=z.metadata)==null?void 0:W.rarity)==null?void 0:M.rank)||0;return(((Te=(ve=ee.metadata)==null?void 0:ve.rarity)==null?void 0:Te.score)||((Me=(be=ee.metadata)==null?void 0:be.rarity)==null?void 0:Me.rank)||0)-ne}case"rarity-asc":{const ne=((He=(Ae=z.metadata)==null?void 0:Ae.rarity)==null?void 0:He.score)||((We=(gn=z.metadata)==null?void 0:gn.rarity)==null?void 0:We.rank)||0,Re=(($e=(Ge=ee.metadata)==null?void 0:Ge.rarity)==null?void 0:$e.score)||((D=(Ze=ee.metadata)==null?void 0:Ze.rarity)==null?void 0:D.rank)||0;return ne-Re}case"recent":default:return 0}}),o(_)};S.useEffect(()=>{i.length>0?L(i):i.length===0&&a.length>0&&o([])},[h,x,A,m.min,m.max,i.length]);const P=async()=>{var H;try{if(u(!0),!t||!n){console.error("Contratos no inicializados"),R.error("Contratos no inicializados. Reconecte sua carteira."),s([]),o([]);return}console.log("=== INICIANDO CARREGAMENTO DE LISTAGENS ==="),console.log("Marketplace Contract:",t==null?void 0:t.target),console.log("NFT Contract:",n==null?void 0:n.target);try{const X=await t.listingCounter(),_=Number(X);if(console.log(" Total de listagens no contrato:",_),console.log("   (listingCounter value:",X.toString(),")"),_===0){console.log(" Nenhuma listagem encontrada no contrato"),console.log("   Se voc acabou de listar um NFT, aguarde alguns segundos e recarregue"),s([]),o([]);return}const z=[];console.log(` Iniciando iterao por ${_} listagens...`);for(let F=0;F<_;F++)try{console.log(` Carregando listagem ${F}/${_-1}...`);const W=await t.getListing(F),M={listingId:F,nftContract:W.nftContract,tokenId:W.tokenId.toString(),seller:W.seller,price:W.price.toString(),active:W.active};console.log(`   Listagem ${F}:`,M),W.active?(z.push({listingId:F,nftContract:W.nftContract,tokenId:W.tokenId,seller:W.seller,price:W.price,active:W.active}),console.log(`    Listagem ${F} est ATIVA - ser exibida`)):console.log(`    Listagem ${F} est INATIVA - no ser exibida`)}catch(W){console.error(`    Erro ao carregar listagem ${F}:`,{message:W.message,code:W.code,data:W.data});continue}if(console.log(` Listagens ativas encontradas: ${z.length}`),console.log("Detalhes das listagens ativas:",z),z.length===0){console.log(" Nenhuma listagem ativa encontrada"),s([]),o([]);return}const T=(await Promise.all(z.map(async F=>{var W,M,ve;try{const Te=F.nftContract||F[0],be=((W=F.tokenId)==null?void 0:W.toString())||((M=F[1])==null?void 0:M.toString());if(!Te||be===void 0)return console.error(" Listagem sem dados vlidos:",F),null;console.log(` Carregando metadados para NFT ${be} do contrato ${Te}`);const Me=t.runner||t.provider,He=Te.toLowerCase()===Ct.mockNFT.toLowerCase()?n.interface:_r,We=await new ft(Te,He,Me).tokenURI(be);console.log(`   TokenURI: ${We.substring(0,100)}...`);let Ge={name:`NFT #${be}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"};try{const $e=JSON.parse(We);Ge={name:$e.name||`NFT #${be}`,description:$e.description||"NFT from Genesis Launchpad",image:$e.image||"",social_links:$e.social_links||{},external_url:$e.external_url||"",supply:$e.supply||"1",rarity:$e.rarity||null,collection_name:$e.collection_name||null,collection_supply:$e.collection_supply||null,edition_number:$e.edition_number||null}}catch{let Ze=We;if(We.startsWith("ipfs://")?Ze=`https://gateway.pinata.cloud/ipfs/${We.replace("ipfs://","")}`:(We.startsWith("Qm")||We.startsWith("baf"))&&(Ze=`https://gateway.pinata.cloud/ipfs/${We}`),Ze.startsWith("http"))try{const D=await fetch(Ze);if(D.ok){const ne=await D.json();if(Ge={name:ne.name||`NFT #${be}`,description:ne.description||"NFT from Genesis Launchpad",image:ne.image||"",social_links:ne.social_links||{},external_url:ne.external_url||"",supply:ne.supply||"1",rarity:ne.rarity||null,collection_name:ne.collection_name||null,collection_supply:ne.collection_supply||null,edition_number:ne.edition_number||null},Ge.image&&Ge.image.startsWith("ipfs://")){const Re=Ge.image.replace("ipfs://","");Ge.image=`https://gateway.pinata.cloud/ipfs/${Re}`}else Ge.image&&(Ge.image.startsWith("Qm")||Ge.image.startsWith("baf"))&&(Ge.image=`https://gateway.pinata.cloud/ipfs/${Ge.image}`)}}catch(D){console.log("Could not load metadata from URI:",D)}}return{...F,metadata:Ge}}catch(Te){console.error(`    Error loading NFT metadata for listing ${F.listingId}:`,Te);const be=((ve=F.tokenId)==null?void 0:ve.toString())||"unknown";return{...F,metadata:{name:`NFT #${be}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"}}}}).filter(F=>F!==null))).filter(F=>F&&F.active);console.log(` Listagens vlidas com metadados: ${T.length}`),console.log("Listagens finais:",T),s(T),L(T),T.length>0&&console.log(` ${T.length} listing(s) carregado(s) com sucesso`)}catch(X){throw console.error(" Erro ao buscar listingCounter:",X),X}}catch(X){console.error("Error loading listings:",X),console.error("Error details:",{message:X.message,code:X.code,data:X.data}),R.error(`Error loading NFTs: ${((H=X.message)==null?void 0:H.substring(0,100))||"Unknown error"}`),s([]),o([])}finally{u(!1)}},E=async(H,X)=>{var _,z,ee,T,F;if(!e){R.error("Please connect your wallet first");return}if(!r){R.error("Please connect to Arc Testnet");return}try{f(H),R.loading("Processing purchase...",{id:"buy"}),console.log(" Iniciando compra:",{listingId:H,price:X.toString(),priceFormatted:ot(X),buyer:e});const W=await t.getListing(H);if(console.log(" Listagem encontrada:",{nftContract:W.nftContract,tokenId:W.tokenId.toString(),seller:W.seller,price:W.price.toString(),active:W.active}),!W.active){R.error("This listing is no longer active",{id:"buy"});return}if(W.seller.toLowerCase()===e.toLowerCase()){R.error("You cannot buy your own NFT",{id:"buy"});return}const M=await t.buyItem(H,{value:X});console.log(" Transao enviada:",M.hash);const ve=await M.wait();console.log(" Transao confirmada:",ve),R.success("NFT purchased successfully!",{id:"buy"}),P()}catch(W){console.error("Error buying NFT:",W);let M="Error purchasing NFT";(_=W.message)!=null&&_.includes("insufficient funds")?M="Insufficient balance to complete purchase":(z=W.message)!=null&&z.includes("user rejected")?M="Transaction rejected by user":(ee=W.message)!=null&&ee.includes("Marketplace nao aprovado")?M="NFT not approved for marketplace. Seller needs to re-list.":(T=W.message)!=null&&T.includes("Listagem nao esta ativa")?M="This listing is no longer active":(F=W.message)!=null&&F.includes("Voce nao e o dono")?M="Seller no longer owns this NFT":W.code==="ACTION_REJECTED"&&(M="Transaction cancelled"),R.error(M,{id:"buy"})}finally{f(null)}};if(!t||!n)return c.jsx("div",{className:"container",style:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("div",{className:"loading",style:{textAlign:"center"},children:[c.jsx("h2",{style:{marginBottom:"1rem"},children:"Connect your wallet to view collections"}),c.jsx("p",{className:"text-secondary mt-2",style:{marginBottom:"1rem"},children:'Click "Connect Wallet" at the top of the page'}),c.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),style:{marginTop:"1rem"},children:" Refresh Page"})]})});if(l)return c.jsx("div",{className:"container",style:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("div",{className:"loading",style:{textAlign:"center"},children:[c.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),c.jsx("p",{className:"text-secondary",children:"Loading NFTs..."})]})});if(a.length===0&&!l)return c.jsx("div",{className:"container",children:c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem"},children:"Collections"}),c.jsx("p",{className:"section-subtitle",children:"Real blockchain creations only"}),c.jsxs("div",{className:"card text-center",style:{marginTop:"2rem"},children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"No NFTs available"}),c.jsx("p",{className:"text-secondary mb-2",children:"Be the first to create and list an NFT!"}),c.jsx("button",{className:"btn btn-primary",onClick:P,style:{marginTop:"1rem"},children:" Reload"})]})]})});const V=[...a].sort((H,X)=>parseFloat(ot(X.price))-parseFloat(ot(H.price))),U=V.slice(0,3),Y=V.slice(3),we=(H,X=!1)=>{var _,z,ee,T,F,W;return c.jsxs("div",{className:"nft-card",style:X?{borderRadius:"16px",overflow:"hidden",background:"var(--surface)",border:"1px solid var(--border)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"}:{},onMouseEnter:M=>{X&&(M.currentTarget.style.transform="translateY(-4px)",M.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3)")},onMouseLeave:M=>{X&&(M.currentTarget.style.transform="translateY(0)",M.currentTarget.style.boxShadow="none")},children:[c.jsxs("div",{className:"nft-image",style:X?{height:"400px",position:"relative"}:{position:"relative"},children:[H.metadata.image?c.jsx("img",{src:H.metadata.image.startsWith("ipfs://")?H.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):H.metadata.image.startsWith("Qm")||H.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${H.metadata.image}`:H.metadata.image,alt:H.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:M=>{console.error("Erro ao carregar imagem:",H.metadata.image),M.target.style.display="none"}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:X?"6rem":"4rem"},children:""}),((_=H.metadata)==null?void 0:_.rarity)&&c.jsxs("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:H.metadata.rarity.rank<=5?"linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(96, 165, 250, 0.95))":H.metadata.rarity.rank<=10?"linear-gradient(135deg, rgba(192, 192, 192, 0.95), rgba(230, 230, 230, 0.95))":"rgba(139, 69, 19, 0.9)",color:H.metadata.rarity.rank<=10?"var(--text)":"white",padding:"0.5rem 0.75rem",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"700",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"0.25rem"},children:[H.metadata.rarity.rank<=5?"":H.metadata.rarity.rank<=10?"":"","Rank #",H.metadata.rarity.rank,H.metadata.rarity.percentile&&c.jsxs("span",{style:{fontSize:"0.65rem",opacity:.9},children:["(",H.metadata.rarity.percentile,")"]})]})]}),c.jsxs("div",{className:"nft-content",style:X?{padding:"1.25rem"}:{},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",flexWrap:"wrap",gap:"0.5rem"},children:[c.jsx("div",{className:"nft-collection-name",style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:((z=H.metadata)==null?void 0:z.collection_name)||`${H.nftContract.substring(0,6)}...${H.nftContract.substring(38)}`}),c.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:((ee=H.metadata)==null?void 0:ee.edition_number)&&((T=H.metadata)==null?void 0:T.collection_supply)&&c.jsxs("span",{style:{background:"var(--border-light)",color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"600",padding:"0.25rem 0.5rem",borderRadius:"6px",border:"1px solid var(--border)"},children:["#",H.metadata.edition_number,"/",H.metadata.collection_supply]})})]}),c.jsx("h3",{className:"nft-title",style:X?{fontSize:"1.25rem",marginBottom:"0.5rem"}:{},children:H.metadata.name}),X&&H.metadata.description&&c.jsxs("p",{className:"nft-description",style:{marginBottom:"1rem",fontSize:"0.9375rem"},children:[(F=H.metadata.description)==null?void 0:F.substring(0,120),((W=H.metadata.description)==null?void 0:W.length)>120?"...":""]}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px solid var(--border-light)",alignItems:"center",justifyContent:"space-between"},children:[H.metadata.social_links&&Object.values(H.metadata.social_links).some(M=>M)&&c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[H.metadata.social_links.twitter&&c.jsx("a",{href:H.metadata.social_links.twitter,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Twitter",children:""}),H.metadata.social_links.discord&&c.jsx("a",{href:H.metadata.social_links.discord,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Discord",children:""}),H.metadata.social_links.instagram&&c.jsx("a",{href:H.metadata.social_links.instagram,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Instagram",children:""}),H.metadata.external_url&&c.jsx("a",{href:H.metadata.external_url,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Website",children:""})]}),c.jsx("a",{href:`${_t.blockExplorerUrls[0]}/token/${H.nftContract}?a=${H.tokenId.toString()}`,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"6px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",border:"1px solid rgba(59, 130, 246, 0.3)",textDecoration:"none",opacity:.8,transition:"all 0.2s",cursor:"pointer",padding:"4px"},onMouseOver:M=>{M.currentTarget.style.opacity=1,M.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2))",M.currentTarget.style.borderColor="rgba(59, 130, 246, 0.5)",M.currentTarget.style.transform="scale(1.1)"},onMouseOut:M=>{M.currentTarget.style.opacity=.8,M.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",M.currentTarget.style.borderColor="rgba(59, 130, 246, 0.3)",M.currentTarget.style.transform="scale(1)"},title:"View on Arc Explorer",children:c.jsx(Gd,{size:20,showText:!1})})]}),c.jsx("div",{className:"nft-price",style:X?{marginBottom:"0.75rem"}:{marginBottom:"0.5rem"},children:c.jsxs("div",{style:{width:"100%"},children:[c.jsx("div",{className:"price-label",children:"Current Price"}),c.jsxs("div",{className:"price-value",style:{marginTop:"0.25rem",fontSize:X?"1.25rem":"1rem"},children:[c.jsx("span",{style:{fontSize:X?"1rem":"0.875rem",marginRight:"0.25rem"},children:""}),ot(H.price)," USDC"]})]})}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",color:"var(--text-secondary)",padding:"0.5rem",background:"var(--surface-alt)",borderRadius:"6px",marginBottom:"0.75rem",gap:"0.5rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[c.jsx("span",{children:""}),c.jsxs("span",{children:["Marketplace: ",aw.marketplaceFee,"%"]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[c.jsx("span",{children:""}),c.jsxs("span",{children:["Royalty: ",aw.defaultRoyalty,"%"]})]})]}),c.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:X?"1rem":"0.75rem",fontSize:X?"1rem":"0.875rem"},onClick:()=>E(H.listingId,H.price),disabled:d===H.listingId||H.seller.toLowerCase()===(e==null?void 0:e.toLowerCase()),children:d===H.listingId?"Processing...":H.seller.toLowerCase()===(e==null?void 0:e.toLowerCase())?"Your NFT":"Buy Now"})]})]},H.listingId)};return c.jsx("div",{className:"container",children:c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"Collections"}),c.jsxs("p",{className:"section-subtitle",children:[a.length," NFT",a.length!==1?"s":""," available  Real blockchain creations only"]})]}),c.jsx("button",{className:"btn btn-secondary",onClick:P,style:{padding:"0.75rem 1.5rem"},title:"Reload listings",children:" Reload"})]}),U.length>0&&c.jsxs("div",{style:{marginBottom:"4rem"},children:[c.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{children:""}),"Featured NFTs"]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:U.length===1?"1fr":U.length===2?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:"1.5rem",marginBottom:"2rem"},children:U.map(H=>we(H,!0))})]}),Y.length>0&&c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem"},children:"All NFTs"}),c.jsx("div",{className:"nft-grid",children:Y.map(H=>we(H,!1))})]}),U.length===0&&Y.length===0&&a.length>0&&c.jsxs("div",{className:"card text-center",style:{marginTop:"2rem"},children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"Error displaying NFTs"}),c.jsxs("p",{className:"text-secondary mb-2",children:["There are ",a.length," NFT(s) available but they couldn't be displayed."]}),c.jsx("button",{className:"btn btn-primary",onClick:P,style:{marginTop:"1rem"},children:" Reload"})]})]})})}function K5(){const{nftContract:t,marketplaceContract:e,collectionFactoryContract:n,account:r,isCorrectNetwork:i,signer:s}=kl(),[a,o]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState([]),[h,w]=S.useState(!0),[x,v]=S.useState(!1),[A,g]=S.useState(!1),[m,y]=S.useState(!1),[k,B]=S.useState(null),[L,P]=S.useState(null),[E,V]=S.useState(""),[U,Y]=S.useState(""),[we,H]=S.useState(!1),[X,_]=S.useState(!1),[z,ee]=S.useState({name:"",description:"",twitter:"",discord:"",instagram:"",website:""}),[T,F]=S.useState(!1);S.useEffect(()=>{t&&e&&r?M():r&&(!t||!e)?(w(!1),console.warn("Contratos no inicializados")):w(!1)},[t,e,r]);const W=async(D,ne,Re)=>{let Ve={name:`NFT #${ne}`,description:"NFT from Genesis Launchpad",image:"",supply:"1",contractAddress:Re};try{const N=JSON.parse(D);Ve={name:N.name||`NFT #${ne}`,description:N.description||"NFT from Genesis Launchpad",image:N.image||"",social_links:N.social_links||{},external_url:N.external_url||"",supply:N.collection_supply||N.supply||"1",collection_name:N.collection_name||"",edition_number:N.edition_number||null,rarity:N.rarity||null,is_collection:N.is_collection||!1,contractAddress:Re}}catch{let Z=D;if(D.startsWith("ipfs://")?Z=`https://gateway.pinata.cloud/ipfs/${D.replace("ipfs://","")}`:(D.startsWith("Qm")||D.startsWith("baf"))&&(Z=`https://gateway.pinata.cloud/ipfs/${D}`),Z.startsWith("http"))try{const ue=await fetch(Z);if(ue.ok){const I=await ue.json();if(Ve={name:I.name||`NFT #${ne}`,description:I.description||"NFT from Genesis Launchpad",image:I.image||"",social_links:I.social_links||{},external_url:I.external_url||"",supply:I.collection_supply||I.supply||"1",collection_name:I.collection_name||"",edition_number:I.edition_number||null,rarity:I.rarity||null,is_collection:I.is_collection||!1,contractAddress:Re},Ve.image&&Ve.image.startsWith("ipfs://")){const q=Ve.image.replace("ipfs://","");Ve.image=`https://gateway.pinata.cloud/ipfs/${q}`}}}catch(ue){console.log("Could not load metadata from URI:",ue)}}return Ve},M=async()=>{var D;try{if(w(!0),!e){console.error("Contratos no inicializados"),R.error("Contracts not initialized. Please reconnect your wallet.");return}const ne=[];if(t)try{const N=await t.balanceOf(r);console.log(" MockNFT - Saldo de NFTs:",Number(N));const Z=[],ue=Math.min(100,Number(N)*3);for(let se=0;se<ue;se++)Z.push(t.ownerOf(se).catch(()=>null));const I=await Promise.all(Z),q=[];for(let se=0;se<I.length;se++)I[se]&&I[se].toLowerCase()===r.toLowerCase()&&q.push(se);console.log(`    Encontrados ${q.length} NFTs do MockNFT`);const fe=q.map(async se=>{try{const he=await t.tokenURI(se),ce=await W(he,se,Ct.mockNFT);return{tokenId:se,tokenURI:he,metadata:ce,contractAddress:Ct.mockNFT,isFromCollection:!1}}catch{return null}}),J=await Promise.all(fe);ne.push(...J.filter(se=>se!==null))}catch(N){console.warn("Erro ao carregar do MockNFT:",N)}console.log(" Verificando CollectionFactory...",{hasFactory:!!n,factoryAddress:(n==null?void 0:n.target)||"N/A",hasSigner:!!s,account:r});const Re=[],Ve=new Set;if(n&&s)try{console.log(" Buscando TODAS as colees no CollectionFactory..."),console.log("   Factory Address:",n.target),console.log("   User Account:",r);let N=[];try{N=await n.getAllCollections(),console.log("    Total de colees no Factory:",N.length)}catch(ue){console.warn("   Erro ao buscar todas as colees:",ue.message)}let Z=[];try{Z=await n.getCreatorCollections(r),console.log(" Colees criadas pelo usurio:",Z.length)}catch(ue){console.warn("Erro ao buscar colees criadas:",ue.message)}for(const ue of N)try{console.log(" Verificando coleo:",ue),Ve.add(ue.toLowerCase());const I=new ft(ue,_r,s),q=await I.collectionName(),fe=await I.totalSupply(),J=await I.maxSupply();console.log(`    ${q}: totalSupply=${fe}, maxSupply=${J}`);const se=Z.some(me=>me.toLowerCase()===ue.toLowerCase());let he="";try{const me=await I.collectionImage();me&&me!==""&&(he=me,console.log(`    Imagem da coleo (do contrato): ${he.substring(0,50)}...`))}catch(me){console.log("    Erro ao buscar collectionImage do contrato:",me.message)}if(!he&&Number(fe)>0)try{const me=await I.tokenURI(1);he=(await W(me,1,ue)).image,console.log(`    Imagem da coleo (do token #1): ${he.substring(0,50)}...`)}catch(me){console.log("    Erro ao buscar imagem do primeiro token:",me.message)}se&&Re.push({address:ue,name:q,totalSupply:Number(fe),maxSupply:Number(J),image:he});const ce=Math.max(Number(fe),Number(J));console.log(`    Buscando NFTs do usurio (limit: ${ce})...`);const K=[];for(let me=1;me<=ce;me++)K.push(I.ownerOf(me).catch(()=>null));const de=await Promise.all(K),Ee=[];for(let me=1;me<=de.length;me++)de[me-1]&&de[me-1].toLowerCase()===r.toLowerCase()&&Ee.push(me);if(Ee.length>0){console.log(`    Encontrados ${Ee.length} NFTs do usurio nesta coleo`);const me=Ee.map(async Xe=>{try{const mt=await I.tokenURI(Xe),te=await W(mt,Xe,ue);return{tokenId:Xe,tokenURI:mt,metadata:{...te,collection_name:q},contractAddress:ue,isFromCollection:!0,collectionName:q,isCreator:se}}catch(mt){return console.warn(`    Erro ao buscar metadata do token ${Xe}:`,mt.message),null}}),Oe=await Promise.all(me);ne.push(...Oe.filter(Xe=>Xe!==null))}}catch(I){console.warn("Erro ao carregar coleo:",ue,I.message);continue}}catch(N){console.warn("Erro ao buscar colees do CollectionFactory:",N)}f(Re),console.log(" Total de NFTs carregados:",ne.length),o(ne);try{const N=await e.listingCounter(),Z=[];for(let ue=0;ue<Number(N);ue++)try{const I=await e.getListing(ue);I.seller.toLowerCase()===r.toLowerCase()&&I.active&&Z.push({listingId:ue,nftContract:I.nftContract,tokenId:I.tokenId,seller:I.seller,price:I.price,active:I.active})}catch{continue}console.log("Listagens encontradas:",Z.length),Z.length>0&&console.log("Primeiro listing:",{listingId:Z[0].listingId,nftContract:Z[0].nftContract,tokenId:Number(Z[0].tokenId)}),u(Z)}catch(N){console.error("Erro ao carregar listagens:",N),u([])}}catch(ne){console.error("Error loading my NFTs:",ne),console.error("Error details:",{message:ne.message,code:ne.code,data:ne.data}),R.error(`Erro ao carregar NFTs: ${((D=ne.message)==null?void 0:D.substring(0,100))||"Erro desconhecido"}`),o([]),u([])}finally{w(!1)}},ve=D=>{B(D),v(!0),V("")},Te=()=>{v(!1),B(null),V("")},be=D=>{var Re,Ve,N;B(D);let ne={name:D.metadata.name,description:D.metadata.description};try{const Z=JSON.parse(D.tokenURI);ne={name:Z.name||D.metadata.name,description:Z.description||D.metadata.description,twitter:((Re=Z.social_links)==null?void 0:Re.twitter)||"",discord:((Ve=Z.social_links)==null?void 0:Ve.discord)||"",instagram:((N=Z.social_links)==null?void 0:N.instagram)||"",website:Z.external_url||""}}catch{ne={name:D.metadata.name,description:D.metadata.description,twitter:"",discord:"",instagram:"",website:""}}ee(ne),g(!0)},Me=()=>{g(!1),B(null),ee({name:"",description:"",twitter:"",discord:"",instagram:"",website:""})},Ae=D=>{ee({...z,[D.target.name]:D.target.value})},He=async()=>{if(!z.name||!z.description){R.error("Nome e descrio so obrigatrios");return}try{F(!0),R.success("Information saved locally! (To save on blockchain, contract needs update function)",{duration:5e3});const D=a.map(ne=>ne.tokenId===k.tokenId?{...ne,metadata:{...ne.metadata,name:z.name,description:z.description}}:ne);o(D),Me()}catch(D){console.error("Error saving NFT info:",D),R.error("Error saving information")}finally{F(!1)}},gn=async()=>{if(!E||parseFloat(E)<=0){R.error("Enter a valid price");return}if(!i){R.error("Por favor, conecte-se  Arc Testnet");return}try{if(H(!0),R.loading("Listing NFT...",{id:"list"}),!s||!r){R.error("Wallet not connected. Please connect your wallet.",{id:"list"}),H(!1);return}const D=await s.getAddress();if(D.toLowerCase()!==r.toLowerCase()){console.warn(" Signer address mismatch! Signer:",D,"Account:",r),R.error("Account changed. Please reconnect your wallet.",{id:"list"}),H(!1);return}const ne=k.contractAddress||Ct.mockNFT,Re=k.isFromCollection?new ft(ne,_r,s):(t==null?void 0:t.connect(s))||new ft(ne,_r,s);await Re.isApprovedForAll(r,Ct.marketplace)||(R.loading("Approving marketplace...",{id:"list"}),await(await Re.setApprovalForAll(Ct.marketplace,!0)).wait()),R.loading("Creating listing...",{id:"list"});const N=vr(E);console.log(" Listando NFT:",{nftContract:ne,tokenId:k.tokenId,price:E,priceWei:N.toString(),account:r,isFromCollection:k.isFromCollection});const Z=await e.listItem(ne,k.tokenId,N);console.log(" Aguardando confirmao da transao...",Z.hash);const ue=await Z.wait();console.log(" Transao confirmada:",ue);try{const I=e.interface,q=ue.logs.find(fe=>{try{return I.parseLog(fe).name==="ItemListed"}catch{return!1}});if(q){const fe=I.parseLog(q),J=fe.args.listingId;console.log(" NFT listado com sucesso! Listing ID:",J.toString()),console.log("Detalhes da listagem:",{listingId:J.toString(),seller:fe.args.seller,nftContract:fe.args.nftContract,tokenId:fe.args.tokenId.toString(),price:fe.args.price.toString()})}else console.warn(" Evento ItemListed no encontrado nos logs")}catch(I){console.error("Erro ao parsear evento:",I)}R.success("NFT listed successfully! Reload the Explore page to see it.",{id:"list",duration:5e3}),Te(),M()}catch(D){console.error("Error listing NFT:",D),R.error("Error listing NFT",{id:"list"})}finally{H(!1)}},We=async D=>{if(!i){R.error("Por favor, conecte-se  Arc Testnet");return}try{R.loading("Canceling listing...",{id:"cancel"}),await(await e.cancelListing(D)).wait(),R.success("Listing canceled!",{id:"cancel"}),M()}catch(ne){console.error("Error canceling listing:",ne),R.error("Error canceling listing",{id:"cancel"})}},Ge=(D,ne)=>{P(D),B(ne),Y(ot(D.price)),y(!0)},$e=()=>{y(!1),P(null),Y("")},Ze=async()=>{var D,ne;if(!U||parseFloat(U)<=0){R.error("Enter a valid price");return}if(!i){R.error("Please connect to Arc Testnet");return}try{_(!0),R.loading("Updating price...",{id:"updatePrice"});const Re=vr(U);await(await e.updateListingPrice(L.listingId,Re)).wait(),R.success(`Price updated to ${U} USDC!`,{id:"updatePrice"}),$e(),M()}catch(Re){console.error("Error updating price:",Re);let Ve="Error updating price";(D=Re.message)!=null&&D.includes("Apenas o vendedor")?Ve="Only the seller can update the price":(ne=Re.message)!=null&&ne.includes("Listagem nao esta ativa")&&(Ve="Listing is no longer active"),R.error(Ve,{id:"updatePrice"})}finally{_(!1)}};return r?!t||!e?c.jsx("div",{className:"container",children:c.jsxs("div",{className:"loading",children:[c.jsx("h2",{children:"Contracts not initialized"}),c.jsx("p",{className:"text-secondary mt-2",children:"Reconecte sua carteira para carregar seus NFTs"})]})}):h?c.jsx("div",{className:"container",children:c.jsxs("div",{className:"loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{className:"text-secondary",children:"Loading your NFTs..."})]})}):c.jsxs("div",{className:"container",children:[d.length>0&&c.jsxs("section",{style:{padding:"3rem 0",borderBottom:"1px solid var(--border)",marginBottom:"2rem"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem",marginBottom:"0.5rem"},children:" My Collections"}),c.jsxs("p",{className:"section-subtitle",style:{margin:0},children:[d.length," collection",d.length!==1?"s":""," created by you"]})]})}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:d.map(D=>c.jsxs("div",{style:{background:"var(--surface)",borderRadius:"16px",border:"1px solid var(--border)",overflow:"hidden",transition:"all 0.3s ease"},onMouseEnter:ne=>{ne.currentTarget.style.transform="translateY(-4px)",ne.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.2)"},onMouseLeave:ne=>{ne.currentTarget.style.transform="translateY(0)",ne.currentTarget.style.boxShadow="none"},children:[c.jsxs("div",{style:{height:"160px",overflow:"hidden",position:"relative"},children:[D.image?c.jsx("img",{src:D.image.startsWith("ipfs://")?D.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):D.image,alt:D.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):c.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, var(--primary), var(--accent-gold))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem"},children:""}),c.jsxs("div",{style:{position:"absolute",bottom:"0.75rem",right:"0.75rem",background:"rgba(0, 0, 0, 0.8)",padding:"0.375rem 0.75rem",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"600",color:"white"},children:[D.totalSupply," / ",D.maxSupply," minted"]})]}),c.jsxs("div",{style:{padding:"1.25rem"},children:[c.jsx("h3",{style:{margin:"0 0 0.75rem",fontSize:"1.125rem"},children:D.name}),c.jsx("div",{style:{marginBottom:"1rem"},children:c.jsx("div",{style:{height:"6px",background:"var(--border)",borderRadius:"3px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${D.totalSupply/D.maxSupply*100}%`,height:"100%",background:"linear-gradient(90deg, var(--primary), var(--accent-gold))",borderRadius:"3px",transition:"width 0.3s ease"}})})}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"1rem",fontFamily:"monospace",wordBreak:"break-all"},children:[D.address.substring(0,10),"...",D.address.substring(36)]}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[c.jsxs(Zn,{to:`/dashboard/${D.address}`,className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",textDecoration:"none"},children:[c.jsx("span",{children:""}),"Dashboard"]}),c.jsx("a",{href:`${_t.blockExplorerUrls[0]}/address/${D.address}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline",style:{padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"View on Explorer",children:c.jsx(Gd,{size:20,showText:!1})})]})]})]},D.address))})]}),c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem"},children:"My NFTs"}),c.jsxs("p",{className:"section-subtitle",children:[a.length," item",a.length!==1?"s":""," in your wallet"]}),a.length===0?c.jsxs("div",{className:"card text-center",children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"You don't have any NFTs yet"}),c.jsx("p",{className:"text-secondary mb-2",children:"Create your first NFT or buy one on the launchpad"})]}):c.jsx("div",{className:"nft-grid",children:a.map(D=>{var Ve,N;const ne=l.some(Z=>{var ue,I;return Number(Z.tokenId)===D.tokenId&&((ue=Z.nftContract)==null?void 0:ue.toLowerCase())===((I=D.contractAddress)==null?void 0:I.toLowerCase())}),Re=l.find(Z=>{var ue,I;return Number(Z.tokenId)===D.tokenId&&((ue=Z.nftContract)==null?void 0:ue.toLowerCase())===((I=D.contractAddress)==null?void 0:I.toLowerCase())});return c.jsxs("div",{className:"nft-card",children:[c.jsx("div",{className:"nft-image",children:D.metadata.image?c.jsx("img",{src:D.metadata.image.startsWith("ipfs://")?D.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):D.metadata.image.startsWith("Qm")||D.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${D.metadata.image}`:D.metadata.image,alt:D.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:Z=>{console.error("Erro ao carregar imagem:",D.metadata.image),Z.target.style.display="none"}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem"},children:""})}),c.jsxs("div",{className:"nft-content",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[c.jsx("div",{className:"nft-collection-name",children:D.collectionName||D.metadata.collection_name||"Genesis Collection"}),D.metadata.rarity&&c.jsxs("span",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.1))",color:"var(--accent-gold)",fontSize:"0.7rem",fontWeight:"700",padding:"0.25rem 0.5rem",borderRadius:"6px",border:"1px solid rgba(59, 130, 246, 0.3)"},children:["Rank #",D.metadata.rarity.rank]}),D.metadata.edition_number&&!D.metadata.rarity&&c.jsxs("span",{style:{background:"var(--border-light)",color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"600",padding:"0.25rem 0.5rem",borderRadius:"6px",border:"1px solid var(--border)"},children:["#",D.metadata.edition_number]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[c.jsx("h3",{className:"nft-title",style:{margin:0,flex:1},children:D.metadata.name}),c.jsx("a",{href:`${_t.blockExplorerUrls[0]}/token/${D.contractAddress||Ct.mockNFT}?a=${D.tokenId.toString()}`,target:"_blank",rel:"noopener noreferrer",onClick:Z=>Z.stopPropagation(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"6px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",border:"1px solid rgba(59, 130, 246, 0.3)",textDecoration:"none",opacity:.8,transition:"all 0.2s",cursor:"pointer",marginLeft:"0.5rem",flexShrink:0,padding:"4px"},onMouseOver:Z=>{Z.currentTarget.style.opacity=1,Z.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2))",Z.currentTarget.style.borderColor="rgba(59, 130, 246, 0.5)",Z.currentTarget.style.transform="scale(1.1)"},onMouseOut:Z=>{Z.currentTarget.style.opacity=.8,Z.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",Z.currentTarget.style.borderColor="rgba(59, 130, 246, 0.3)",Z.currentTarget.style.transform="scale(1)"},title:"View on Arc Explorer",children:c.jsx(Gd,{size:20,showText:!1})})]}),c.jsxs("p",{className:"nft-description",children:[(Ve=D.metadata.description)==null?void 0:Ve.substring(0,80),((N=D.metadata.description)==null?void 0:N.length)>80?"...":""]}),ne&&Re?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"nft-price",children:c.jsxs("div",{style:{width:"100%"},children:[c.jsx("div",{className:"price-label",children:"Listed For"}),c.jsxs("div",{className:"price-value",style:{marginTop:"0.25rem"},children:[c.jsx("span",{style:{fontSize:"0.875rem",marginRight:"0.25rem"},children:""}),ot(Re.price)," USDC"]})]})}),c.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:c.jsx("button",{className:"btn btn-primary",style:{flex:1},onClick:()=>Ge(Re,D),children:" Update Price"})}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{className:"btn btn-outline",style:{flex:1},onClick:()=>We(Re.listingId),children:"Cancel Listing"}),c.jsx("button",{className:"btn btn-secondary",style:{padding:"0.75rem"},onClick:()=>be(D),title:"Edit NFT Info",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"1rem"},onClick:()=>ve(D),children:"List for Sale"}),c.jsxs("button",{className:"btn btn-secondary",style:{width:"100%",marginTop:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:()=>be(D),children:[c.jsx("span",{children:""}),"Edit Info"]})]})]})]},D.tokenId)})})]}),A&&c.jsx("div",{className:"modal-overlay",onClick:Me,children:c.jsxs("div",{className:"modal",onClick:D=>D.stopPropagation(),style:{maxWidth:"600px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:"Edit NFT Information"}),c.jsx("button",{className:"modal-close",onClick:Me,children:""})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Name *"}),c.jsx("input",{type:"text",name:"name",className:"form-input",placeholder:"Item name",value:z.name,onChange:Ae,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description *"}),c.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Provide a detailed description",value:z.description,onChange:Ae,required:!0,rows:"4"})]}),c.jsxs("div",{style:{marginBottom:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--border)"},children:[c.jsx("label",{className:"form-label",style:{marginBottom:"1rem"},children:"Social Links"}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Twitter"]}),c.jsx("input",{type:"url",name:"twitter",className:"form-input",placeholder:"https://twitter.com/yourusername",value:z.twitter,onChange:Ae})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Discord"]}),c.jsx("input",{type:"url",name:"discord",className:"form-input",placeholder:"https://discord.gg/yourserver",value:z.discord,onChange:Ae})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Instagram"]}),c.jsx("input",{type:"url",name:"instagram",className:"form-input",placeholder:"https://instagram.com/yourusername",value:z.instagram,onChange:Ae})]}),c.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Website"]}),c.jsx("input",{type:"url",name:"website",className:"form-input",placeholder:"https://yoursite.com",value:z.website,onChange:Ae})]})]}),c.jsx("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:c.jsxs("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",margin:0},children:[" ",c.jsx("strong",{children:"Note:"})," Metadata changes are saved locally. To permanently save on blockchain, the NFT contract would need an update function (not standard in ERC-721)."]})}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[c.jsx("button",{className:"btn btn-secondary",style:{flex:1,padding:"1rem"},onClick:Me,children:"Cancel"}),c.jsx("button",{className:"btn btn-primary",style:{flex:1,padding:"1rem"},onClick:He,disabled:T,children:T?"Saving...":"Save Changes"})]})]})]})}),x&&c.jsx("div",{className:"modal-overlay",onClick:Te,children:c.jsxs("div",{className:"modal",onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:"List Item for Sale"}),c.jsx("button",{className:"modal-close",onClick:Te,children:""})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-secondary mb-2",style:{fontSize:"0.9375rem"},children:["You are listing: ",c.jsx("strong",{children:k==null?void 0:k.metadata.name})]}),c.jsxs("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[c.jsx("label",{className:"form-label",children:"Price (USDC)"}),c.jsx("input",{type:"number",step:"0.001",min:"0",className:"form-input",placeholder:"0.0",value:E,onChange:D=>V(D.target.value)})]}),c.jsxs("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Listing Price"}),c.jsxs("span",{style:{fontWeight:"600"},children:[E||"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Service Fee (2.5%)"}),c.jsxs("span",{style:{fontWeight:"600"},children:[E?(parseFloat(E)*.025).toFixed(4):"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.75rem",borderTop:"1px solid var(--border)",fontWeight:"600"},children:[c.jsx("span",{children:"You'll receive"}),c.jsxs("span",{style:{color:"var(--primary)"},children:[E?(parseFloat(E)*.975).toFixed(4):"0"," USDC"]})]})]}),c.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:"1rem"},onClick:gn,disabled:we,children:we?"Processing...":"Complete Listing"})]})]})}),m&&c.jsx("div",{className:"modal-overlay",onClick:$e,children:c.jsxs("div",{className:"modal",onClick:D=>D.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:" Update Listing Price"}),c.jsx("button",{className:"modal-close",onClick:$e,children:""})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-secondary mb-2",style:{fontSize:"0.9375rem"},children:["You are updating: ",c.jsx("strong",{children:k==null?void 0:k.metadata.name})]}),c.jsx("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Current Price"}),c.jsxs("span",{style:{fontWeight:"600",color:"var(--text-secondary)"},children:[L?ot(L.price):"0"," USDC"]})]})}),c.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[c.jsx("label",{className:"form-label",children:"New Price (USDC)"}),c.jsx("input",{type:"number",step:"0.001",min:"0",className:"form-input",placeholder:"0.0",value:U,onChange:D=>Y(D.target.value),style:{fontSize:"1.25rem",fontWeight:"600"}})]}),c.jsxs("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"New Price"}),c.jsxs("span",{style:{fontWeight:"600"},children:[U||"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Service Fee (2.5%)"}),c.jsxs("span",{style:{fontWeight:"600"},children:[U?(parseFloat(U)*.025).toFixed(4):"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.75rem",borderTop:"1px solid var(--border)",fontWeight:"600"},children:[c.jsx("span",{children:"You'll receive"}),c.jsxs("span",{style:{color:"var(--primary)"},children:[U?(parseFloat(U)*.975).toFixed(4):"0"," USDC"]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[c.jsx("button",{className:"btn btn-secondary",style:{flex:1,padding:"1rem"},onClick:$e,children:"Cancel"}),c.jsx("button",{className:"btn btn-primary",style:{flex:1,padding:"1rem"},onClick:Ze,disabled:X||!U||parseFloat(U)<=0,children:X?"Updating...":"Update Price"})]})]})]})})]}):c.jsx("div",{className:"container",children:c.jsxs("div",{className:"loading",children:[c.jsx("h2",{children:"Conecte sua carteira para ver seus NFTs"}),c.jsx("p",{className:"text-secondary mt-2",children:'Clique em "Conectar Carteira" no topo da pgina'})]})})}const za="774ab5199b8003054585",Ha="a3dd9747be1da046d4928bb4c5ac8c6fd49397703ca8d5bcec95549bf8a8475e",J5="https://gateway.pinata.cloud/ipfs/",cm=async t=>{var e,n,r;try{console.log(" Verificando configurao Pinata..."),console.log(" API Key presente:",!!za),console.log(" API Key valor:",za?`${za.substring(0,10)}...`:"no encontrada"),console.log(" Secret Key presente:",!!Ha),console.log(" Secret Key valor:",Ha?`${Ha.substring(0,10)}...`:"no encontrada"),console.log(" Import.meta.env.VITE_PINATA_API_KEY:","presente"),console.log(" Import.meta.env.VITE_PINATA_SECRET_KEY:","presente"),console.log(" Fazendo upload para Pinata (API antiga)...");const i=new FormData;i.append("file",t);const s=JSON.stringify({name:t.name,keyvalues:{timestamp:new Date().toISOString()}});i.append("pinataMetadata",s);const a=JSON.stringify({cidVersion:0});i.append("pinataOptions",a),console.log(" Endpoint: https://api.pinata.cloud/pinning/pinFileToIPFS"),console.log(" Usando API antiga (v1) do Pinata"),console.log(" Tamanho do arquivo:",t.size,"bytes"),console.log(" Tipo do arquivo:",t.type||"no especificado");const o=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{pinata_api_key:za,pinata_secret_api_key:Ha},body:i});if(console.log(" Resposta da API Pinata:",{status:o.status,statusText:o.statusText,ok:o.ok,headers:Object.fromEntries(o.headers.entries())}),!o.ok){const d=await o.text();console.error(" Erro completo da resposta:",d);let f=`Erro no upload Pinata (${o.status} ${o.statusText})`;try{const h=JSON.parse(d);console.error(" Erro JSON da API:",h),f=((e=h.error)==null?void 0:e.reason)||((n=h.error)==null?void 0:n.message)||h.message||d,o.status===401||o.status===403?((r=h.error)==null?void 0:r.reason)==="API_KEY_REVOKED"||f.includes("revoked")?f=` API KEY DO PINATA FOI REVOGADA!

 SOLUO: Gere novas chaves no Pinata:
1. Acesse: https://pinata.cloud
2. Faa login na sua conta
3. V em: Account Settings  API Keys
4. Clique em "New Key"
5. Selecione permisses: pinFileToIPFS, pinJSONToIPFS
6. Copie a nova API Key e Secret Key
7. Atualize o arquivo frontend/.env
8. Reinicie o servidor (Ctrl+C e npm run dev)

Veja IPFS_SETUP.md para mais detalhes.`:f="Chaves de API invlidas ou expiradas. Verifique se as chaves esto corretas no arquivo .env":o.status===429&&(f="Limite de requisies excedido. Aguarde alguns minutos e tente novamente.")}catch{f=d||f}throw console.error(" Erro da API Pinata:",f),new Error(`Erro no upload Pinata: ${f}`)}const l=await o.json(),u=l.IpfsHash||l.cid||l.hash;if(!u)throw console.error(" Resposta da API Pinata no contm hash:",l),new Error("Resposta da API Pinata invlida. Verifique suas chaves de API.");return console.log(" Upload IPFS concludo:",u),u}catch(i){if(console.error(" Erro ao fazer upload para IPFS:",i),console.error("Detalhes do erro:",{message:i.message,stack:i.stack}),i.message&&!i.message.includes("alternative"))return console.log(" Tentando mtodo alternativo..."),await Y5();throw i}},Y5=async t=>{typeof window<"u"&&window.location.hostname.includes("github.io");let e=` Pinata API keys not configured!

`;throw e+=` For GitHub Pages (Production):
`,e+=`1. Go to: https://github.com/younglubz/Marketplace-arc/settings/secrets/actions
`,e+=`2. Click "New repository secret"
`,e+=`3. Add these secrets:
`,e+=`   - Name: VITE_PINATA_API_KEY
`,e+=`   - Name: VITE_PINATA_SECRET_KEY
`,e+=`4. After adding secrets, trigger a new deploy:
`,e+=`   - Push to main branch, OR
`,e+=`   - Go to Actions tab  Deploy to GitHub Pages  Run workflow

`,e+=` Get your keys at: https://pinata.cloud  Account Settings  API Keys

`,e+=" See GITHUB_PAGES_PINATA_SETUP.md for detailed instructions.",new Error(e)},Oa=async t=>{try{const e=JSON.stringify(t),n=new Blob([e],{type:"application/json"}),r=new File([n],"metadata.json",{type:"application/json"});return await cm(r)}catch(e){throw console.error("Erro ao fazer upload de metadados:",e),e}},kr=t=>{if(!t)return"";const e=t.replace(/^ipfs:\/\//,"");return`${J5}${e}`};function Z5(){const{nftContract:t,account:e,isCorrectNetwork:n,collectionFactoryContract:r,signer:i}=kl(),s=ag();console.log(" Launchpad: Component rendered",{hasNftContract:!!t,account:e,isCorrectNetwork:n});const[a,o]=S.useState(!1),[l,u]=S.useState([]),[d,f]=S.useState([]),[h,w]=S.useState(!0),[x,v]=S.useState(null),[A,g]=S.useState("new"),[m,y]=S.useState("instant"),[k,B]=S.useState(""),[L,P]=S.useState(""),[E,V]=S.useState(!1),[U,Y]=S.useState("nftContract"),[we,H]=S.useState(""),[X,_]=S.useState(""),[z,ee]=S.useState("24"),[T,F]=S.useState({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),[W,M]=S.useState(null),[ve,Te]=S.useState(null),[be,Me]=S.useState(null),[Ae,He]=S.useState([]),[gn,We]=S.useState(!1),[Ge,$e]=S.useState(!1),Ze=S.useCallback(async()=>{try{w(!0),console.log(" Launchpad: Starting collection search...");const I=[];if(r)try{const J=await r.getAddress();console.log(" Fetching ALL collections from CollectionFactory (all users):",J),console.log(" Using getAllCollections() - this returns collections from ALL users");const se=await r.getAllCollections();console.log(` Total collections found (all users): ${se.length}`),se.length===0&&console.warn(" No collections found. Make sure collections have been created.");async function he(K){var de,Ee,me;try{const Oe=(i==null?void 0:i.provider)||((de=r==null?void 0:r.runner)==null?void 0:de.provider)||(r==null?void 0:r.provider);if(!Oe){console.warn(` No provider available for collection: ${K}`);return}const Xe=await Oe.getCode(K);if(!Xe||Xe==="0x"){console.warn(` Contract does not exist at address: ${K}`);return}const mt=i||Oe,te=new ft(K,_r,mt),[pe,qe,ge,wt,vt,xt,Dt]=await Promise.all([te.collectionName().catch(Ce=>(console.warn(` Error fetching collectionName for ${K}:`,Ce.message),null)),te.maxSupply().catch(Ce=>(console.warn(` Error fetching maxSupply for ${K}:`,Ce.message),null)),te.totalSupply().catch(Ce=>(console.warn(` Error fetching totalSupply for ${K}:`,Ce.message),0n)),te.creator().catch(Ce=>(console.warn(` Error fetching creator for ${K}:`,Ce.message),null)),te.availableURIsCount().catch(()=>0),te.publicMintEnabled().catch(()=>!1),te.mintPrice().catch(()=>0n)]);if(!pe||!qe){console.warn(` Skipping collection ${K}: missing essential data (name: ${pe}, maxSupply: ${qe})`);return}let it="";try{it=await te.collectionImage(),console.log(` [${pe}] collectionImage from contract:`,it||"not defined")}catch(Ce){console.warn(` [${pe}] Error fetching collectionImage:`,Ce.message);try{const Qe=await((Ee=te.getCollectionImage)==null?void 0:Ee.call(te).catch(()=>""))||await((me=te.image)==null?void 0:me.call(te).catch(()=>""))||"";Qe&&(it=Qe,console.log(` [${pe}] Image found via alternative method`))}catch{}}let nr=0,rn=Number(vt);try{nr=rn,console.log(` [${pe}] Raw values:`,{rawAvailableURIs:rn,publicMintEnabled:xt,totalSupply:Number(ge),maxSupply:Number(qe)}),nr===0&&Number(ge)<Number(qe)&&(console.log(` [${pe}] Using fallback: maxSupply - totalSupply`),nr=Number(qe)-Number(ge))}catch(Ce){console.log(` [${pe}] Error getting contract data:`,Ce.message),nr=Number(qe)-Number(ge)}const Ne=Number(ge),st=nr;console.log(` Collection ${pe}:`,{maxSupply:Number(qe),totalSupply:Number(ge),availableURIsCount:nr,publicMintEnabled:xt,minted:Ne,available:st});const Kt=Dt>0n?parseFloat(ot(Dt)).toString():"0";console.log(` [${pe}] Contract price:`,{contractMintPrice:Dt.toString(),mintPriceInUsdc:Kt,isZero:Kt==="0"||parseFloat(Kt)===0,parseFloatResult:parseFloat(Kt)}),console.log(" Collection image from contract:",it||"not defined");let Ie="";it&&it!==""&&it.trim()!==""?(it.startsWith("ipfs://")?Ie=it.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):it.startsWith("Qm")||it.startsWith("baf")?Ie=`https://gateway.pinata.cloud/ipfs/${it}`:(it.startsWith("http"),Ie=it),console.log(` [${pe}] Processed CollectionImage: ${Ie}`)):console.log(` [${pe}] collectionImageUrl empty or invalid: "${it}"`);let ie={name:pe,description:"",image:Ie||"",initial_price:Kt,mint_price_wei:Dt.toString(),supply:Number(qe),minted:Ne,available:st,publicMintEnabled:xt,creator:wt};if((!Ie||Ie==="")&&Number(ge)>0)try{console.log(` [${pe}] Trying to fetch image from first token...`);const Ce=await te.tokenURI(1);console.log(" TokenURI obtained for collection:",pe,Ce);try{const Qe=JSON.parse(Ce);console.log(" Parsed JSON metadata:",Qe),ie={...ie,name:Qe.collection_name||pe,description:Qe.description||"",image:Qe.image||"",initial_price:ie.initial_price!=="0"?ie.initial_price:Qe.initial_price||"0",social_links:Qe.social_links||{},launch_time:Qe.launch_time||null,has_whitelist:Qe.has_whitelist||!1},ie.image?(ie.image.startsWith("ipfs://")?ie.image=ie.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(ie.image.startsWith("Qm")||ie.image.startsWith("baf"))&&(ie.image=`https://gateway.pinata.cloud/ipfs/${ie.image}`),console.log(" Collection image (JSON inline):",ie.image)):(console.warn(" Collection without image in metadata (JSON inline):",pe),!ie.image&&Ie&&(ie.image=Ie,console.log(" Usando collectionImage processado (fallback):",ie.image)))}catch{console.log(" TokenURI is not JSON, trying to fetch from IPFS...");let De=Ce;if(Ce.startsWith("ipfs://")?De=Ce.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(Ce.startsWith("Qm")||Ce.startsWith("baf"))&&(De=`https://gateway.pinata.cloud/ipfs/${Ce}`),console.log(" URL dos metadados:",De),De.startsWith("http"))try{const It=await fetch(De);if(It.ok){const Bt=await It.json();console.log(" Metadados obtidos do IPFS:",Bt),ie={...ie,name:Bt.collection_name||pe,description:Bt.description||"",image:Bt.image||"",initial_price:ie.initial_price!=="0"?ie.initial_price:Bt.initial_price||"0",social_links:Bt.social_links||{},launch_time:Bt.launch_time||null,has_whitelist:Bt.has_whitelist||!1},ie.image?(ie.image.startsWith("ipfs://")?ie.image=ie.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(ie.image.startsWith("Qm")||ie.image.startsWith("baf"))&&(ie.image=`https://gateway.pinata.cloud/ipfs/${ie.image}`),console.log(" Collection image (IPFS):",ie.image)):(console.warn(" Collection without image in metadata (IPFS):",pe),!ie.image&&Ie&&(ie.image=Ie,console.log(" Usando collectionImage processado (fallback):",ie.image)))}else console.error(" Error fetching metadata from IPFS:",It.status,It.statusText)}catch(It){console.error(" Error fetching metadata:",It)}}}catch(Ce){console.warn(` [${pe}] Error fetching tokenURI(1):`,Ce.message)}if((!ie.image||ie.image==="")&&Number(ge)>0&&!Ie)try{console.log(` [${pe}] Tentativa final: buscando imagem do token #1...`);const Ce=await te.tokenURI(1);try{const Qe=JSON.parse(Ce);if(Qe.image){let De=Qe.image;De.startsWith("ipfs://")?De=De.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(De.startsWith("Qm")||De.startsWith("baf"))&&(De=`https://gateway.pinata.cloud/ipfs/${De}`),ie.image=De,console.log(` [${pe}] Imagem encontrada no tokenURI (JSON): ${De}`)}}catch{let Qe=Ce;if(Ce.startsWith("ipfs://")?Qe=Ce.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(Ce.startsWith("Qm")||Ce.startsWith("baf"))&&(Qe=`https://gateway.pinata.cloud/ipfs/${Ce}`),Qe.startsWith("http"))try{const De=await fetch(Qe);if(De.ok){const It=await De.json();if(It.image){let Bt=It.image;Bt.startsWith("ipfs://")?Bt=Bt.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(Bt.startsWith("Qm")||Bt.startsWith("baf"))&&(Bt=`https://gateway.pinata.cloud/ipfs/${Bt}`),ie.image=Bt,console.log(` [${pe}] Imagem encontrada via fetch: ${Bt}`)}}}catch(De){console.warn(` [${pe}] Error fetching metadata via fetch:`,De.message)}}}catch(Ce){if(console.warn(` [${pe}] Could not fetch image from token #1:`,Ce.message),Number(ge)>0)try{console.log(` [${pe}] Trying token #0 as last resort...`);const Qe=await te.tokenURI(0);try{const De=JSON.parse(Qe);if(De.image){let It=De.image;It.startsWith("ipfs://")?It=It.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(It.startsWith("Qm")||It.startsWith("baf"))&&(It=`https://gateway.pinata.cloud/ipfs/${It}`),ie.image=It,console.log(` [${pe}] Imagem encontrada no token #0: ${It}`)}}catch{}}catch{console.warn(` [${pe}] Also could not fetch token #0`)}}(!ie.image||ie.image==="")&&Number(ge)===0&&!Ie&&(console.warn(` [${pe}] Collection without minted tokens and without collectionImage`),console.warn('   To set the image, go to "My NFTs"  Collection Dashboard  Update Metadata')),!ie.image||ie.image===""||ie.image.trim()===""?Ie&&Ie.trim()!==""?(ie.image=Ie,console.log(` [${pe}] Usando collectionImage processado como fallback final: ${ie.image}`)):console.warn(` [${pe}] NENHUMA imagem encontrada! collectionImageUrl: "${it}", processedCollectionImage: "${Ie}"`):console.log(` [${pe}] Imagem j definida no metadata: ${ie.image.substring(0,50)}...`),console.log(` [${pe}] Metadata final:`,{name:ie.name,hasImage:!!(ie.image&&ie.image.trim()!==""),image:ie.image?ie.image.substring(0,80):"(vazia)",supply:ie.supply,minted:ie.minted,available:ie.available}),I.push({collectionAddress:K,collectionContract:te,metadata:ie,isCollection:!0}),console.log(` Collection loaded: ${pe} (${Number(ge)}/${Number(qe)} minted)`)}catch(Oe){return console.warn(` Error loading collection ${K}:`,{message:Oe.message,code:Oe.code,reason:Oe.reason,error:Oe}),null}}const ce=5;for(let K=0;K<se.length;K+=ce){const de=se.slice(K,K+ce),Ee=await Promise.all(de.map(he));console.log(` Processed batch ${Math.floor(K/ce)+1}/${Math.ceil(se.length/ce)}`)}}catch(J){console.error("Error fetching from CollectionFactory:",J)}else console.log(" CollectionFactory not available");console.log(` Total collections loaded (from ALL users): ${I.length}`);const q=[],fe=[];console.log(` Checking ${I.length} collections before filtering (all users' collections)...`),I.forEach(J=>{const se=J.metadata.image||"",he=se!==""&&!se.startsWith("data:")&&(se.startsWith("http")||se.startsWith("ipfs://")||se.startsWith("Qm")||se.startsWith("baf"));if(console.log(` Collection "${J.metadata.name}":`,{hasImage:he,imageUrl:se?se.substring(0,100):"(empty)",imageLength:se?se.length:0,metadataKeys:Object.keys(J.metadata)}),!he){console.log(` Collection filtered (no valid image): ${J.metadata.name}`),console.log(`   Image URL: ${se||"(empty)"}`),console.log(`   Collection Address: ${J.collectionAddress}`),console.log("   Metadata completo:",J.metadata);return}(J.metadata.available!==void 0?J.metadata.available:J.metadata.supply-J.metadata.minted)>0?q.push(J):fe.push(J)}),console.log(` Collections available: ${q.length} (from all users), Sold out: ${fe.length}`),console.log(" All users' collections are displayed - no filter by creator/account"),u(q),f(fe)}catch(I){console.error(" Error loading launches:",I),u([]),f([])}finally{w(!1),console.log(" Launchpad: Carregamento finalizado")}},[r,i]);S.useEffect(()=>{t?(console.log(" Launchpad: Iniciando carregamento de lanamentos"),Ze()):(console.log(" Launchpad: nftContract no disponvel, no  possvel carregar lanamentos"),w(!1))},[t,Ze]);const D=I=>{F({...T,[I.target.name]:I.target.value})},ne=(I,q=1200,fe=1200,J=.75)=>new Promise((se,he)=>{const ce=new FileReader;ce.onload=K=>{const de=new Image;de.onload=()=>{let Ee=de.width,me=de.height;(Ee>q||me>fe)&&(Ee>me?(me=me*q/Ee,Ee=q):(Ee=Ee*fe/me,me=fe));const Oe=document.createElement("canvas");Oe.width=Ee,Oe.height=me;const Xe=Oe.getContext("2d");Xe.imageSmoothingEnabled=!0,Xe.imageSmoothingQuality="high",Xe.drawImage(de,0,0,Ee,me),Oe.toBlob(mt=>{if(mt){const te=new FileReader;te.onload=()=>se({blob:mt,dataUrl:te.result}),te.onerror=he,te.readAsDataURL(mt)}else he(new Error("Erro ao comprimir imagem"))},"image/jpeg",J)},de.onerror=he,de.src=K.target.result},ce.onerror=he,ce.readAsDataURL(I)}),Re=async I=>{var se;const q=I.target.files||((se=I.dataTransfer)==null?void 0:se.files);if(!q||q.length===0)return;const fe=parseInt(T.supply)||1;if(fe>1){const he=Array.from(q).slice(0,fe);try{$e(!0),R.loading(`Processando ${he.length} imagem${he.length>1?"ns":""}...`,{id:"upload"});const ce=await Promise.all(he.map(async(de,Ee)=>{if(!de.type.startsWith("image/"))throw new Error(`Arquivo ${Ee+1} no  uma imagem`);const me=await ne(de),Oe=new File([me.blob],de.name,{type:de.type||"image/jpeg"}),Xe=await cm(Oe);return{file:de,preview:me.dataUrl,ipfsHash:Xe,ipfsUrl:kr(Xe),rarity:null}})),K=ce.map((de,Ee)=>({...de,rarity:Ee+1,rarityScore:ce.length-Ee}));He(K),Te(K[0].preview),Me(K[0].ipfsHash),M(he[0]),R.success(`${he.length} image${he.length>1?"s":""} processed! Rarity ranking created.`,{id:"upload",duration:5e3})}catch(ce){console.error("Erro ao processar imagens:",ce),R.error(`Erro ao processar imagens: ${ce.message}`,{id:"upload"})}finally{$e(!1)}}else{const he=q[0];if(!he.type.startsWith("image/")){R.error("Por favor, selecione um arquivo de imagem");return}try{$e(!0),R.loading("Processando e fazendo upload da imagem...",{id:"upload"});const ce=await ne(he),K=new File([ce.blob],he.name,{type:he.type||"image/jpeg"}),de=await cm(K);Me(de),M(he),Te(kr(de)),He([]),R.success("Imagem enviada para IPFS com sucesso!",{id:"upload"})}catch(ce){console.error("Erro ao processar/upload imagem:",ce),R.error("Erro ao fazer upload para IPFS",{id:"upload"});try{const K=await ne(he);M(he),Te(K.dataUrl),Me(null)}catch{R.error("Erro ao processar imagem",{id:"upload"})}}finally{$e(!1)}}},Ve=()=>{if(m==="instant")return Math.floor(Date.now()/1e3);if(!L||!k)return null;const I=new Date(`${L}T${k}`);return Math.floor(I.getTime()/1e3)},N=async I=>{var se,he,ce;if(I.preventDefault(),!e){R.error("Please connect your wallet first");return}if(!n){R.error("Please connect to Arc Testnet");return}if(!T.name||!T.description){R.error("Please fill all required fields");return}const q=parseInt(T.supply)||1;if(q>1){if(Ae.length===0&&!ve&&!be){R.error(`Please add ${q} image${q>1?"s":""} for the collection`);return}if(Ae.length>0&&Ae.length<q){R.error(`You need to add ${q} images for the collection. You added ${Ae.length}.`);return}}else if(!ve&&!be){R.error("Please add an image for the NFT");return}const J=Ve();if(m==="scheduled"&&(!J||J<=Math.floor(Date.now()/1e3))){R.error("Select a future date/time for the launch");return}try{We(!0),R.loading("Creating launch...",{id:"launch"});const K=parseInt(T.supply)||1,de=(K>1,T.name),Ee=K>1&&Ae.length>0,me=A==="legacy"||!r;if(console.log(" Launchpad: Tipo de contrato selecionado:",{contractType:A,useLegacyContract:me,hasFactory:!!r,factoryAddress:(r==null?void 0:r.target)||"N/A"}),A==="new"&&!r&&(console.error(" CollectionFactory no disponvel! Usando Legacy como fallback."),R.error("CollectionFactory not available. Using Legacy Contract instead. Your collection will not support royalties.",{id:"launch",duration:5e3})),Ee&&Ae.length>0){const te=Ae.slice(0,K),pe=((se=te[0])==null?void 0:se.ipfsUrl)||((he=te[0])==null?void 0:he.preview)||"";if(!pe||pe==="")throw new Error("Collection image is required! First image must have IPFS URL.");console.log(" Launchpad: Criando coleo...",{hasFactory:!!r,factoryAddress:(r==null?void 0:r.target)||"N/A",supply:K,imagesCount:te.length,useLegacyContract:me,collectionImage:pe.substring(0,50)+"..."});try{if(me){console.log(" Usando contrato Legacy (MockNFT) para criar coleo..."),R.loading(`Creating collection with ${te.length} NFTs using MockNFT...`,{id:"launch"});for(let Ne=0;Ne<te.length;Ne++){const st=te[Ne],Kt=Ne+1,Ie=((te.length-Ne)/te.length*100).toFixed(2),ie={name:`${de} #${Kt}`,description:T.description,image:st.ipfsUrl,external_url:T.website||"",initial_price:T.price||"0",collection_name:de,collection_supply:K,edition_number:Kt,is_collection:!0,rarity:{rank:st.rarity,score:st.rarityScore,percentile:`${Ie}%`},attributes:[{trait_type:"Rarity Rank",value:st.rarity.toString()},{trait_type:"Rarity Score",value:st.rarityScore.toString()},{trait_type:"Collection",value:de},{trait_type:"Edition",value:`${Kt} of ${K}`}],...J&&m!=="instant"&&{launch_time:J},has_whitelist:E,whitelist_type:E?U:null,whitelist_project:E&&(U==="nftContract"||U==="project")?we:null,whitelist_addresses:E&&U==="addresses"?X.split(`
`).filter(De=>De.trim()):null,whitelist_duration:E?parseInt(z):null,social_links:{twitter:T.twitter||"",discord:T.discord||"",instagram:T.instagram||""}};m==="instant"&&delete ie.launch_time;let Ce="";try{const De=await Oa(ie);Ce=kr(De)}catch{Ce=JSON.stringify(ie)}R.loading(`Minting NFT ${Kt} of ${te.length} (Rarity: ${Ie}%)...`,{id:"launch"}),await(await t.mint(e,Ce)).wait(),Ne<te.length-1&&await new Promise(De=>setTimeout(De,1500))}R.success(`Collection created successfully! ${te.length} NFT${te.length>1?"s":""} with rarity ranking.`,{id:"launch",duration:6e3}),F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),Te(null),Me(null),He([]),y("instant"),g("new"),B(""),P(""),V(!1),o(!1),setTimeout(()=>{Ze(),s("/my-nfts")},2e3),We(!1);return}R.loading("Creating collection contract...",{id:"launch"});const wt=(await(await r.createCollection(de,K)).wait()).logs.find(Ne=>{try{const st=r.interface.parseLog(Ne);return st&&st.name==="CollectionCreated"}catch{return!1}});let vt;if(wt)vt=r.interface.parseLog(wt).args.collectionAddress;else{const Ne=await r.getCreatorCollections(e);vt=Ne[Ne.length-1]}console.log(" Collection contract created at:",vt);const xt=new ft(vt,_r,i);if(!pe||pe==="")throw new Error("Collection image is required! Please upload an image before creating the collection.");R.loading("Setting collection image...",{id:"launch"});try{await(await xt.setCollectionMetadata(T.description||"",pe)).wait(),console.log(" Collection image set:",pe);const st=await xt.collectionImage();if(!st||st==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(Ne){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",Ne),new Error(`Failed to set collection image: ${Ne.message}`)}const Dt=T.price&&parseFloat(T.price)>0?vr(T.price):0n;Dt>0n&&(R.loading("Setting mint price...",{id:"launch"}),await(await xt.setMintPrice(Dt)).wait(),console.log(" Mint price set to:",T.price,"USDC")),R.loading(`Minting ${te.length} NFTs to collection...`,{id:"launch"});const it=[];for(let Ne=0;Ne<te.length;Ne++){const st=te[Ne],Kt=Ne+1,Ie=((te.length-Ne)/te.length*100).toFixed(2),ie={name:`${de} #${Kt}`,description:T.description,image:st.ipfsUrl,external_url:T.website||"",initial_price:T.price||"0",collection_name:de,collection_supply:K,edition_number:Kt,is_collection:!0,rarity:{rank:st.rarity,score:st.rarityScore,percentile:`${Ie}%`},attributes:[{trait_type:"Rarity Rank",value:st.rarity.toString()},{trait_type:"Rarity Score",value:st.rarityScore.toString()},{trait_type:"Collection",value:de},{trait_type:"Edition",value:`${Kt} of ${K}`}],...J&&{launch_time:J},has_whitelist:E,whitelist_type:E?U:null,whitelist_project:E&&(U==="nftContract"||U==="project")?we:null,whitelist_addresses:E&&U==="addresses"?X.split(`
`).filter(Qe=>Qe.trim()):null,whitelist_duration:E?parseInt(z):null,social_links:{twitter:T.twitter||"",discord:T.discord||"",instagram:T.instagram||""}};m==="instant"&&delete ie.launch_time;let Ce="";try{const Qe=await Oa(ie);Ce=kr(Qe)}catch(Qe){console.warn("Erro ao fazer upload de metadados para IPFS, usando JSON inline:",Qe),Ce=JSON.stringify(ie)}it.push(Ce)}if(!te||te.length===0||!te[0].ipfsUrl)throw new Error("Collection image is required! First image must have IPFS URL.");R.loading("Setting collection image...",{id:"launch"});try{await(await xt.setCollectionMetadata(T.description||"",te[0].ipfsUrl)).wait(),console.log(" Collection image set:",te[0].ipfsUrl);const st=await xt.collectionImage();if(!st||st==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(Ne){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",Ne),new Error(`Failed to set collection image: ${Ne.message}`)}R.loading("Adding token URIs to collection...",{id:"launch"}),await(await xt.addTokenURIs(it)).wait(),console.log(" Token URIs added to collection"),R.loading("Enabling public mint...",{id:"launch"}),await(await xt.setPublicMintEnabled(!0)).wait(),console.log(" Public mint enabled"),R.success(`Collection created successfully! ${te.length} NFT${te.length>1?"s":""} available for purchase at ${T.price||"0"} USDC each.`,{id:"launch",duration:6e3}),F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),Te(null),Me(null),He([]),y("instant"),g("new"),B(""),P(""),V(!1),o(!1),setTimeout(()=>{Ze(),s("/my-nfts")},2e3),We(!1);return}catch(qe){throw console.error("Erro ao criar coleo:",qe),qe}}const Oe=be?kr(be):ve,Xe={name:K>1?`${de} #1`:T.name,description:T.description,image:Oe,external_url:T.website||"",initial_price:T.price||"0",collection_name:K>1?de:null,collection_supply:K>1?K:null,edition_number:K>1?1:null,is_collection:K>1,contract_type:me?"legacy":"new",...J&&{launch_time:J},has_whitelist:E,whitelist_type:E?U:null,whitelist_project:E&&(U==="nftContract"||U==="project")?we:null,whitelist_addresses:E&&U==="addresses"?X.split(`
`).filter(te=>te.trim()):null,whitelist_duration:E?parseInt(z):null,social_links:{twitter:T.twitter||"",discord:T.discord||"",instagram:T.instagram||""}};let mt="";try{const te=await Oa(Xe);mt=kr(te)}catch(te){console.warn("Erro ao fazer upload de metadados para IPFS, usando JSON inline:",te),mt=JSON.stringify(Xe)}if(K>1){const te=Oe||(be?kr(be):"");if(me){if(console.log(" Usando contrato Legacy (MockNFT) para criar coleo simples..."),R.loading("Creating collection using MockNFT...",{id:"launch"}),m==="instant"){const pe={...Xe};delete pe.launch_time;let qe="";try{const wt=await Oa(pe);qe=kr(wt)}catch{qe=JSON.stringify(pe)}await(await t.mint(e,qe)).wait(),R.success(`Collection created successfully! This collection will have ${K} units.`,{id:"launch",duration:6e3})}else await(await t.mint(e,mt)).wait(),R.success(`Scheduled collection created! Will have ${K} units and will be displayed on ${new Date(J*1e3).toLocaleString()}`,{id:"launch",duration:8e3});F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),Te(null),Me(null),He([]),y("instant"),g("new"),B(""),P(""),V(!1),o(!1),setTimeout(()=>{Ze(),s("/my-nfts")},2e3),We(!1);return}if(m==="instant"){const pe={...Xe};delete pe.launch_time;let qe="";try{const Ie=await Oa(pe);qe=kr(Ie)}catch(Ie){console.warn("Erro ao fazer upload de metadados para IPFS, usando JSON inline:",Ie),qe=JSON.stringify(pe)}R.loading("Creating collection contract...",{id:"launch"});const vt=(await(await r.createCollection(de,K)).wait()).logs.find(Ie=>{try{const ie=r.interface.parseLog(Ie);return ie&&ie.name==="CollectionCreated"}catch{return!1}});let xt;if(vt)xt=r.interface.parseLog(vt).args.collectionAddress;else{const Ie=await r.getCreatorCollections(e);xt=Ie[Ie.length-1]}const Dt=new ft(xt,_r,i);if(!te||te==="")throw new Error("Collection image is required! Please upload an image before creating the collection.");R.loading("Setting collection image...",{id:"launch"});try{await(await Dt.setCollectionMetadata(T.description||"",te)).wait(),console.log(" Collection image set:",te);const ie=await Dt.collectionImage();if(!ie||ie==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(Ie){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",Ie),new Error(`Failed to set collection image: ${Ie.message}`)}const it=T.price&&parseFloat(T.price)>0?vr(T.price):0n;it>0n&&(R.loading("Setting mint price...",{id:"launch"}),await(await Dt.setMintPrice(it)).wait(),console.log(" Mint price set to:",T.price,"USDC")),R.loading("Adding token URIs to collection...",{id:"launch"});const nr=Array(K).fill(qe);console.log(` Adding ${nr.length} URIs to collection...`),await(await Dt.addTokenURIs(nr)).wait();const Ne=await Dt.availableURIsCount();console.log(` Added ${K} token URIs to collection. Available URIs count: ${Ne}`),R.loading("Enabling public mint...",{id:"launch"}),await(await Dt.setPublicMintEnabled(!0)).wait();const Kt=await Dt.publicMintEnabled();console.log(` Public mint enabled: ${Kt}`),R.success(`Collection created successfully! ${K} units available for ${T.price||"free"} USDC each.`,{id:"launch",duration:6e3})}else{R.loading("Creating scheduled collection contract...",{id:"launch"});const ge=(await(await r.createCollection(de,K)).wait()).logs.find(rn=>{try{const Ne=r.interface.parseLog(rn);return Ne&&Ne.name==="CollectionCreated"}catch{return!1}});let wt;if(ge)wt=r.interface.parseLog(ge).args.collectionAddress;else{const rn=await r.getCreatorCollections(e);wt=rn[rn.length-1]}const vt=new ft(wt,_r,i);if(!te||te==="")throw new Error("Collection image is required! Please upload an image before creating the collection.");R.loading("Setting collection image...",{id:"launch"});try{await(await vt.setCollectionMetadata(T.description||"",te)).wait(),console.log(" Collection image set:",te);const Ne=await vt.collectionImage();if(!Ne||Ne==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(rn){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",rn),new Error(`Failed to set collection image: ${rn.message}`)}const xt=T.price&&parseFloat(T.price)>0?vr(T.price):0n;xt>0n&&(R.loading("Setting mint price...",{id:"launch"}),await(await vt.setMintPrice(xt)).wait(),console.log(" Mint price set to:",T.price,"USDC")),R.loading("Adding token URIs to collection...",{id:"launch"});const Dt=Array(K).fill(mt);await(await vt.addTokenURIs(Dt)).wait(),console.log(` Added ${K} token URIs to collection`),R.loading("Enabling public mint...",{id:"launch"}),await(await vt.setPublicMintEnabled(!0)).wait(),R.success(`Scheduled collection created! ${K} units available at ${T.price||"free"} USDC. Launches on ${new Date(J*1e3).toLocaleString()}`,{id:"launch",duration:8e3})}}else if(m==="instant"){const te={...Xe};delete te.launch_time;let pe="";try{const ge=await Oa(te);pe=kr(ge)}catch{pe=JSON.stringify(te)}R.loading("Creating NFT...",{id:"launch"}),await(await t.mint(e,pe)).wait(),R.success("NFT created successfully!",{id:"launch"})}else R.loading("Creating scheduled NFT...",{id:"launch"}),await(await t.mint(e,mt)).wait(),R.success(`Scheduled launch created! Will be displayed on ${new Date(J*1e3).toLocaleString()}`,{id:"launch",duration:8e3});F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),Te(null),Me(null),y("instant"),g("new"),B(""),P(""),V(!1),o(!1),setTimeout(()=>{Ze(),s("/my-nfts")},2e3)}catch(K){console.error("Error creating launch:",K),R.error(`Error creating launch: ${((ce=K.message)==null?void 0:ce.substring(0,100))||"Unknown error"}`,{id:"launch"})}finally{We(!1)}};S.useCallback(async I=>{if(!e||!I.metadata.has_whitelist)return!0;const q=Math.floor(Date.now()/1e3),J=I.metadata.launch_time+(I.metadata.whitelist_duration*3600||86400);if(q>J)return!0;if((I.metadata.whitelist_type==="project"||I.metadata.whitelist_type==="nftContract")&&I.metadata.whitelist_project)try{const se=t.runner||t.provider,ce=await new ft(I.metadata.whitelist_project,t.interface,se).balanceOf(e);return Number(ce)>0}catch(se){return console.error("Erro ao verificar whitelist por projeto:",se),!1}else if(I.metadata.whitelist_type==="addresses"&&I.metadata.whitelist_addresses)return(Array.isArray(I.metadata.whitelist_addresses)?I.metadata.whitelist_addresses:typeof I.metadata.whitelist_addresses=="string"?I.metadata.whitelist_addresses.split(`
`).filter(he=>he.trim()):[]).some(he=>he.toLowerCase()===e.toLowerCase());return!1},[e,t]);const Z=async I=>{if(!e){R.error("Please connect your wallet first");return}if(!n){R.error("Please connect to Arc Testnet");return}if(!i){R.error("Wallet signer not available. Please reconnect your wallet.",{id:"mint"});return}try{v(I.collectionAddress),console.log(" Starting mint process...",{collectionAddress:I.collectionAddress,account:e,hasSigner:!!i,hasProvider:!!(i!=null&&i.provider)});const q=new ft(I.collectionAddress,_r,i);console.log(" Checking collection status...");const fe=await q.availableURIsCount();if(console.log(" Available URIs:",Number(fe)),Number(fe)===0){R.error("Collection is sold out!",{id:"mint"}),v(null);return}const J=await q.publicMintEnabled();if(console.log(" Public mint enabled:",J),!J){R.error("Public mint is not enabled for this collection",{id:"mint"}),v(null);return}const se=await q.mintingEnabled();if(console.log(" Minting enabled:",se),!se){R.error("Minting is disabled for this collection",{id:"mint"}),v(null);return}const he=await q.whitelistEnabled();if(console.log(" Whitelist enabled:",he),he){const mt=await q.whitelist(e);if(console.log(" User whitelisted:",mt),!mt){R.error("You are not whitelisted for this collection",{id:"mint"}),v(null);return}}const ce=await q.mintPrice(),K=ot(ce);console.log(" Mint price:",K,"USDC (",ce.toString(),"wei)");const de=await i.provider.getBalance(e);if(console.log(" User balance:",ot(de),"USDC"),de<ce){R.error(`Insufficient balance. You need ${K} USDC, but you have ${ot(de)} USDC`,{id:"mint"}),v(null);return}const Ee=await q.maxMintPerWallet(),me=await q.mintedPerWallet(e);if(console.log(" Mint limits:",{maxPerWallet:Number(Ee),mintedByUser:Number(me),canMint:Number(me)+1<=Number(Ee)}),Number(me)+1>Number(Ee)){R.error(`You have reached the mint limit for this collection (${Number(Ee)} NFTs)`,{id:"mint"}),v(null);return}ce>0n?R.loading(`Purchasing NFT for ${K} USDC...`,{id:"mint"}):R.loading("Minting free NFT...",{id:"mint"}),console.log(" Calling publicMint...",{quantity:1,value:ce.toString(),collectionAddress:I.collectionAddress});const Oe=await q.publicMint(1,{value:ce});console.log(" Transaction sent:",Oe.hash),R.loading("Transaction sent! Waiting for confirmation...",{id:"mint"});const Xe=await Oe.wait();console.log(" Transaction confirmed:",Xe.hash),R.success(`NFT purchased successfully for ${K} USDC!`,{id:"mint"}),setTimeout(()=>{Ze()},2e3)}catch(q){console.error(" Error purchasing NFT:",q),console.error("Error details:",{message:q.message,code:q.code,reason:q.reason,data:q.data,transaction:q.transaction});let fe="Unknown error occurred";if(q.message){const J=q.message.toLowerCase();J.includes("user rejected")||q.code==="ACTION_REJECTED"||q.code===4001?fe="Transaction rejected by user":J.includes("insufficient funds")||J.includes("insufficient balance")?fe="Insufficient USDC balance. Please add more USDC to your wallet.":J.includes("public mint is disabled")||J.includes("public mint not enabled")?fe="Public mint is not enabled for this collection":J.includes("not enough uris")||J.includes("uris available")?fe="Collection is sold out (no more URIs available)":J.includes("minting is disabled")?fe="Minting is disabled for this collection":J.includes("not whitelisted")?fe="You are not whitelisted for this collection":J.includes("exceeds wallet limit")||J.includes("wallet limit")?fe="You have reached the mint limit for this collection":J.includes("exceeds max supply")?fe="Minting would exceed the maximum supply":J.includes("insufficient payment")?fe="Insufficient payment. The mint price may have changed.":q.reason?fe=q.reason:fe=q.message.substring(0,150)}R.error(`Error purchasing: ${fe}`,{id:"mint",duration:5e3})}finally{v(null)}},ue=I=>{var ce,K;const q=I.isCollection,fe=I.metadata.minted||0,J=I.metadata.supply||0,se=I.metadata.available!==void 0?I.metadata.available:J-fe,he=J>0?fe/J*100:0;return c.jsxs("div",{className:"nft-card",style:{background:"var(--surface-alt)",border:"1px solid var(--border)",borderRadius:"12px",overflow:"hidden",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out",cursor:"pointer",display:"flex",flexDirection:"column",height:"100%"},onMouseEnter:de=>{de.currentTarget.style.transform="translateY(-5px)",de.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3)"},onMouseLeave:de=>{de.currentTarget.style.transform="translateY(0)",de.currentTarget.style.boxShadow="none"},children:[c.jsxs("div",{className:"nft-image",style:{height:"300px",overflow:"hidden",position:"relative"},children:[I.metadata.image?c.jsx("img",{src:I.metadata.image.startsWith("ipfs://")?I.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):I.metadata.image.startsWith("Qm")||I.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${I.metadata.image}`:I.metadata.image,alt:I.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:de=>{console.error(" Erro ao carregar imagem da coleo:",{collection:I.metadata.name,imageUrl:I.metadata.image,collectionAddress:I.collectionAddress}),de.target.style.display="none"},onLoad:()=>{console.log(" Imagem carregada com sucesso:",I.metadata.name,I.metadata.image)}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem",background:"var(--background)"},children:""}),c.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:se>0?"rgba(46, 204, 113, 0.9)":"rgba(231, 76, 60, 0.9)",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600"},children:se>0?`${se} left`:"Sold Out"}),q&&c.jsx("div",{style:{position:"absolute",top:"1rem",left:"1rem",background:"rgba(59, 130, 246, 0.9)",color:"var(--text)",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"600"},children:" Collection"})]}),c.jsxs("div",{className:"nft-content",style:{padding:"1rem",flexGrow:1,display:"flex",flexDirection:"column"},children:[c.jsx("h3",{className:"nft-title",style:{fontSize:"1.125rem",marginBottom:"0.5rem"},children:I.metadata.name}),c.jsxs("p",{className:"nft-description",style:{marginBottom:"0.75rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[(ce=I.metadata.description)==null?void 0:ce.substring(0,80),((K=I.metadata.description)==null?void 0:K.length)>80?"...":""]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.75rem"},children:[c.jsx("span",{style:{color:"var(--text-secondary)"},children:"Minted"}),c.jsxs("span",{style:{fontWeight:"600"},children:[fe," / ",J]})]}),c.jsx("div",{style:{height:"8px",background:"var(--border)",borderRadius:"4px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${he}%`,height:"100%",background:"linear-gradient(90deg, var(--primary), var(--accent-gold))",borderRadius:"4px",transition:"width 0.3s ease"}})})]}),c.jsx("div",{className:"nft-price",style:{marginBottom:"0.75rem"},children:c.jsxs("div",{style:{width:"100%"},children:[c.jsx("div",{className:"price-label",children:I.metadata.initial_price&&parseFloat(I.metadata.initial_price)>0?"Purchase Price":"Price"}),c.jsxs("div",{className:"price-value",style:{marginTop:"0.25rem",fontSize:"1.125rem"},children:[" ",I.metadata.initial_price&&I.metadata.initial_price!=="0"&&parseFloat(I.metadata.initial_price)>0?`${parseFloat(I.metadata.initial_price).toFixed(4).replace(/\.?0+$/,"")} USDC`:"Free"]})]})}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem",fontSize:"0.7rem",color:"var(--text-secondary)",padding:"0.5rem",background:"var(--surface-alt)",borderRadius:"6px",marginBottom:"0.75rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:" You pay:"}),c.jsxs("span",{style:{fontWeight:"600",color:"var(--text)"},children:[I.metadata.initial_price||"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:" Royalty (resale):"}),c.jsx("span",{children:"5%"})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:" Marketplace fee (resale):"}),c.jsx("span",{children:"2.5%"})]})]}),I.metadata.creator&&c.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{children:""}),c.jsxs("span",{children:["Creator: ",I.metadata.creator.substring(0,6),"...",I.metadata.creator.substring(38)]})]}),c.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:"0.75rem",fontSize:"0.875rem",marginTop:"auto"},onClick:()=>Z(I),disabled:x===I.collectionAddress||se<=0||!e,children:x===I.collectionAddress?"Purchasing...":se<=0?"Sold Out":e?I.metadata.initial_price&&I.metadata.initial_price!=="0"&&parseFloat(I.metadata.initial_price)>0?`Buy for ${parseFloat(I.metadata.initial_price).toFixed(4).replace(/\.?0+$/,"")} USDC`:"Mint Free":"Connect Wallet"})]})]},I.collectionAddress||I.templateTokenId)};return c.jsx("div",{className:"container",children:c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"Launchpad"}),c.jsx("p",{className:"section-subtitle",children:"Discover and participate in the most awaited NFT launches"})]}),c.jsx("button",{className:"btn btn-primary",onClick:()=>o(!a),style:{padding:"0.75rem 1.5rem"},children:a?"Cancel":"+ Create Launch"})]}),a&&c.jsxs("div",{className:"card",style:{padding:"2.5rem",marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.5rem"},children:"Create New Launch"}),c.jsxs("form",{onSubmit:N,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Contract Type"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[c.jsxs("button",{type:"button",onClick:()=>g("new"),style:{flex:1,padding:"1rem",borderRadius:"12px",border:A==="new"?"2px solid var(--accent-gold)":"1px solid var(--border)",background:A==="new"?"linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05))":"var(--surface-alt)",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsx("span",{style:{fontWeight:"700",fontSize:"1rem",color:A==="new"?"var(--accent-gold)":"var(--text)"},children:"New Contract"}),A==="new"&&c.jsx("span",{style:{background:"var(--accent-gold)",color:"var(--background)",fontSize:"0.625rem",fontWeight:"700",padding:"0.25rem 0.5rem",borderRadius:"4px",textTransform:"uppercase"},children:"Recommended"})]}),c.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:"Full features: royalties, whitelist, airdrop, earnings dashboard"})]}),c.jsxs("button",{type:"button",onClick:()=>g("legacy"),style:{flex:1,padding:"1rem",borderRadius:"12px",border:A==="legacy"?"2px solid var(--text-secondary)":"1px solid var(--border)",background:A==="legacy"?"var(--surface-alt)":"var(--surface)",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsx("span",{style:{fontWeight:"700",fontSize:"1rem",color:"var(--text)"},children:"Legacy Contract"})]}),c.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:"Simple NFT minting only. No royalties or advanced features."})]})]}),A==="new"&&!r&&c.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",fontSize:"0.875rem",color:"#ef4444"},children:" CollectionFactory not available. Will use Legacy Contract as fallback."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Launch Type"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[c.jsxs("button",{type:"button",onClick:()=>y("instant"),className:m==="instant"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"0.5rem"},children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Instant"]}),c.jsxs("button",{type:"button",onClick:()=>y("scheduled"),className:m==="scheduled"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"0.5rem"},children:[c.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),c.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),c.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),c.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Future"]})]})]}),m==="scheduled"&&c.jsx("div",{className:"form-group",children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:"Date"}),c.jsx("input",{type:"date",className:"form-input",value:L,onChange:I=>P(I.target.value),min:new Date().toISOString().split("T")[0],required:m==="scheduled"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:"Time"}),c.jsx("input",{type:"time",className:"form-input",value:k,onChange:I=>B(I.target.value),required:m==="scheduled"})]})]})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Collection Name *"}),c.jsx("input",{type:"text",name:"name",className:"form-input",value:T.name,onChange:D,placeholder:"e.g: Genesis Collection",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description *"}),c.jsx("textarea",{name:"description",className:"form-textarea",value:T.description,onChange:D,placeholder:"Describe your NFT collection...",rows:"4",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:parseInt(T.supply)>1?"Collection Images *":"Collection Image *"}),parseInt(T.supply)>1&&Ae.length>0?c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:Ae.map((I,q)=>c.jsx("div",{style:{position:"relative"},children:c.jsxs("div",{style:{border:"2px solid var(--border)",borderRadius:"8px",overflow:"hidden",background:"var(--surface-alt)",position:"relative"},children:[c.jsx("img",{src:I.preview,alt:`NFT #${q+1}`,style:{width:"100%",height:"120px",objectFit:"cover"}}),c.jsxs("div",{style:{position:"absolute",top:"0.25rem",left:"0.25rem",background:q===0?"rgba(59, 130, 246, 0.9)":"rgba(0, 0, 0, 0.7)",color:"white",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:["#",q+1," - Rank ",I.rarity]}),c.jsx("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"0.25rem",fontSize:"0.7rem",textAlign:"center"},children:I.rarityPercent||`${((Ae.length-q)/Ae.length*100).toFixed(1)}%`})]})},q))}),c.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{He([]),Te(null),M(null),Me(null)},children:"Remove All Images"})]}):null,c.jsxs("div",{className:"image-upload-area",style:{border:"2px dashed var(--border)",borderRadius:"12px",padding:"2rem",textAlign:"center",cursor:"pointer",background:"var(--surface-alt)",transition:"all 0.3s ease",position:"relative",minHeight:parseInt(T.supply)>1&&Ae.length>0?"100px":"200px",display:"flex",alignItems:"center",justifyContent:"center"},onDrop:I=>{I.preventDefault(),Re(I)},onDragOver:I=>I.preventDefault(),onClick:()=>document.getElementById("launchpad-image-upload").click(),children:[ve&&Ae.length===0?c.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"400px"},children:[c.jsx("img",{src:ve,alt:"Preview",style:{width:"100%",borderRadius:"8px",maxHeight:"300px",objectFit:"contain"}}),c.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),Te(null),M(null),Me(null)},style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"var(--error)",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}):c.jsxs("div",{children:[c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-secondary)",strokeWidth:"1.5",style:{margin:"0 auto 1rem"},children:[c.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),c.jsx("polyline",{points:"17 8 12 3 7 8"}),c.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),c.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:parseInt(T.supply)>1?`Click or drag ${T.supply} image${parseInt(T.supply)>1?"s":""} here`:"Click or drag an image here"}),c.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-muted)"},children:parseInt(T.supply)>1?`Select up to ${T.supply} images. Order defines rarity (first = rarest).`:"PNG, JPG, GIF up to 10MB"})]}),c.jsx("input",{id:"launchpad-image-upload",type:"file",accept:"image/*",multiple:parseInt(T.supply)>1,style:{display:"none"},onChange:Re,disabled:Ge})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Price (USDC)"}),c.jsx("input",{type:"number",name:"price",className:"form-input",value:T.price,onChange:D,placeholder:"0.00",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Supply (Number of collection units)"}),c.jsx("input",{type:"number",name:"supply",className:"form-input",value:T.supply,onChange:D,placeholder:"1",min:"1",max:"10000",required:!0}),c.jsx("p",{className:"text-muted",style:{fontSize:"0.8125rem",marginTop:"0.5rem"},children:T.supply>1?`This will be a project/collection with ${T.supply} units. The first NFT (#1) will be created now.`:"Will create a unique NFT."})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[c.jsx("input",{type:"checkbox",id:"hasWhitelist",checked:E,onChange:I=>V(I.target.checked),style:{width:"20px",height:"20px",cursor:"pointer"}}),c.jsx("label",{htmlFor:"hasWhitelist",style:{fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Enable Whitelist"})]}),E&&c.jsxs("div",{style:{padding:"1.5rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Whitelist Type"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[c.jsx("button",{type:"button",onClick:()=>Y("nftContract"),className:U==="nftContract"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:"By NFT Project"}),c.jsx("button",{type:"button",onClick:()=>Y("addresses"),className:U==="addresses"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:"By Addresses"})]})]}),U==="nftContract"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"NFT Contract Address"}),c.jsx("input",{type:"text",className:"form-input",value:we,onChange:I=>H(I.target.value),placeholder:"0x...",pattern:"^0x[a-fA-F0-9]{40}$"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Whitelist Duration (hours)"}),c.jsx("input",{type:"number",className:"form-input",value:z,onChange:I=>ee(I.target.value),min:"1",max:"168",placeholder:"24"})]})]}),U==="addresses"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Addresses (one per line)"}),c.jsx("textarea",{className:"form-textarea",value:X,onChange:I=>_(I.target.value),placeholder:`0x1234...
0x5678...`,rows:"6"})]})]})]}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:gn||Ge,style:{width:"100%",padding:"1rem",fontSize:"1.125rem",marginTop:"1rem"},children:gn?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner",style:{width:"20px",height:"20px",borderWidth:"2px",marginRight:"0.5rem"}}),"Creating Launch..."]}):c.jsx(c.Fragment,{children:m==="instant"?" Launch Now":" Schedule Launch"})})]})]}),h?c.jsxs("div",{className:"loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{className:"text-secondary",children:"Loading launches..."})]}):c.jsxs(c.Fragment,{children:[l.length>0&&c.jsxs("div",{style:{marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem"},children:"Current"}),c.jsx("div",{className:"nft-grid",children:l.map(I=>ue(I))})]}),d.length>0&&c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem"},children:"Past"}),c.jsx("div",{className:"nft-grid",children:d.map(I=>ue(I))})]}),l.length===0&&d.length===0&&!h&&c.jsxs("div",{className:"card text-center",style:{padding:"3rem 2rem"},children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"No launches available"}),c.jsx("p",{className:"text-secondary mb-2",children:"Be the first to create a launch!"}),c.jsx("p",{className:"text-muted",style:{fontSize:"0.875rem",marginBottom:"1rem"},children:"Open the browser console (F12) to see launch search details."}),c.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[c.jsx("button",{className:"btn btn-primary",onClick:()=>o(!0),style:{marginTop:"1rem"},children:"+ Create Launch"}),c.jsx("button",{className:"btn btn-outline",onClick:()=>Ze(),style:{marginTop:"1rem"},children:" Reload"})]})]})]})]})})}function X5(){var ne,Re,Ve;const{collectionAddress:t}=GE(),e=ag(),{account:n,signer:r,collectionFactoryContract:i}=kl(),[s,a]=S.useState(null),[o,l]=S.useState(!0),[u,d]=S.useState(!1),[f,h]=S.useState("overview"),[w,x]=S.useState("0"),[v,A]=S.useState("0"),[g,m]=S.useState("5"),[y,k]=S.useState(""),[B,L]=S.useState(""),[P,E]=S.useState(""),[V,U]=S.useState(""),[Y,we]=S.useState(""),[H,X]=S.useState(""),[_,z]=S.useState(""),ee=async(N,Z)=>{try{if(!N[Z])return console.log(`Dashboard: Funo ${Z} no existe no ABI`),!1;try{const ue=N.interface.getFunction(Z);if(ue)return console.log(`Dashboard: Funo ${Z} encontrada no ABI:`,ue.format()),!0}catch{return console.log(`Dashboard: Funo ${Z} no encontrada no interface`),!1}return!0}catch(ue){return console.log(`Dashboard: Erro ao verificar funo ${Z}:`,ue.message),!1}},T=async(N,Z)=>{var ue,I,q,fe;try{return await N.setRoyalty.estimateGas(Z,500),!0}catch(J){return(ue=J.message)!=null&&ue.includes("Ownable")||(I=J.message)!=null&&I.includes("caller is not the owner")||(q=J.message)!=null&&q.includes("OwnableUnauthorizedAccount")?(console.log("Dashboard: setRoyalty existe mas requer permisso de owner"),!0):J.code==="CALL_EXCEPTION"&&J.data===null?(console.log("Dashboard: setRoyalty no existe neste contrato (CALL_EXCEPTION)"),!1):(fe=J.message)!=null&&fe.includes("Royalty too high")?!0:(console.log("Dashboard: Erro ao testar setRoyalty:",J.message),!1)}},F=S.useCallback(async()=>{if(!t||!r){console.log("Dashboard: Aguardando signer...",{collectionAddress:t,hasSigner:!!r});return}try{l(!0),console.log("Dashboard: Carregando coleo:",t);const N=new ft(t,_r,r);let Z="Collection",ue="",I="",q=0,fe=0,J=BigInt(0),se=!0,he=!0,ce=!1,K=0,de=n,Ee=Math.floor(Date.now()/1e3),me=!1,Oe=!1,Xe=!1;if(i)try{Xe=await i.isValidCollection(t),console.log("Dashboard: Coleo do Factory?",Xe)}catch(ge){console.log("Dashboard: Erro ao verificar Factory:",ge.message)}try{const ge=await ee(N,"setRoyalty");console.log("Dashboard: setRoyalty existe no ABI?",ge),ge?Oe=await T(N,n):Oe=!1,console.log("Dashboard: Contrato suporta setRoyalty?",Oe)}catch(ge){console.log("Dashboard: Erro ao verificar setRoyalty:",ge.message),Oe=!1}let mt=!1;try{const ge=await N.getCollectionInfo();mt=!0,Z=ge[0],ue=ge[1],I=ge[2],q=ge[3],fe=ge[4],J=ge[5],se=ge[6],he=ge[7],ce=ge[8],K=ge[9],de=ge[10],Ee=ge[11],console.log("Dashboard:  getCollectionInfo() disponvel")}catch{console.log("Dashboard:  getCollectionInfo() no disponvel")}if(mt&&Oe)me=!1,console.log("Dashboard:  Contrato CollectionNFT completo detectado");else if(Oe){me=!1,console.log("Dashboard:  Contrato com suporte a royalty detectado");try{Z=await N.collectionName()}catch{}try{de=await N.creator()}catch{}try{q=await N.maxSupply()}catch{}try{fe=await N.totalSupply()}catch{}try{J=await N.mintPrice()}catch{J=BigInt(0)}try{se=await N.mintingEnabled()}catch{se=!0}try{he=await N.publicMintEnabled()}catch{he=!0}try{ce=await N.whitelistEnabled()}catch{ce=!1}try{K=await N.maxMintPerWallet()}catch{K=Number(q)}}else{me=!0,console.log("Dashboard:  Contrato legado detectado (no suporta setRoyalty)");try{Z=await N.collectionName()}catch{try{Z=await N.name()}catch{}}try{de=await N.creator()}catch{try{de=await N.owner()}catch{de=n}}try{q=await N.maxSupply()}catch{q=0}try{fe=await N.totalSupply()}catch{fe=0}J=BigInt(0),se=!0,he=!1,ce=!1,K=Number(q)||0}if(ue||(ue=""),I||(I=""),de.toLowerCase()!==n.toLowerCase()){R.error("You are not the creator of this collection"),e("/my-nfts");return}let te={receiver:de,percentage:5};try{const[ge,wt]=await N.royaltyInfo(1,vr("1"));te={receiver:ge,percentage:Number(ot(wt))*100}}catch{console.log("Dashboard: Royalty info no disponvel (contrato antigo)")}let pe={total:"0",available:"0",withdrawn:"0"};try{const ge=await N.totalEarnings(),wt=await N.availableEarnings(),vt=await N.withdrawnEarnings();pe={total:ot(ge),available:ot(wt),withdrawn:ot(vt)}}catch{console.log("Dashboard: Earnings no disponvel (contrato antigo)")}let qe=0;try{qe=Number(await N.availableURIsCount())}catch{console.log("Dashboard: URIs count no disponvel")}if(!I&&Number(fe)>0)try{const ge=await N.tokenURI(1);let wt={};try{wt=JSON.parse(ge)}catch{let vt=ge;if(ge.startsWith("ipfs://")&&(vt=ge.replace("ipfs://","https://gateway.pinata.cloud/ipfs/")),vt.startsWith("http")){const xt=await fetch(vt);xt.ok&&(wt=await xt.json())}}wt.image&&(I=wt.image)}catch{console.log("Dashboard: No foi possvel obter imagem do NFT")}a({address:t,contract:N,name:Z,description:ue,image:I,maxSupply:Number(q),totalSupply:Number(fe),mintPrice:ot(J),mintingEnabled:se,publicMintEnabled:he,whitelistEnabled:ce,maxMintPerWallet:Number(K),creator:de,createdAt:Number(Ee),royalty:te,earnings:pe,availableURIs:qe,isLegacyContract:me,supportsRoyalty:Oe}),x(ot(J)),A(Number(K).toString()),m(te.percentage.toString()),k(ue),L(I),console.log("Dashboard: Coleo carregada com sucesso",{name:Z,isLegacyContract:me,supportsRoyalty:Oe})}catch(N){console.error("Dashboard: Erro ao carregar coleo:",N),R.error("Error loading collection: "+(N.message||"Unknown error"))}finally{l(!1)}},[t,r,n,e]);S.useEffect(()=>{F()},[F]);const W=async()=>{if(s!=null&&s.contract){if(s.isLegacyContract){R.error("This feature is not available for legacy contracts");return}try{d(!0);const N=await s.contract.setMintPrice(vr(w));R.loading("Updating mint price..."),await N.wait(),R.dismiss(),R.success("Mint price updated!"),F()}catch(N){console.error(N),R.error("Error updating mint price")}finally{d(!1)}}},M=()=>s!=null&&s.isLegacyContract?(R.error("This feature is not available for legacy contracts"),!0):!1,ve=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setMaxMintPerWallet(parseInt(v));R.loading("Updating wallet limit..."),await N.wait(),R.dismiss(),R.success("Wallet limit updated!"),F()}catch(N){console.error(N),R.error("Error updating wallet limit")}finally{d(!1)}},Te=async()=>{var Z,ue,I,q,fe,J,se,he;if(!(s!=null&&s.contract))return;if(s.isLegacyContract||!s.supportsRoyalty){R.error("This contract does not support royalty updates. Create a new collection via Launchpad to use this feature.");return}const N=parseFloat(g);if(isNaN(N)||N<0||N>10){R.error("Royalty must be between 0% and 10%");return}try{d(!0);const ce=Math.round(N*100),K=s.creator||n;if(!K){R.error("Creator address not found",{id:"royalty"});return}if(console.log("Dashboard: Atualizando royalty...",{receiver:K,feeNumerator:ce,percent:`${N}%`,collectionAddress:s.address}),!s.contract.setRoyalty){R.error("This contract does not support royalty updates. It may be an older version.",{id:"royalty"});return}R.loading(`Setting royalty to ${N}%...`,{id:"royalty"});try{await s.contract.setRoyalty.estimateGas(K,ce)}catch(Ee){if(console.error("Gas estimation failed:",Ee),(Z=Ee.message)!=null&&Z.includes("Ownable")||(ue=Ee.message)!=null&&ue.includes("caller is not the owner")||Ee.code==="CALL_EXCEPTION"){R.error("You are not the owner of this contract. Only the creator can update royalties.",{id:"royalty"});return}if((I=Ee.message)!=null&&I.includes("missing revert data")||Ee.data===null){R.error("This contract does not support setRoyalty. It may be deployed with an older version.",{id:"royalty"});return}throw Ee}const de=await s.contract.setRoyalty(K,ce);R.loading("Waiting for confirmation...",{id:"royalty"}),await de.wait(),R.success(`Royalty updated to ${N}%! Royalties will go to ${K.substring(0,6)}...${K.substring(38)}`,{id:"royalty",duration:6e3}),F()}catch(ce){console.error("Error updating royalty:",ce),console.error("Error details:",{message:ce.message,reason:ce.reason,code:ce.code,data:ce.data});let K="Error updating royalty";ce.reason?K=ce.reason:ce.code==="ACTION_REJECTED"?K="Transaction was rejected by user":(q=ce.message)!=null&&q.includes("Royalty too high")?K="Royalty cannot exceed 10%":(fe=ce.message)!=null&&fe.includes("not the owner")||(J=ce.message)!=null&&J.includes("Ownable")?K="Only the collection creator can update royalties":(se=ce.message)!=null&&se.includes("execution reverted")?K="Transaction reverted - make sure you are the collection owner":((he=ce.message)!=null&&he.includes("missing revert data")||ce.code==="CALL_EXCEPTION")&&(K="This contract does not support this operation. Try creating a new collection."),R.error(K,{id:"royalty"})}finally{d(!1)}},be=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setCollectionMetadata(y,B);R.loading("Updating metadata..."),await N.wait(),R.dismiss(),R.success("Collection metadata updated!"),F()}catch(N){console.error(N),R.error("Error updating metadata")}finally{d(!1)}},Me=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setMintingEnabled(!s.mintingEnabled);R.loading(s.mintingEnabled?"Disabling minting...":"Enabling minting..."),await N.wait(),R.dismiss(),R.success(s.mintingEnabled?"Minting disabled!":"Minting enabled!"),F()}catch(N){console.error(N),R.error("Error toggling minting")}finally{d(!1)}},Ae=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setPublicMintEnabled(!s.publicMintEnabled);R.loading(s.publicMintEnabled?"Disabling public mint...":"Enabling public mint..."),await N.wait(),R.dismiss(),R.success(s.publicMintEnabled?"Public mint disabled!":"Public mint enabled!"),F()}catch(N){console.error(N),R.error("Error toggling public mint")}finally{d(!1)}},He=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setWhitelistEnabled(!s.whitelistEnabled);R.loading(s.whitelistEnabled?"Disabling whitelist...":"Enabling whitelist..."),await N.wait(),R.dismiss(),R.success(s.whitelistEnabled?"Whitelist disabled!":"Whitelist enabled!"),F()}catch(N){console.error(N),R.error("Error toggling whitelist")}finally{d(!1)}},gn=async()=>{if(!(!(s!=null&&s.contract)||!P||!Y))try{d(!0);let N;s.isLegacyContract?N=await s.contract.mint(P,Y):N=await s.contract.airdrop(P,Y),R.loading("Processing airdrop..."),await N.wait(),R.dismiss(),R.success("Airdrop sent!"),E(""),we(""),F()}catch(N){console.error(N),R.error("Error sending airdrop: "+(N.reason||N.message))}finally{d(!1)}},We=async()=>{if(!(!(s!=null&&s.contract)||!V||!Y))try{d(!0);const N=V.split(`
`).map(Z=>Z.trim()).filter(Z=>Z);if(s.isLegacyContract){R.loading(`Processing airdrop to ${N.length} addresses...`);for(const Z of N)await(await s.contract.mint(Z,Y)).wait()}else{const Z=await s.contract.airdropSameURI(N,Y);R.loading(`Processing airdrop to ${N.length} addresses...`),await Z.wait()}R.dismiss(),R.success(`Airdrop sent to ${N.length} addresses!`),U(""),we(""),F()}catch(N){console.error(N),R.error("Error sending batch airdrop: "+(N.reason||N.message))}finally{d(!1)}},Ge=async()=>{if(!(!(s!=null&&s.contract)||!H||M()))try{d(!0);const N=await s.contract.addToWhitelist(H);R.loading("Adding to whitelist..."),await N.wait(),R.dismiss(),R.success("Address added to whitelist!"),X("")}catch(N){console.error(N),R.error("Error adding to whitelist")}finally{d(!1)}},$e=async()=>{if(!(!(s!=null&&s.contract)||!_||M()))try{d(!0);const N=_.split(`
`).map(ue=>ue.trim()).filter(ue=>ue),Z=await s.contract.addToWhitelistBatch(N);R.loading(`Adding ${N.length} addresses to whitelist...`),await Z.wait(),R.dismiss(),R.success(`${N.length} addresses added to whitelist!`),z("")}catch(N){console.error(N),R.error("Error adding batch to whitelist")}finally{d(!1)}},Ze=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.withdrawEarnings();R.loading("Withdrawing earnings..."),await N.wait(),R.dismiss(),R.success("Earnings withdrawn!"),F()}catch(N){console.error(N),R.error("Error withdrawing earnings")}finally{d(!1)}};if(o)return c.jsx("div",{className:"container",style:{padding:"4rem 1rem"},children:c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),c.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading collection..."})]})})});if(!s)return c.jsx("div",{className:"container",style:{padding:"4rem 1rem"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("h2",{children:"Collection not found"}),c.jsx(Zn,{to:"/my-nfts",className:"btn btn-primary",style:{marginTop:"1rem"},children:"Back to My NFTs"})]})});const D=[{id:"overview",label:"Overview",icon:""},{id:"minting",label:"Mint Settings",icon:""},{id:"earnings",label:"Earnings",icon:""},{id:"airdrop",label:"Airdrop",icon:""},{id:"whitelist",label:"Whitelist",icon:""},{id:"metadata",label:"Metadata",icon:""}];return c.jsxs("div",{className:"container",style:{padding:"2rem 1rem",maxWidth:"1200px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[c.jsx(Zn,{to:"/my-nfts",style:{color:"var(--text-secondary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Back"}),c.jsx("h1",{style:{margin:0,fontSize:"1.75rem"},children:s.name}),c.jsx("span",{style:{background:s.mintingEnabled?"rgba(46, 204, 113, 0.2)":"rgba(231, 76, 60, 0.2)",color:s.mintingEnabled?"#2ecc71":"#e74c3c",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:s.mintingEnabled?"Minting Active":"Minting Paused"}),s.isLegacyContract&&c.jsx("span",{style:{background:"rgba(241, 196, 15, 0.2)",color:"#f1c40f",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:" Legacy Contract"})]}),s.isLegacyContract&&c.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(241, 196, 15, 0.1), rgba(241, 196, 15, 0.05))",border:"1px solid rgba(241, 196, 15, 0.3)",borderRadius:"12px",padding:"1rem 1.5rem",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsxs("div",{children:[c.jsx("strong",{style:{color:"#f1c40f"},children:"Legacy Contract"}),c.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Esta coleo usa um contrato antigo. Algumas funcionalidades como royalties, airdrop, whitelist e earnings podem no estar disponveis. Para ter acesso completo ao Dashboard, crie uma nova coleo aps o deploy do contrato atualizado."})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[c.jsx(Ps,{title:"Total Supply",value:`${s.totalSupply} / ${s.maxSupply}`,icon:""}),c.jsx(Ps,{title:"Mint Price",value:`${s.mintPrice} ETH`,icon:""}),c.jsx(Ps,{title:"Royalty",value:`${s.royalty.percentage}%`,icon:""}),c.jsx(Ps,{title:"Earnings",value:`${s.earnings.total} ETH`,icon:""})]}),c.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap",borderBottom:"1px solid var(--border)",paddingBottom:"1rem"},children:D.map(N=>c.jsxs("button",{onClick:()=>h(N.id),style:{padding:"0.75rem 1.25rem",background:f===N.id?"var(--primary)":"var(--surface)",color:f===N.id?"white":"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[c.jsx("span",{children:N.icon}),c.jsx("span",{children:N.label})]},N.id))}),c.jsxs("div",{style:{background:"var(--surface)",borderRadius:"12px",padding:"2rem",border:"1px solid var(--border)"},children:[f==="overview"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Overview"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Collection Address"}),c.jsx("code",{style:{fontSize:"0.875rem",background:"var(--surface-alt)",padding:"0.5rem",borderRadius:"6px",display:"block",wordBreak:"break-all"},children:s.address})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Creator"}),c.jsx("code",{style:{fontSize:"0.875rem",background:"var(--surface-alt)",padding:"0.5rem",borderRadius:"6px",display:"block",wordBreak:"break-all"},children:s.creator})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Created At"}),c.jsx("p",{style:{margin:0},children:new Date(s.createdAt*1e3).toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Status"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx(Sp,{active:s.mintingEnabled,label:"Minting"}),c.jsx(Sp,{active:s.publicMintEnabled,label:"Public Mint"}),c.jsx(Sp,{active:s.whitelistEnabled,label:"Whitelist"})]})]})]})]}),f==="minting"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Mint Settings"}),s.isLegacyContract&&c.jsx("div",{style:{background:"linear-gradient(135deg, rgba(241, 196, 15, 0.1), rgba(241, 196, 15, 0.05))",border:"1px solid rgba(241, 196, 15, 0.3)",borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:" Some features are disabled because this is a legacy contract. Create a new collection via Launchpad to access all features."}),c.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[c.jsx(Fa,{title:"Minting Status",description:"Enable or disable all minting functionality",children:c.jsx("button",{onClick:Me,disabled:u||s.isLegacyContract,className:`btn ${s.mintingEnabled?"btn-secondary":"btn-primary"}`,style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:s.mintingEnabled?"Disable Minting":"Enable Minting"})}),c.jsx(Fa,{title:"Public Mint",description:"Allow anyone to mint (if minting is enabled)",children:c.jsx("button",{onClick:Ae,disabled:u||s.isLegacyContract,className:`btn ${s.publicMintEnabled?"btn-secondary":"btn-primary"}`,style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:s.publicMintEnabled?"Disable Public Mint":"Enable Public Mint"})}),c.jsx(Fa,{title:"Mint Price",description:"Price per NFT in ETH",children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{type:"number",step:"0.001",value:w,onChange:N=>x(N.target.value),disabled:s.isLegacyContract,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"150px",opacity:s.isLegacyContract?.5:1}}),c.jsx("button",{onClick:W,disabled:u||s.isLegacyContract,className:"btn btn-primary",style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:"Update"})]})}),c.jsx(Fa,{title:"Max Mint Per Wallet",description:"Maximum NFTs a single wallet can mint",children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{type:"number",value:v,onChange:N=>A(N.target.value),disabled:s.isLegacyContract,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"150px",opacity:s.isLegacyContract?.5:1}}),c.jsx("button",{onClick:ve,disabled:u||s.isLegacyContract,className:"btn btn-primary",style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:"Update"})]})}),c.jsx(Fa,{title:"Royalty Percentage",description:s.supportsRoyalty?"Percentage of secondary sales (max 10%) - You receive this on every resale!":"This contract does not support royalty updates. Create a new collection to use this feature.",children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",value:g,onChange:N=>m(N.target.value),disabled:!s.supportsRoyalty,style:{padding:"0.75rem",paddingRight:"2rem",borderRadius:"8px",border:s.supportsRoyalty?"1px solid var(--accent-gold)":"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"120px",opacity:s.supportsRoyalty?1:.5}}),c.jsx("span",{style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",fontSize:"0.875rem"},children:"%"})]}),c.jsx("button",{onClick:Te,disabled:u||!s.supportsRoyalty,className:"btn btn-primary",style:s.supportsRoyalty?{background:"linear-gradient(135deg, var(--primary), var(--accent-gold))"}:{opacity:.5,cursor:"not-allowed"},title:s.supportsRoyalty?"Update royalty percentage":"This contract does not support royalty updates",children:s.supportsRoyalty?" Set Royalty":" Locked"})]})}),s.supportsRoyalty&&c.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.05))",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"1.25rem",display:"flex",alignItems:"flex-start",gap:"1rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0 0 0.5rem",color:"var(--accent-gold)"},children:"About Royalties"}),c.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Royalties are automatically paid when NFTs from this collection are resold on marketplaces that support ERC-2981."}),c.jsxs("div",{style:{display:"flex",gap:"1.5rem",flexWrap:"wrap",marginTop:"0.75rem",padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Current Royalty"}),c.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"700",color:"var(--accent-gold)"},children:[((ne=s.royalty)==null?void 0:ne.percentage)||5,"%"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Royalties go to (Creator)"}),c.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--text)",fontFamily:"monospace",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--accent-gold)",display:"inline-block"}}),(Re=s.creator)==null?void 0:Re.substring(0,6),"...",(Ve=s.creator)==null?void 0:Ve.substring(38)]})]})]})]})]})]})]}),f==="earnings"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Earnings"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[c.jsx(Ps,{title:"Total Earned",value:`${s.earnings.total} ETH`,icon:""}),c.jsx(Ps,{title:"Withdrawn",value:`${s.earnings.withdrawn} ETH`,icon:""}),c.jsx(Ps,{title:"Available",value:`${s.earnings.available} ETH`,icon:"",highlight:!0})]}),c.jsxs("button",{onClick:Ze,disabled:u||parseFloat(s.earnings.available)===0,className:"btn btn-primary",style:{fontSize:"1rem",padding:"1rem 2rem"},children:["Withdraw ",s.earnings.available," ETH"]})]}),f==="airdrop"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Airdrop"}),c.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Single Airdrop"}),c.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Send a single NFT to an address"}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsx("input",{type:"text",placeholder:"Recipient address (0x...)",value:P,onChange:N=>E(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%"}}),c.jsx("input",{type:"text",placeholder:"Token URI (ipfs://... or https://...)",value:Y,onChange:N=>we(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%"}}),c.jsx("button",{onClick:gn,disabled:u||!P||!Y,className:"btn btn-primary",children:"Send Airdrop"})]})]}),c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Batch Airdrop"}),c.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Send the same NFT to multiple addresses"}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsx("textarea",{placeholder:"Enter addresses (one per line)",value:V,onChange:N=>U(N.target.value),rows:5,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%",resize:"vertical"}}),c.jsx("input",{type:"text",placeholder:"Token URI for all (ipfs://... or https://...)",value:Y,onChange:N=>we(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%"}}),c.jsxs("button",{onClick:We,disabled:u||!V||!Y,className:"btn btn-primary",children:["Send Batch Airdrop (",V.split(`
`).filter(N=>N.trim()).length," addresses)"]})]})]})]})]}),f==="whitelist"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Whitelist"}),c.jsx(Fa,{title:"Whitelist Status",description:"When enabled, only whitelisted addresses can mint",children:c.jsx("button",{onClick:He,disabled:u,className:`btn ${s.whitelistEnabled?"btn-secondary":"btn-primary"}`,children:s.whitelistEnabled?"Disable Whitelist":"Enable Whitelist"})}),c.jsxs("div",{style:{marginTop:"2rem",display:"grid",gap:"2rem"},children:[c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Add Single Address"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{type:"text",placeholder:"Address (0x...)",value:H,onChange:N=>X(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",flex:1}}),c.jsx("button",{onClick:Ge,disabled:u||!H,className:"btn btn-primary",children:"Add"})]})]}),c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Add Multiple Addresses"}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsx("textarea",{placeholder:"Enter addresses (one per line)",value:_,onChange:N=>z(N.target.value),rows:5,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%",resize:"vertical"}}),c.jsxs("button",{onClick:$e,disabled:u||!_,className:"btn btn-primary",children:["Add ",_.split(`
`).filter(N=>N.trim()).length," Addresses"]})]})]})]})]}),f==="metadata"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Collection Metadata"}),c.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Description"}),c.jsx("textarea",{value:y,onChange:N=>k(N.target.value),rows:4,placeholder:"Enter collection description...",style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"100%",resize:"vertical"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Collection Image URL"}),c.jsx("input",{type:"text",value:B,onChange:N=>L(N.target.value),placeholder:"ipfs://... or https://...",style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"100%"}})]}),B&&c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Preview"}),c.jsx("img",{src:B.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),alt:"Collection preview",style:{maxWidth:"200px",borderRadius:"12px",border:"1px solid var(--border)"},onError:N=>N.target.style.display="none"})]}),c.jsx("button",{onClick:be,disabled:u,className:"btn btn-primary",style:{width:"fit-content"},children:"Update Metadata"})]})]})]})]})}function Ps({title:t,value:e,icon:n,highlight:r}){return c.jsxs("div",{style:{background:r?"linear-gradient(135deg, var(--primary), var(--accent-gold))":"var(--surface)",padding:"1.25rem",borderRadius:"12px",border:r?"none":"1px solid var(--border)"},children:[c.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:n}),c.jsx("div",{style:{fontSize:"0.75rem",color:r?"rgba(255,255,255,0.8)":"var(--text-secondary)",marginBottom:"0.25rem"},children:t}),c.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:r?"white":"var(--text)"},children:e})]})}function Sp({active:t,label:e}){return c.jsxs("span",{style:{background:t?"rgba(46, 204, 113, 0.2)":"rgba(231, 76, 60, 0.2)",color:t?"#2ecc71":"#e74c3c",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:[t?"":""," ",e]})}function Fa({title:t,description:e,children:n}){return c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{margin:0,fontSize:"1rem"},children:t}),c.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:e})]}),n]})}function q5(){const t=Xc(),{account:e,connectWallet:n,disconnect:r,isCorrectNetwork:i,checkNetworkInfo:s,provider:a}=kl(),[o,l]=S.useState(!1),[u,d]=S.useState(null),[f,h]=S.useState(null),[w,x]=S.useState(!1),[v,A]=S.useState(!1),[g,m]=S.useState(()=>{const E=localStorage.getItem("theme");return E||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")}),y=E=>E?`${E.slice(0,6)}...${E.slice(-4)}`:"",k=async()=>{const E=await s();E&&(d(E),l(!0),A(!1))},B=()=>{A(!v)},L=()=>{r(),A(!1)};S.useEffect(()=>{document.documentElement.setAttribute("data-theme",g),localStorage.setItem("theme",g)},[g]);const P=()=>{m(E=>E==="light"?"dark":"light")};return S.useEffect(()=>{if(!e||!a){h(null);return}const E=async()=>{try{x(!0);const U=await a.getBalance(e),Y=ot(U);h(parseFloat(Y))}catch(U){console.error("Error fetching balance:",U),h(null)}finally{x(!1)}};E();const V=setInterval(()=>{E()},1e4);return()=>clearInterval(V)},[e,a]),S.useEffect(()=>{const E=V=>{v&&!V.target.closest("[data-account-menu]")&&A(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[v]),c.jsxs("header",{className:"header",children:[c.jsx("div",{className:"container",children:c.jsxs("div",{className:"header-content",children:[c.jsxs(Zn,{to:"/",className:"header-logo",style:{textDecoration:"none",display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsx(Fb,{size:52,animate:!0}),c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.125rem"},children:[c.jsx("div",{className:"logo",style:{fontSize:"1.75rem",fontWeight:"800",letterSpacing:"0.15em",lineHeight:"1.2"},children:"GENESIS"}),c.jsx("span",{style:{fontSize:"0.625rem",fontWeight:"700",letterSpacing:"0.1em",textTransform:"uppercase",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2))",border:"1px solid rgba(59, 130, 246, 0.4)",color:"var(--accent-gold)",padding:"0.25rem 0.5rem",borderRadius:"4px",display:"inline-block",lineHeight:"1"},children:"Pre-alpha"})]}),c.jsx("div",{style:{fontSize:"0.625rem",letterSpacing:"0.2em",color:"var(--accent-gold)",textTransform:"uppercase",fontWeight:"600",opacity:.9},children:"Launch on Genesis"})]})]}),c.jsxs("nav",{className:"nav",children:[c.jsx(Zn,{to:"/collections",className:`nav-link ${t.pathname==="/collections"||t.pathname==="/"?"active":""}`,children:"Collections"}),c.jsx(Zn,{to:"/launchpad",className:`nav-link ${t.pathname==="/launchpad"?"active":""}`,children:"Launchpad"}),c.jsx(Zn,{to:"/my-nfts",className:`nav-link ${t.pathname==="/my-nfts"?"active":""}`,children:"My NFTs"})]}),c.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"0.75rem",alignItems:"center",marginLeft:"auto"},children:[c.jsx("button",{className:"btn btn-outline",onClick:P,style:{padding:"0.625rem",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"44px",height:"44px",borderRadius:"12px",background:"var(--surface)",border:"1px solid var(--border)"},title:g==="light"?"Switch to dark mode":"Switch to light mode",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g==="light"?c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}):c.jsxs(c.Fragment,{children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),c.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),c.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),c.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),c.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),c.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),c.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),c.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})})}),!i&&e&&c.jsx("span",{className:"badge badge-error",style:{fontSize:"0.75rem"},children:"Wrong Network"}),e&&f!==null&&c.jsxs("div",{style:{padding:"0.625rem 1rem",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.625rem",fontWeight:"600",whiteSpace:"nowrap",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--text)"},children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"var(--accent-gold)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),c.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),w?c.jsx("span",{style:{opacity:.7},children:"..."}):c.jsxs("span",{children:[f.toFixed(4)," USDC"]})]}),e?c.jsxs("div",{style:{position:"relative"},"data-account-menu":!0,children:[c.jsxs("button",{className:"btn btn-secondary",onClick:B,style:{display:"flex",alignItems:"center",gap:"0.625rem",padding:"0.625rem 1.125rem",fontWeight:"600",position:"relative",overflow:"visible"},children:[c.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"var(--accent-gold)",boxShadow:"0 0 10px rgba(59, 130, 246, 0.6)",flexShrink:0}}),c.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.875rem"},children:y(e)}),c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:v?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),v&&c.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"0.5rem",minWidth:"200px",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",zIndex:1e3,overflow:"hidden",animation:"slideDown 0.2s ease-out"},children:[c.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",transition:"background 0.2s",borderBottom:"1px solid var(--border)"},onClick:k,onMouseEnter:E=>E.currentTarget.style.background="var(--surface-alt)",onMouseLeave:E=>E.currentTarget.style.background="transparent",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),c.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:"Network Info"})]}),c.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",transition:"background 0.2s",color:"var(--error)"},onClick:L,onMouseEnter:E=>E.currentTarget.style.background="var(--surface-alt)",onMouseLeave:E=>E.currentTarget.style.background="transparent",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),c.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:"Disconnect"})]})]})]}):c.jsx("button",{className:"btn btn-primary",onClick:n,style:{padding:"0.625rem 1.25rem",fontWeight:"600",fontSize:"0.9375rem",letterSpacing:"0.05em"},children:"Connect Wallet"})]})]})}),o&&u&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",animation:"fadeIn 0.2s ease-out",overflow:"auto",padding:"1rem"},onClick:()=>l(!1),children:c.jsxs("div",{style:{maxWidth:"540px",width:"100%",maxHeight:"90vh",padding:"0",background:"var(--surface)",borderRadius:"20px",border:"1px solid var(--border)",position:"relative",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",overflow:"auto",animation:"slideUp 0.3s ease-out",margin:"auto"},onClick:E=>E.stopPropagation(),children:[c.jsxs("div",{style:{background:u.isCorrect?"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05))":"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05))",padding:"1.75rem 2rem",borderBottom:`1px solid ${u.isCorrect?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.875rem"},children:[c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:u.isCorrect?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:u.isCorrect?"#22c55e":"#ef4444",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})}),c.jsxs("div",{children:[c.jsx("h2",{style:{margin:0,fontSize:"1.375rem",fontWeight:"700",color:"var(--text)"},children:"Network Status"}),c.jsx("div",{style:{marginTop:"0.25rem",fontSize:"0.8125rem",color:"var(--text-secondary)"},children:u.isCorrect?"Connected":"Disconnected"})]})]}),c.jsx("button",{onClick:()=>l(!1),style:{background:"transparent",border:"none",color:"var(--text-secondary)",fontSize:"1.5rem",cursor:"pointer",padding:"0.5rem",lineHeight:1,borderRadius:"8px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px"},onMouseEnter:E=>{E.currentTarget.style.background="var(--surface-alt)",E.currentTarget.style.color="var(--text)"},onMouseLeave:E=>{E.currentTarget.style.background="transparent",E.currentTarget.style.color="var(--text-secondary)"},children:""})]}),c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem 1.25rem",borderRadius:"12px",background:u.isCorrect?"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05))":"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05))",border:`1px solid ${u.isCorrect?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"}`,display:"flex",alignItems:"center",gap:"0.75rem"},children:[c.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:u.isCorrect?"#22c55e":"#ef4444",boxShadow:`0 0 12px ${u.isCorrect?"rgba(34, 197, 94, 0.5)":"rgba(239, 68, 68, 0.5)"}`,animation:"pulse 2s infinite"}}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:"600",color:u.isCorrect?"#22c55e":"#ef4444",marginBottom:"0.25rem"},children:u.isCorrect?"Correct Network":"Wrong Network"}),c.jsx("div",{style:{fontSize:"0.8125rem",color:"var(--text-secondary)"},children:u.isCorrect?`Connected to ${u.expectedName}`:`Recommended: ${u.expectedName}`})]})]}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",transition:"all 0.2s"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Network Name"}),c.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"700",color:"var(--text)",display:"flex",alignItems:"center",gap:"0.5rem"},children:u.name})]}),c.jsxs("div",{style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",transition:"all 0.2s"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Chain ID"}),c.jsxs("div",{style:{fontSize:"1.125rem",fontFamily:"monospace",fontWeight:"700",color:"var(--accent-gold)"},children:[u.chainId,c.jsxs("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginLeft:"0.5rem",fontWeight:"500"},children:["(",u.chainIdHex,")"]})]})]}),c.jsxs("div",{style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",transition:"all 0.2s"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Native Currency"}),c.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"700",color:"var(--text)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),u.currencySymbol]})]}),u.blockExplorer&&c.jsxs("a",{href:u.blockExplorer,target:"_blank",rel:"noopener noreferrer",style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:E=>{E.currentTarget.style.borderColor="var(--accent-gold)",E.currentTarget.style.background="rgba(59, 130, 246, 0.05)",E.currentTarget.style.transform="translateX(4px)"},onMouseLeave:E=>{E.currentTarget.style.borderColor="var(--border)",E.currentTarget.style.background="var(--surface-alt)",E.currentTarget.style.transform="translateX(0)"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Block Explorer"}),c.jsx("div",{style:{fontSize:"1rem",color:"var(--accent-gold)",fontWeight:"600"},children:"View on Arcscan"})]}),c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--accent-gold)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),c.jsx("polyline",{points:"15 3 21 3 21 9"}),c.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]})]})]})})]})}function eI(){return c.jsx(pC,{children:c.jsxs("div",{className:"app",children:[c.jsx(q5,{}),c.jsx("main",{children:c.jsxs(aC,{children:[c.jsx(Ma,{path:"/",element:c.jsx(V5,{})}),c.jsx(Ma,{path:"/collections",element:c.jsx(Q5,{})}),c.jsx(Ma,{path:"/launchpad",element:c.jsx(Z5,{})}),c.jsx(Ma,{path:"/my-nfts",element:c.jsx(K5,{})}),c.jsx(Ma,{path:"/dashboard/:collectionAddress",element:c.jsx(X5,{})})]})}),c.jsx("footer",{style:{background:"var(--surface)",borderTop:"1px solid var(--border)",padding:"2rem 0",marginTop:"4rem"},children:c.jsx("div",{className:"container",children:c.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[c.jsx("span",{children:"Follow us:"}),c.jsxs("a",{href:"https://twitter.com/younglubz",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--accent-gold)",textDecoration:"none",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",transition:"opacity 0.2s"},onMouseEnter:t=>t.currentTarget.style.opacity="0.8",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",style:{opacity:.9},children:c.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})}),"@younglubz"]})]})})}),c.jsx(ik,{position:"bottom-right",toastOptions:{style:{background:"var(--surface)",color:"var(--text)",border:"1px solid var(--border)"}}})]})})}function tI(){return c.jsx($5,{children:c.jsx(eI,{})})}Tp.createRoot(document.getElementById("root")).render(c.jsx(bw.StrictMode,{children:c.jsx(tI,{})}));
