var Ib=Object.defineProperty;var kg=t=>{throw TypeError(t)};var Pb=(t,e,n)=>e in t?Ib(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>Pb(t,typeof e!="symbol"?e+"":e,n),Nf=(t,e,n)=>e.has(t)||kg("Cannot "+n);var p=(t,e,n)=>(Nf(t,e,"read from private field"),n?n.call(t):e.get(t)),L=(t,e,n)=>e.has(t)?kg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),x=(t,e,n,r)=>(Nf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),V=(t,e,n)=>(Nf(t,e,"access private method"),n);var bl=(t,e,n,r)=>({set _(i){x(t,e,i,n)},get _(){return p(t,e,r)}});function Rb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function jb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rw={exports:{}},$d={},iw={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=Symbol.for("react.element"),Bb=Symbol.for("react.portal"),Lb=Symbol.for("react.fragment"),Ob=Symbol.for("react.strict_mode"),Fb=Symbol.for("react.profiler"),Mb=Symbol.for("react.provider"),Ub=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),_b=Symbol.for("react.suspense"),zb=Symbol.for("react.memo"),Hb=Symbol.for("react.lazy"),Sg=Symbol.iterator;function Wb(t){return t===null||typeof t!="object"?null:(t=Sg&&t[Sg]||t["@@iterator"],typeof t=="function"?t:null)}var sw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aw=Object.assign,ow={};function ml(t,e,n){this.props=t,this.context=e,this.refs=ow,this.updater=n||sw}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lw(){}lw.prototype=ml.prototype;function sm(t,e,n){this.props=t,this.context=e,this.refs=ow,this.updater=n||sw}var am=sm.prototype=new lw;am.constructor=sm;aw(am,ml.prototype);am.isPureReactComponent=!0;var Tg=Array.isArray,cw=Object.prototype.hasOwnProperty,om={current:null},uw={key:!0,ref:!0,__self:!0,__source:!0};function dw(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)cw.call(e,r)&&!uw.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:zc,type:t,key:s,ref:a,props:i,_owner:om.current}}function Gb(t,e){return{$$typeof:zc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lm(t){return typeof t=="object"&&t!==null&&t.$$typeof===zc}function Vb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ng=/\/+/g;function If(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vb(""+t.key):e.toString(36)}function Iu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case zc:case Bb:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+If(a,0):r,Tg(i)?(n="",t!=null&&(n=t.replace(Ng,"$&/")+"/"),Iu(i,e,n,"",function(u){return u})):i!=null&&(lm(i)&&(i=Gb(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ng,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Tg(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+If(s,o);a+=Iu(s,e,n,l,i)}else if(l=Wb(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+If(s,o++),a+=Iu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function nu(t,e,n){if(t==null)return t;var r=[],i=0;return Iu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Qb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Pu={transition:null},$b={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Pu,ReactCurrentOwner:om};function fw(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:nu,forEach:function(t,e,n){nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nu(t,function(){e++}),e},toArray:function(t){return nu(t,function(e){return e})||[]},only:function(t){if(!lm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=ml;Ne.Fragment=Lb;Ne.Profiler=Fb;Ne.PureComponent=sm;Ne.StrictMode=Ob;Ne.Suspense=_b;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$b;Ne.act=fw;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aw({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=om.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)cw.call(e,l)&&!uw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:zc,type:t.type,key:i,ref:s,props:r,_owner:a}};Ne.createContext=function(t){return t={$$typeof:Ub,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mb,_context:t},t.Consumer=t};Ne.createElement=dw;Ne.createFactory=function(t){var e=dw.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:Db,render:t}};Ne.isValidElement=lm;Ne.lazy=function(t){return{$$typeof:Hb,_payload:{_status:-1,_result:t},_init:Qb}};Ne.memo=function(t,e){return{$$typeof:zb,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Pu.transition;Pu.transition={};try{t()}finally{Pu.transition=e}};Ne.unstable_act=fw;Ne.useCallback=function(t,e){return sn.current.useCallback(t,e)};Ne.useContext=function(t){return sn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return sn.current.useEffect(t,e)};Ne.useId=function(){return sn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return sn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Ne.useRef=function(t){return sn.current.useRef(t)};Ne.useState=function(t){return sn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return sn.current.useTransition()};Ne.version="18.3.1";iw.exports=Ne;var S=iw.exports;const pw=jb(S),Kb=Rb({__proto__:null,default:pw},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb=S,Yb=Symbol.for("react.element"),Zb=Symbol.for("react.fragment"),Xb=Object.prototype.hasOwnProperty,qb=Jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e2={key:!0,ref:!0,__self:!0,__source:!0};function hw(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Xb.call(e,r)&&!e2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Yb,type:t,key:s,ref:a,props:i,_owner:qb.current}}$d.Fragment=Zb;$d.jsx=hw;$d.jsxs=hw;rw.exports=$d;var c=rw.exports,Ap={},mw={exports:{}},Rn={},gw={exports:{}},yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,F){var H=T.length;T.push(F);e:for(;0<H;){var M=H-1>>>1,ge=T[M];if(0<i(ge,F))T[M]=F,T[H]=ge,H=M;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var F=T[0],H=T.pop();if(H!==F){T[0]=H;e:for(var M=0,ge=T.length,ke=ge>>>1;M<ke;){var be=2*(M+1)-1,Le=T[be],Ae=be+1,ze=T[Ae];if(0>i(Le,H))Ae<ge&&0>i(ze,Le)?(T[M]=ze,T[Ae]=H,M=Ae):(T[M]=Le,T[be]=H,M=be);else if(Ae<ge&&0>i(ze,H))T[M]=ze,T[Ae]=H,M=Ae;else break e}}return F}function i(T,F){var H=T.sortIndex-F.sortIndex;return H!==0?H:T.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,h=3,w=!1,b=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(T){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=T)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function k(T){if(v=!1,y(T),!b)if(n(l)!==null)b=!0,z(j);else{var F=n(u);F!==null&&X(k,F.startTime-T)}}function j(T,F){b=!1,v&&(v=!1,m(E),E=-1),w=!0;var H=h;try{for(y(F),f=n(l);f!==null&&(!(f.expirationTime>F)||T&&!ee());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var ge=M(f.expirationTime<=F);F=t.unstable_now(),typeof ge=="function"?f.callback=ge:f===n(l)&&r(l),y(F)}else r(l);f=n(l)}if(f!==null)var ke=!0;else{var be=n(u);be!==null&&X(k,be.startTime-F),ke=!1}return ke}finally{f=null,h=H,w=!1}}var O=!1,B=null,E=-1,K=5,_=-1;function ee(){return!(t.unstable_now()-_<K)}function ye(){if(B!==null){var T=t.unstable_now();_=T;var F=!0;try{F=B(!0,T)}finally{F?G():(O=!1,B=null)}}else O=!1}var G;if(typeof g=="function")G=function(){g(ye)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,D=Z.port2;Z.port1.onmessage=ye,G=function(){D.postMessage(null)}}else G=function(){A(ye,0)};function z(T){B=T,O||(O=!0,G())}function X(T,F){E=A(function(){T(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){b||w||(b=!0,z(j))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var H=h;h=F;try{return T()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var H=h;h=T;try{return F()}finally{h=H}},t.unstable_scheduleCallback=function(T,F,H){var M=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?M+H:M):H=M,T){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=H+ge,T={id:d++,callback:F,priorityLevel:T,startTime:H,expirationTime:ge,sortIndex:-1},H>M?(T.sortIndex=H,e(u,T),n(l)===null&&T===n(u)&&(v?(m(E),E=-1):v=!0,X(k,H-M))):(T.sortIndex=ge,e(l,T),b||w||(b=!0,z(j))),T},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(T){var F=h;return function(){var H=h;h=F;try{return T.apply(this,arguments)}finally{h=H}}}})(yw);gw.exports=yw;var t2=gw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2=S,Pn=t2;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ww=new Set,ql={};function wa(t,e){el(t,e),el(t+"Capture",e)}function el(t,e){for(ql[t]=e,t=0;t<e.length;t++)ww.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,r2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Pg={};function i2(t){return Ep.call(Pg,t)?!0:Ep.call(Ig,t)?!1:r2.test(t)?Pg[t]=!0:(Ig[t]=!0,!1)}function s2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function a2(t,e,n,r){if(e===null||typeof e>"u"||s2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var cm=/[\-:]([a-z])/g;function um(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cm,um);Ut[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cm,um);Ut[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cm,um);Ut[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function dm(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(a2(e,n,i,r)&&(n=null),r||i===null?i2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=n2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ru=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),Da=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),Cp=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),xw=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),hm=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),bw=Symbol.for("react.offscreen"),Rg=Symbol.iterator;function Al(t){return t===null||typeof t!="object"?null:(t=Rg&&t[Rg]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Pf;function Bl(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var Rf=!1;function jf(t,e){if(!t||Rf)return"";Rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bl(t):""}function o2(t){switch(t.tag){case 5:return Bl(t.type);case 16:return Bl("Lazy");case 13:return Bl("Suspense");case 19:return Bl("SuspenseList");case 0:case 2:case 15:return t=jf(t.type,!1),t;case 11:return t=jf(t.type.render,!1),t;case 1:return t=jf(t.type,!0),t;default:return""}}function Tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Da:return"Fragment";case Ua:return"Portal";case Cp:return"Profiler";case fm:return"StrictMode";case kp:return"Suspense";case Sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xw:return(t.displayName||"Context")+".Consumer";case vw:return(t._context.displayName||"Context")+".Provider";case pm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hm:return e=t.displayName||null,e!==null?e:Tp(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return Tp(t(e))}catch{}}return null}function l2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tp(e);case 8:return e===fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ls(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function c2(t){var e=Aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iu(t){t._valueTracker||(t._valueTracker=c2(t))}function Ew(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Aw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Np(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ls(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cw(t,e){e=e.checked,e!=null&&dm(t,"checked",e,!1)}function Ip(t,e){Cw(t,e);var n=ls(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pp(t,e.type,ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pp(t,e,n){(e!=="number"||qu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ll=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ls(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Rp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Ll(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ls(n)}}function kw(t,e){var n=ls(e.value),r=ls(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var su,Tw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(su=su||document.createElement("div"),su.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=su.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u2=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(t){u2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hl[e]=Hl[t]})});function Nw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hl.hasOwnProperty(t)&&Hl[t]?(""+e).trim():e+"px"}function Iw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var d2=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(t,e){if(e){if(d2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Op=null;function mm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fp=null,ro=null,io=null;function Fg(t){if(t=Gc(t)){if(typeof Fp!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=Xd(e),Fp(t.stateNode,t.type,e))}}function Pw(t){ro?io?io.push(t):io=[t]:ro=t}function Rw(){if(ro){var t=ro,e=io;if(io=ro=null,Fg(t),e)for(t=0;t<e.length;t++)Fg(e[t])}}function jw(t,e){return t(e)}function Bw(){}var Bf=!1;function Lw(t,e,n){if(Bf)return t(e,n);Bf=!0;try{return jw(t,e,n)}finally{Bf=!1,(ro!==null||io!==null)&&(Bw(),Rw())}}function tc(t,e){var n=t.stateNode;if(n===null)return null;var r=Xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Mp=!1;if(ui)try{var El={};Object.defineProperty(El,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{Mp=!1}function f2(t,e,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Wl=!1,ed=null,td=!1,Up=null,p2={onError:function(t){Wl=!0,ed=t}};function h2(t,e,n,r,i,s,a,o,l){Wl=!1,ed=null,f2.apply(p2,arguments)}function m2(t,e,n,r,i,s,a,o,l){if(h2.apply(this,arguments),Wl){if(Wl){var u=ed;Wl=!1,ed=null}else throw Error(Q(198));td||(td=!0,Up=u)}}function va(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ow(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mg(t){if(va(t)!==t)throw Error(Q(188))}function g2(t){var e=t.alternate;if(!e){if(e=va(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Mg(i),t;if(s===r)return Mg(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function Fw(t){return t=g2(t),t!==null?Mw(t):null}function Mw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mw(t);if(e!==null)return e;t=t.sibling}return null}var Uw=Pn.unstable_scheduleCallback,Ug=Pn.unstable_cancelCallback,y2=Pn.unstable_shouldYield,w2=Pn.unstable_requestPaint,ht=Pn.unstable_now,v2=Pn.unstable_getCurrentPriorityLevel,gm=Pn.unstable_ImmediatePriority,Dw=Pn.unstable_UserBlockingPriority,nd=Pn.unstable_NormalPriority,x2=Pn.unstable_LowPriority,_w=Pn.unstable_IdlePriority,Kd=null,Lr=null;function b2(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(Kd,t,void 0,(t.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:C2,A2=Math.log,E2=Math.LN2;function C2(t){return t>>>=0,t===0?32:31-(A2(t)/E2|0)|0}var au=64,ou=4194304;function Ol(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Ol(o):(s&=a,s!==0&&(r=Ol(s)))}else a=n&~i,a!==0?r=Ol(a):s!==0&&(r=Ol(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cr(e),i=1<<n,r|=t[n],e&=~i;return r}function k2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-cr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=k2(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Dp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zw(){var t=au;return au<<=1,!(au&4194240)&&(au=64),t}function Lf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cr(e),t[e]=n}function T2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ym(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function Hw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ww,wm,Gw,Vw,Qw,_p=!1,lu=[],Xi=null,qi=null,es=null,nc=new Map,rc=new Map,Ni=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dg(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(e.pointerId)}}function Cl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gc(e),e!==null&&wm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function I2(t,e,n,r,i){switch(e){case"focusin":return Xi=Cl(Xi,t,e,n,r,i),!0;case"dragenter":return qi=Cl(qi,t,e,n,r,i),!0;case"mouseover":return es=Cl(es,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return nc.set(s,Cl(nc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,rc.set(s,Cl(rc.get(s)||null,t,e,n,r,i)),!0}return!1}function $w(t){var e=js(t.target);if(e!==null){var n=va(e);if(n!==null){if(e=n.tag,e===13){if(e=Ow(n),e!==null){t.blockedOn=e,Qw(t.priority,function(){Gw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Op=r,n.target.dispatchEvent(r),Op=null}else return e=Gc(n),e!==null&&wm(e),t.blockedOn=n,!1;e.shift()}return!0}function _g(t,e,n){Ru(t)&&n.delete(e)}function P2(){_p=!1,Xi!==null&&Ru(Xi)&&(Xi=null),qi!==null&&Ru(qi)&&(qi=null),es!==null&&Ru(es)&&(es=null),nc.forEach(_g),rc.forEach(_g)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,_p||(_p=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,P2)))}function ic(t){function e(i){return kl(i,t)}if(0<lu.length){kl(lu[0],t);for(var n=1;n<lu.length;n++){var r=lu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&kl(Xi,t),qi!==null&&kl(qi,t),es!==null&&kl(es,t),nc.forEach(e),rc.forEach(e),n=0;n<Ni.length;n++)r=Ni[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ni.length&&(n=Ni[0],n.blockedOn===null);)$w(n),n.blockedOn===null&&Ni.shift()}var so=yi.ReactCurrentBatchConfig,id=!0;function R2(t,e,n,r){var i=Qe,s=so.transition;so.transition=null;try{Qe=1,vm(t,e,n,r)}finally{Qe=i,so.transition=s}}function j2(t,e,n,r){var i=Qe,s=so.transition;so.transition=null;try{Qe=4,vm(t,e,n,r)}finally{Qe=i,so.transition=s}}function vm(t,e,n,r){if(id){var i=zp(t,e,n,r);if(i===null)Gf(t,e,r,sd,n),Dg(t,r);else if(I2(i,t,e,n,r))r.stopPropagation();else if(Dg(t,r),e&4&&-1<N2.indexOf(t)){for(;i!==null;){var s=Gc(i);if(s!==null&&Ww(s),s=zp(t,e,n,r),s===null&&Gf(t,e,r,sd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gf(t,e,r,null,n)}}var sd=null;function zp(t,e,n,r){if(sd=null,t=mm(r),t=js(t),t!==null)if(e=va(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ow(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sd=t,null}function Kw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v2()){case gm:return 1;case Dw:return 4;case nd:case x2:return 16;case _w:return 536870912;default:return 16}default:return 16}}var Ji=null,xm=null,ju=null;function Jw(){if(ju)return ju;var t,e=xm,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return ju=i.slice(t,1<r?1-r:void 0)}function Bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cu(){return!0}function zg(){return!1}function jn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cu:zg,this.isPropagationStopped=zg,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cu)},persist:function(){},isPersistent:cu}),e}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bm=jn(gl),Wc=lt({},gl,{view:0,detail:0}),B2=jn(Wc),Of,Ff,Sl,Jd=lt({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Am,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sl&&(Sl&&t.type==="mousemove"?(Of=t.screenX-Sl.screenX,Ff=t.screenY-Sl.screenY):Ff=Of=0,Sl=t),Of)},movementY:function(t){return"movementY"in t?t.movementY:Ff}}),Hg=jn(Jd),L2=lt({},Jd,{dataTransfer:0}),O2=jn(L2),F2=lt({},Wc,{relatedTarget:0}),Mf=jn(F2),M2=lt({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=jn(M2),D2=lt({},gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_2=jn(D2),z2=lt({},gl,{data:0}),Wg=jn(z2),H2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G2[t])?!!e[t]:!1}function Am(){return V2}var Q2=lt({},Wc,{key:function(t){if(t.key){var e=H2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Am,charCode:function(t){return t.type==="keypress"?Bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$2=jn(Q2),K2=lt({},Jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=jn(K2),J2=lt({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Am}),Y2=jn(J2),Z2=lt({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),X2=jn(Z2),q2=lt({},Jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eA=jn(q2),tA=[9,13,27,32],Em=ui&&"CompositionEvent"in window,Gl=null;ui&&"documentMode"in document&&(Gl=document.documentMode);var nA=ui&&"TextEvent"in window&&!Gl,Yw=ui&&(!Em||Gl&&8<Gl&&11>=Gl),Vg=" ",Qg=!1;function Zw(t,e){switch(t){case"keyup":return tA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function rA(t,e){switch(t){case"compositionend":return Xw(e);case"keypress":return e.which!==32?null:(Qg=!0,Vg);case"textInput":return t=e.data,t===Vg&&Qg?null:t;default:return null}}function iA(t,e){if(_a)return t==="compositionend"||!Em&&Zw(t,e)?(t=Jw(),ju=xm=Ji=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yw&&e.locale!=="ko"?null:e.data;default:return null}}var sA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sA[t.type]:e==="textarea"}function qw(t,e,n,r){Pw(r),e=ad(e,"onChange"),0<e.length&&(n=new bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vl=null,sc=null;function aA(t){uv(t,0)}function Yd(t){var e=Wa(t);if(Ew(e))return t}function oA(t,e){if(t==="change")return e}var ev=!1;if(ui){var Uf;if(ui){var Df="oninput"in document;if(!Df){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Df=typeof Kg.oninput=="function"}Uf=Df}else Uf=!1;ev=Uf&&(!document.documentMode||9<document.documentMode)}function Jg(){Vl&&(Vl.detachEvent("onpropertychange",tv),sc=Vl=null)}function tv(t){if(t.propertyName==="value"&&Yd(sc)){var e=[];qw(e,sc,t,mm(t)),Lw(aA,e)}}function lA(t,e,n){t==="focusin"?(Jg(),Vl=e,sc=n,Vl.attachEvent("onpropertychange",tv)):t==="focusout"&&Jg()}function cA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yd(sc)}function uA(t,e){if(t==="click")return Yd(e)}function dA(t,e){if(t==="input"||t==="change")return Yd(e)}function fA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:fA;function ac(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ep.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,e){var n=Yg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yg(n)}}function nv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rv(){for(var t=window,e=qu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qu(t.document)}return e}function Cm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pA(t){var e=rv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nv(n.ownerDocument.documentElement,n)){if(r!==null&&Cm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Zg(n,s);var a=Zg(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hA=ui&&"documentMode"in document&&11>=document.documentMode,za=null,Hp=null,Ql=null,Wp=!1;function Xg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wp||za==null||za!==qu(r)||(r=za,"selectionStart"in r&&Cm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ql&&ac(Ql,r)||(Ql=r,r=ad(Hp,"onSelect"),0<r.length&&(e=new bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=za)))}function uu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ha={animationend:uu("Animation","AnimationEnd"),animationiteration:uu("Animation","AnimationIteration"),animationstart:uu("Animation","AnimationStart"),transitionend:uu("Transition","TransitionEnd")},_f={},iv={};ui&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Zd(t){if(_f[t])return _f[t];if(!Ha[t])return t;var e=Ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iv)return _f[t]=e[n];return t}var sv=Zd("animationend"),av=Zd("animationiteration"),ov=Zd("animationstart"),lv=Zd("transitionend"),cv=new Map,qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(t,e){cv.set(t,e),wa(e,[t])}for(var zf=0;zf<qg.length;zf++){var Hf=qg[zf],mA=Hf.toLowerCase(),gA=Hf[0].toUpperCase()+Hf.slice(1);ps(mA,"on"+gA)}ps(sv,"onAnimationEnd");ps(av,"onAnimationIteration");ps(ov,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(lv,"onTransitionEnd");el("onMouseEnter",["mouseout","mouseover"]);el("onMouseLeave",["mouseout","mouseover"]);el("onPointerEnter",["pointerout","pointerover"]);el("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function ey(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,m2(r,e,void 0,t),t.currentTarget=null}function uv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;ey(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;ey(i,o,u),s=l}}}if(td)throw t=Up,td=!1,Up=null,t}function Xe(t,e){var n=e[Kp];n===void 0&&(n=e[Kp]=new Set);var r=t+"__bubble";n.has(r)||(dv(e,t,2,!1),n.add(r))}function Wf(t,e,n){var r=0;e&&(r|=4),dv(n,t,r,e)}var du="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[du]){t[du]=!0,ww.forEach(function(n){n!=="selectionchange"&&(yA.has(n)||Wf(n,!1,t),Wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[du]||(e[du]=!0,Wf("selectionchange",!1,e))}}function dv(t,e,n,r){switch(Kw(e)){case 1:var i=R2;break;case 4:i=j2;break;default:i=vm}n=i.bind(null,e,n,t),i=void 0,!Mp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=js(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}Lw(function(){var u=s,d=mm(n),f=[];e:{var h=cv.get(t);if(h!==void 0){var w=bm,b=t;switch(t){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":w=$2;break;case"focusin":b="focus",w=Mf;break;case"focusout":b="blur",w=Mf;break;case"beforeblur":case"afterblur":w=Mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=O2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Y2;break;case sv:case av:case ov:w=U2;break;case lv:w=X2;break;case"scroll":w=B2;break;case"wheel":w=eA;break;case"copy":case"cut":case"paste":w=_2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Gg}var v=(e&4)!==0,A=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,y;g!==null;){y=g;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,m!==null&&(k=tc(g,m),k!=null&&v.push(lc(g,k,y)))),A)break;g=g.return}0<v.length&&(h=new w(h,b,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",h&&n!==Op&&(b=n.relatedTarget||n.fromElement)&&(js(b)||b[di]))break e;if((w||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,w?(b=n.relatedTarget||n.toElement,w=u,b=b?js(b):null,b!==null&&(A=va(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(w=null,b=u),w!==b)){if(v=Hg,k="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Gg,k="onPointerLeave",m="onPointerEnter",g="pointer"),A=w==null?h:Wa(w),y=b==null?h:Wa(b),h=new v(k,g+"leave",w,n,d),h.target=A,h.relatedTarget=y,k=null,js(d)===u&&(v=new v(m,g+"enter",b,n,d),v.target=y,v.relatedTarget=A,k=v),A=k,w&&b)t:{for(v=w,m=b,g=0,y=v;y;y=Ta(y))g++;for(y=0,k=m;k;k=Ta(k))y++;for(;0<g-y;)v=Ta(v),g--;for(;0<y-g;)m=Ta(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=Ta(v),m=Ta(m)}v=null}else v=null;w!==null&&ty(f,h,w,v,!1),b!==null&&A!==null&&ty(f,A,b,v,!0)}}e:{if(h=u?Wa(u):window,w=h.nodeName&&h.nodeName.toLowerCase(),w==="select"||w==="input"&&h.type==="file")var j=oA;else if($g(h))if(ev)j=dA;else{j=cA;var O=lA}else(w=h.nodeName)&&w.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=uA);if(j&&(j=j(t,u))){qw(f,j,n,d);break e}O&&O(t,h,u),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Pp(h,"number",h.value)}switch(O=u?Wa(u):window,t){case"focusin":($g(O)||O.contentEditable==="true")&&(za=O,Hp=u,Ql=null);break;case"focusout":Ql=Hp=za=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,Xg(f,n,d);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":Xg(f,n,d)}var B;if(Em)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _a?Zw(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Yw&&n.locale!=="ko"&&(_a||E!=="onCompositionStart"?E==="onCompositionEnd"&&_a&&(B=Jw()):(Ji=d,xm="value"in Ji?Ji.value:Ji.textContent,_a=!0)),O=ad(u,E),0<O.length&&(E=new Wg(E,t,null,n,d),f.push({event:E,listeners:O}),B?E.data=B:(B=Xw(n),B!==null&&(E.data=B)))),(B=nA?rA(t,n):iA(t,n))&&(u=ad(u,"onBeforeInput"),0<u.length&&(d=new Wg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=B))}uv(f,e)})}function lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ad(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=tc(t,n),s!=null&&r.unshift(lc(t,s,i)),s=tc(t,e),s!=null&&r.push(lc(t,s,i))),t=t.return}return r}function Ta(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ty(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=tc(n,s),l!=null&&a.unshift(lc(n,l,o))):i||(l=tc(n,s),l!=null&&a.push(lc(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var wA=/\r\n?/g,vA=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace(wA,`
`).replace(vA,"")}function fu(t,e,n){if(e=ny(e),ny(t)!==e&&n)throw Error(Q(425))}function od(){}var Gp=null,Vp=null;function Qp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(AA)}:$p;function AA(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ic(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ic(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yl=Math.random().toString(36).slice(2),Ir="__reactFiber$"+yl,cc="__reactProps$"+yl,di="__reactContainer$"+yl,Kp="__reactEvents$"+yl,EA="__reactListeners$"+yl,CA="__reactHandles$"+yl;function js(t){var e=t[Ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[Ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iy(t);t!==null;){if(n=t[Ir])return n;t=iy(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[Ir]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function Xd(t){return t[cc]||null}var Jp=[],Ga=-1;function hs(t){return{current:t}}function qe(t){0>Ga||(t.current=Jp[Ga],Jp[Ga]=null,Ga--)}function Ye(t,e){Ga++,Jp[Ga]=t.current,t.current=e}var cs={},Kt=hs(cs),mn=hs(!1),la=cs;function tl(t,e){var n=t.type.contextTypes;if(!n)return cs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function ld(){qe(mn),qe(Kt)}function sy(t,e,n){if(Kt.current!==cs)throw Error(Q(168));Ye(Kt,e),Ye(mn,n)}function fv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,l2(t)||"Unknown",i));return lt({},n,r)}function cd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||cs,la=Kt.current,Ye(Kt,t),Ye(mn,mn.current),!0}function ay(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=fv(t,e,la),r.__reactInternalMemoizedMergedChildContext=t,qe(mn),qe(Kt),Ye(Kt,t)):qe(mn),Ye(mn,n)}var Hr=null,qd=!1,Qf=!1;function pv(t){Hr===null?Hr=[t]:Hr.push(t)}function kA(t){qd=!0,pv(t)}function ms(){if(!Qf&&Hr!==null){Qf=!0;var t=0,e=Qe;try{var n=Hr;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,qd=!1}catch(i){throw Hr!==null&&(Hr=Hr.slice(t+1)),Uw(gm,ms),i}finally{Qe=e,Qf=!1}}return null}var Va=[],Qa=0,ud=null,dd=0,Hn=[],Wn=0,ca=null,ri=1,ii="";function Es(t,e){Va[Qa++]=dd,Va[Qa++]=ud,ud=t,dd=e}function hv(t,e,n){Hn[Wn++]=ri,Hn[Wn++]=ii,Hn[Wn++]=ca,ca=t;var r=ri;t=ii;var i=32-cr(r)-1;r&=~(1<<i),n+=1;var s=32-cr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ri=1<<32-cr(e)+i|n<<i|r,ii=s+t}else ri=1<<s|n<<i|r,ii=t}function km(t){t.return!==null&&(Es(t,1),hv(t,1,0))}function Sm(t){for(;t===ud;)ud=Va[--Qa],Va[Qa]=null,dd=Va[--Qa],Va[Qa]=null;for(;t===ca;)ca=Hn[--Wn],Hn[Wn]=null,ii=Hn[--Wn],Hn[Wn]=null,ri=Hn[--Wn],Hn[Wn]=null}var In=null,Nn=null,nt=!1,ar=null;function mv(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Nn=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ca!==null?{id:ri,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Nn=null,!0):!1;default:return!1}}function Yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zp(t){if(nt){var e=Nn;if(e){var n=e;if(!oy(t,e)){if(Yp(t))throw Error(Q(418));e=ts(n.nextSibling);var r=In;e&&oy(t,e)?mv(r,n):(t.flags=t.flags&-4097|2,nt=!1,In=t)}}else{if(Yp(t))throw Error(Q(418));t.flags=t.flags&-4097|2,nt=!1,In=t}}}function ly(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function pu(t){if(t!==In)return!1;if(!nt)return ly(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qp(t.type,t.memoizedProps)),e&&(e=Nn)){if(Yp(t))throw gv(),Error(Q(418));for(;e;)mv(t,e),e=ts(e.nextSibling)}if(ly(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=In?ts(t.stateNode.nextSibling):null;return!0}function gv(){for(var t=Nn;t;)t=ts(t.nextSibling)}function nl(){Nn=In=null,nt=!1}function Tm(t){ar===null?ar=[t]:ar.push(t)}var SA=yi.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cy(t){var e=t._init;return e(t._payload)}function yv(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=ss(m,g),m.index=0,m.sibling=null,m}function s(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,g,y,k){return g===null||g.tag!==6?(g=qf(y,m.mode,k),g.return=m,g):(g=i(g,y),g.return=m,g)}function l(m,g,y,k){var j=y.type;return j===Da?d(m,g,y.props.children,k,y.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ki&&cy(j)===g.type)?(k=i(g,y.props),k.ref=Tl(m,g,y),k.return=m,k):(k=_u(y.type,y.key,y.props,null,m.mode,k),k.ref=Tl(m,g,y),k.return=m,k)}function u(m,g,y,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=ep(y,m.mode,k),g.return=m,g):(g=i(g,y.children||[]),g.return=m,g)}function d(m,g,y,k,j){return g===null||g.tag!==7?(g=sa(y,m.mode,k,j),g.return=m,g):(g=i(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=qf(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ru:return y=_u(g.type,g.key,g.props,null,m.mode,y),y.ref=Tl(m,null,g),y.return=m,y;case Ua:return g=ep(g,m.mode,y),g.return=m,g;case ki:var k=g._init;return f(m,k(g._payload),y)}if(Ll(g)||Al(g))return g=sa(g,m.mode,y,null),g.return=m,g;hu(m,g)}return null}function h(m,g,y,k){var j=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:o(m,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ru:return y.key===j?l(m,g,y,k):null;case Ua:return y.key===j?u(m,g,y,k):null;case ki:return j=y._init,h(m,g,j(y._payload),k)}if(Ll(y)||Al(y))return j!==null?null:d(m,g,y,k,null);hu(m,y)}return null}function w(m,g,y,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(y)||null,o(g,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ru:return m=m.get(k.key===null?y:k.key)||null,l(g,m,k,j);case Ua:return m=m.get(k.key===null?y:k.key)||null,u(g,m,k,j);case ki:var O=k._init;return w(m,g,y,O(k._payload),j)}if(Ll(k)||Al(k))return m=m.get(y)||null,d(g,m,k,j,null);hu(g,k)}return null}function b(m,g,y,k){for(var j=null,O=null,B=g,E=g=0,K=null;B!==null&&E<y.length;E++){B.index>E?(K=B,B=null):K=B.sibling;var _=h(m,B,y[E],k);if(_===null){B===null&&(B=K);break}t&&B&&_.alternate===null&&e(m,B),g=s(_,g,E),O===null?j=_:O.sibling=_,O=_,B=K}if(E===y.length)return n(m,B),nt&&Es(m,E),j;if(B===null){for(;E<y.length;E++)B=f(m,y[E],k),B!==null&&(g=s(B,g,E),O===null?j=B:O.sibling=B,O=B);return nt&&Es(m,E),j}for(B=r(m,B);E<y.length;E++)K=w(B,m,E,y[E],k),K!==null&&(t&&K.alternate!==null&&B.delete(K.key===null?E:K.key),g=s(K,g,E),O===null?j=K:O.sibling=K,O=K);return t&&B.forEach(function(ee){return e(m,ee)}),nt&&Es(m,E),j}function v(m,g,y,k){var j=Al(y);if(typeof j!="function")throw Error(Q(150));if(y=j.call(y),y==null)throw Error(Q(151));for(var O=j=null,B=g,E=g=0,K=null,_=y.next();B!==null&&!_.done;E++,_=y.next()){B.index>E?(K=B,B=null):K=B.sibling;var ee=h(m,B,_.value,k);if(ee===null){B===null&&(B=K);break}t&&B&&ee.alternate===null&&e(m,B),g=s(ee,g,E),O===null?j=ee:O.sibling=ee,O=ee,B=K}if(_.done)return n(m,B),nt&&Es(m,E),j;if(B===null){for(;!_.done;E++,_=y.next())_=f(m,_.value,k),_!==null&&(g=s(_,g,E),O===null?j=_:O.sibling=_,O=_);return nt&&Es(m,E),j}for(B=r(m,B);!_.done;E++,_=y.next())_=w(B,m,E,_.value,k),_!==null&&(t&&_.alternate!==null&&B.delete(_.key===null?E:_.key),g=s(_,g,E),O===null?j=_:O.sibling=_,O=_);return t&&B.forEach(function(ye){return e(m,ye)}),nt&&Es(m,E),j}function A(m,g,y,k){if(typeof y=="object"&&y!==null&&y.type===Da&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ru:e:{for(var j=y.key,O=g;O!==null;){if(O.key===j){if(j=y.type,j===Da){if(O.tag===7){n(m,O.sibling),g=i(O,y.props.children),g.return=m,m=g;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ki&&cy(j)===O.type){n(m,O.sibling),g=i(O,y.props),g.ref=Tl(m,O,y),g.return=m,m=g;break e}n(m,O);break}else e(m,O);O=O.sibling}y.type===Da?(g=sa(y.props.children,m.mode,k,y.key),g.return=m,m=g):(k=_u(y.type,y.key,y.props,null,m.mode,k),k.ref=Tl(m,g,y),k.return=m,m=k)}return a(m);case Ua:e:{for(O=y.key;g!==null;){if(g.key===O)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=i(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=ep(y,m.mode,k),g.return=m,m=g}return a(m);case ki:return O=y._init,A(m,g,O(y._payload),k)}if(Ll(y))return b(m,g,y,k);if(Al(y))return v(m,g,y,k);hu(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,y),g.return=m,m=g):(n(m,g),g=qf(y,m.mode,k),g.return=m,m=g),a(m)):n(m,g)}return A}var rl=yv(!0),wv=yv(!1),fd=hs(null),pd=null,$a=null,Nm=null;function Im(){Nm=$a=pd=null}function Pm(t){var e=fd.current;qe(fd),t._currentValue=e}function Xp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){pd=t,Nm=$a=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(Nm!==t)if(t={context:t,memoizedValue:e,next:null},$a===null){if(pd===null)throw Error(Q(308));$a=t,pd.dependencies={lanes:0,firstContext:t}}else $a=$a.next=t;return e}var Bs=null;function Rm(t){Bs===null?Bs=[t]:Bs.push(t)}function vv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rm(e)):(n.next=i.next,i.next=n),e.interleaved=n,fi(t,r)}function fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Si=!1;function jm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fi(t,n)}return i=r.interleaved,i===null?(e.next=e,Rm(r)):(e.next=i.next,i.next=e),r.interleaved=e,fi(t,n)}function Lu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ym(t,n)}}function uy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hd(t,e,n,r){var i=t.updateQueue;Si=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var h=o.lane,w=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,v=o;switch(h=e,w=n,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(w,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(w,f,h):b,h==null)break e;f=lt({},f,h);break e;case 2:Si=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else w={eventTime:w,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=w,l=f):d=d.next=w,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);da|=a,t.lanes=a,t.memoizedState=f}}function dy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var Vc={},Or=hs(Vc),uc=hs(Vc),dc=hs(Vc);function Ls(t){if(t===Vc)throw Error(Q(174));return t}function Bm(t,e){switch(Ye(dc,e),Ye(uc,t),Ye(Or,Vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jp(e,t)}qe(Or),Ye(Or,e)}function il(){qe(Or),qe(uc),qe(dc)}function bv(t){Ls(dc.current);var e=Ls(Or.current),n=jp(e,t.type);e!==n&&(Ye(uc,t),Ye(Or,n))}function Lm(t){uc.current===t&&(qe(Or),qe(uc))}var st=hs(0);function md(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function Om(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var Ou=yi.ReactCurrentDispatcher,Kf=yi.ReactCurrentBatchConfig,ua=0,ot=null,xt=null,Tt=null,gd=!1,$l=!1,fc=0,TA=0;function _t(){throw Error(Q(321))}function Fm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function Mm(t,e,n,r,i,s){if(ua=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ou.current=t===null||t.memoizedState===null?RA:jA,t=n(r,i),$l){s=0;do{if($l=!1,fc=0,25<=s)throw Error(Q(301));s+=1,Tt=xt=null,e.updateQueue=null,Ou.current=BA,t=n(r,i)}while($l)}if(Ou.current=yd,e=xt!==null&&xt.next!==null,ua=0,Tt=xt=ot=null,gd=!1,e)throw Error(Q(300));return t}function Um(){var t=fc!==0;return fc=0,t}function wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ot.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Kn(){if(xt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Tt===null?ot.memoizedState:Tt.next;if(e!==null)Tt=e,xt=t;else{if(t===null)throw Error(Q(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Tt===null?ot.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function pc(t,e){return typeof e=="function"?e(t):e}function Jf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((ua&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,ot.lanes|=d,da|=d}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,fr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ot.lanes|=s,da|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yf(t){var e=Kn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);fr(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Av(){}function Ev(t,e){var n=ot,r=Kn(),i=e(),s=!fr(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,Dm(Sv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,hc(9,kv.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(Q(349));ua&30||Cv(n,e,i)}return i}function Cv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kv(t,e,n,r){e.value=n,e.getSnapshot=r,Tv(e)&&Nv(t)}function Sv(t,e,n){return n(function(){Tv(e)&&Nv(t)})}function Tv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function Nv(t){var e=fi(t,1);e!==null&&ur(e,t,1,-1)}function fy(t){var e=wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:t},e.queue=t,t=t.dispatch=PA.bind(null,ot,t),[e.memoizedState,t]}function hc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Iv(){return Kn().memoizedState}function Fu(t,e,n,r){var i=wr();ot.flags|=t,i.memoizedState=hc(1|e,n,void 0,r===void 0?null:r)}function ef(t,e,n,r){var i=Kn();r=r===void 0?null:r;var s=void 0;if(xt!==null){var a=xt.memoizedState;if(s=a.destroy,r!==null&&Fm(r,a.deps)){i.memoizedState=hc(e,n,s,r);return}}ot.flags|=t,i.memoizedState=hc(1|e,n,s,r)}function py(t,e){return Fu(8390656,8,t,e)}function Dm(t,e){return ef(2048,8,t,e)}function Pv(t,e){return ef(4,2,t,e)}function Rv(t,e){return ef(4,4,t,e)}function jv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bv(t,e,n){return n=n!=null?n.concat([t]):null,ef(4,4,jv.bind(null,e,t),n)}function _m(){}function Lv(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ov(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fv(t,e,n){return ua&21?(fr(n,e)||(n=zw(),ot.lanes|=n,da|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function NA(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Kf.transition;Kf.transition={};try{t(!1),e()}finally{Qe=n,Kf.transition=r}}function Mv(){return Kn().memoizedState}function IA(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Uv(t))Dv(e,n);else if(n=vv(t,e,n,r),n!==null){var i=rn();ur(n,t,r,i),_v(n,e,r)}}function PA(t,e,n){var r=is(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uv(t))Dv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,fr(o,a)){var l=e.interleaved;l===null?(i.next=i,Rm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vv(t,e,i,r),n!==null&&(i=rn(),ur(n,t,r,i),_v(n,e,r))}}function Uv(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function Dv(t,e){$l=gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _v(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ym(t,n)}}var yd={readContext:$n,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},RA={readContext:$n,useCallback:function(t,e){return wr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:py,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fu(4194308,4,jv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fu(4,2,t,e)},useMemo:function(t,e){var n=wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IA.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=wr();return t={current:t},e.memoizedState=t},useState:fy,useDebugValue:_m,useDeferredValue:function(t){return wr().memoizedState=t},useTransition:function(){var t=fy(!1),e=t[0];return t=NA.bind(null,t[1]),wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,i=wr();if(nt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Pt===null)throw Error(Q(349));ua&30||Cv(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,py(Sv.bind(null,r,s,t),[t]),r.flags|=2048,hc(9,kv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=wr(),e=Pt.identifierPrefix;if(nt){var n=ii,r=ri;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jA={readContext:$n,useCallback:Lv,useContext:$n,useEffect:Dm,useImperativeHandle:Bv,useInsertionEffect:Pv,useLayoutEffect:Rv,useMemo:Ov,useReducer:Jf,useRef:Iv,useState:function(){return Jf(pc)},useDebugValue:_m,useDeferredValue:function(t){var e=Kn();return Fv(e,xt.memoizedState,t)},useTransition:function(){var t=Jf(pc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:Av,useSyncExternalStore:Ev,useId:Mv,unstable_isNewReconciler:!1},BA={readContext:$n,useCallback:Lv,useContext:$n,useEffect:Dm,useImperativeHandle:Bv,useInsertionEffect:Pv,useLayoutEffect:Rv,useMemo:Ov,useReducer:Yf,useRef:Iv,useState:function(){return Yf(pc)},useDebugValue:_m,useDeferredValue:function(t){var e=Kn();return xt===null?e.memoizedState=t:Fv(e,xt.memoizedState,t)},useTransition:function(){var t=Yf(pc)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:Av,useSyncExternalStore:Ev,useId:Mv,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tf={isMounted:function(t){return(t=t._reactInternals)?va(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),i=is(t),s=ai(r,i);s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(ur(e,t,i,r),Lu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),i=is(t),s=ai(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(ur(e,t,i,r),Lu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=is(t),i=ai(n,r);i.tag=2,e!=null&&(i.callback=e),e=ns(t,i,r),e!==null&&(ur(e,t,r,n),Lu(e,t,r))}};function hy(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!ac(n,r)||!ac(i,s):!0}function zv(t,e,n){var r=!1,i=cs,s=e.contextType;return typeof s=="object"&&s!==null?s=$n(s):(i=gn(e)?la:Kt.current,r=e.contextTypes,s=(r=r!=null)?tl(t,i):cs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function my(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tf.enqueueReplaceState(e,e.state,null)}function eh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},jm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$n(s):(s=gn(e)?la:Kt.current,i.context=tl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&tf.enqueueReplaceState(i,i.state,null),hd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sl(t,e){try{var n="",r=e;do n+=o2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function th(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LA=typeof WeakMap=="function"?WeakMap:Map;function Hv(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vd||(vd=!0,dh=r),th(t,e)},n}function Wv(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){th(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){th(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function gy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=KA.bind(null,t,e,n),e.then(t,t))}function yy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var OA=yi.ReactCurrentOwner,hn=!1;function Zt(t,e,n,r){e.child=t===null?wv(e,null,n,r):rl(e,t.child,n,r)}function vy(t,e,n,r,i){n=n.render;var s=e.ref;return ao(e,i),r=Mm(t,e,n,r,s,i),n=Um(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(nt&&n&&km(e),e.flags|=1,Zt(t,e,r,i),e.child)}function xy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Km(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Gv(t,e,s,r,i)):(t=_u(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ac,n(a,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=ss(s,r),t.ref=e.ref,t.return=e,e.child=t}function Gv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ac(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,pi(t,e,i)}return nh(t,e,n,r,i)}function Vv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ja,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(Ja,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(Ja,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ye(Ja,Tn),Tn|=r;return Zt(t,e,i,n),e.child}function Qv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nh(t,e,n,r,i){var s=gn(n)?la:Kt.current;return s=tl(e,s),ao(e,i),n=Mm(t,e,n,r,s,i),r=Um(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(nt&&r&&km(e),e.flags|=1,Zt(t,e,n,i),e.child)}function by(t,e,n,r,i){if(gn(n)){var s=!0;cd(e)}else s=!1;if(ao(e,i),e.stateNode===null)Mu(t,e),zv(e,n,r),eh(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=$n(u):(u=gn(n)?la:Kt.current,u=tl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&my(e,a,r,u),Si=!1;var h=e.memoizedState;a.state=h,hd(e,r,a,i),l=e.memoizedState,o!==r||h!==l||mn.current||Si?(typeof d=="function"&&(qp(e,n,d,r),l=e.memoizedState),(o=Si||hy(e,n,o,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,xv(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Zn(e.type,o),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=gn(n)?la:Kt.current,l=tl(e,l));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&my(e,a,r,l),Si=!1,h=e.memoizedState,a.state=h,hd(e,r,a,i);var b=e.memoizedState;o!==f||h!==b||mn.current||Si?(typeof w=="function"&&(qp(e,n,w,r),b=e.memoizedState),(u=Si||hy(e,n,u,r,h,b,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return rh(t,e,n,r,s,i)}function rh(t,e,n,r,i,s){Qv(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&ay(e,n,!1),pi(t,e,s);r=e.stateNode,OA.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=rl(e,t.child,null,s),e.child=rl(e,null,o,s)):Zt(t,e,o,s),e.memoizedState=r.state,i&&ay(e,n,!0),e.child}function $v(t){var e=t.stateNode;e.pendingContext?sy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sy(t,e.context,!1),Bm(t,e.containerInfo)}function Ay(t,e,n,r,i){return nl(),Tm(i),e.flags|=256,Zt(t,e,n,r),e.child}var ih={dehydrated:null,treeContext:null,retryLane:0};function sh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kv(t,e,n){var r=e.pendingProps,i=st.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ye(st,i&1),t===null)return Zp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=sf(a,r,0,null),t=sa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sh(n),e.memoizedState=ih,t):zm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return FA(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ss(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ss(o,s):(s=sa(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?sh(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=ih,r}return s=t.child,t=s.sibling,r=ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function zm(t,e){return e=sf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mu(t,e,n,r){return r!==null&&Tm(r),rl(e,t.child,null,n),t=zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FA(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Zf(Error(Q(422))),mu(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sf({mode:"visible",children:r.children},i,0,null),s=sa(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&rl(e,t.child,null,a),e.child.memoizedState=sh(a),e.memoizedState=ih,s);if(!(e.mode&1))return mu(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Q(419)),r=Zf(s,r,void 0),mu(t,e,a,r)}if(o=(a&t.childLanes)!==0,hn||o){if(r=Pt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fi(t,i),ur(r,t,i,-1))}return $m(),r=Zf(Error(Q(421))),mu(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nn=ts(i.nextSibling),In=e,nt=!0,ar=null,t!==null&&(Hn[Wn++]=ri,Hn[Wn++]=ii,Hn[Wn++]=ca,ri=t.id,ii=t.overflow,ca=e),e=zm(e,r.children),e.flags|=4096,e)}function Ey(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xp(t.return,e,n)}function Xf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Jv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ey(t,n,e);else if(t.tag===19)Ey(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(st,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&md(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&md(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xf(e,!0,n,null,s);break;case"together":Xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),da|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MA(t,e,n){switch(e.tag){case 3:$v(e),nl();break;case 5:bv(e);break;case 1:gn(e.type)&&cd(e);break;case 4:Bm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ye(fd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?Kv(t,e,n):(Ye(st,st.current&1),t=pi(t,e,n),t!==null?t.sibling:null);Ye(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,Vv(t,e,n)}return pi(t,e,n)}var Yv,ah,Zv,Xv;Yv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ah=function(){};Zv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ls(Or.current);var s=null;switch(n){case"input":i=Np(t,i),r=Np(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=Rp(t,i),r=Rp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=od)}Bp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xe("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Xv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nl(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UA(t,e,n){var r=e.pendingProps;switch(Sm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return gn(e.type)&&ld(),zt(e),null;case 3:return r=e.stateNode,il(),qe(mn),qe(Kt),Om(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(hh(ar),ar=null))),ah(t,e),zt(e),null;case 5:Lm(e);var i=Ls(dc.current);if(n=e.type,t!==null&&e.stateNode!=null)Zv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return zt(e),null}if(t=Ls(Or.current),pu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ir]=e,r[cc]=s,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Fl.length;i++)Xe(Fl[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":jg(r,s),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",r);break;case"textarea":Lg(r,s),Xe("invalid",r)}Bp(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&fu(r.textContent,o,t),i=["children",""+o]):ql.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Xe("scroll",r)}switch(n){case"input":iu(r),Bg(r,s,!0);break;case"textarea":iu(r),Og(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=od)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ir]=e,t[cc]=r,Yv(t,e,!1,!1),e.stateNode=t;e:{switch(a=Lp(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fl.length;i++)Xe(Fl[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":jg(t,r),i=Np(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":Lg(t,r),i=Rp(t,r),Xe("invalid",t);break;default:i=r}Bp(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Iw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ec(t,l):typeof l=="number"&&ec(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xe("scroll",t):l!=null&&dm(t,s,l,a))}switch(n){case"input":iu(t),Bg(t,r,!1);break;case"textarea":iu(t),Og(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ls(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?no(t,!!r.multiple,s,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)Xv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Ls(dc.current),Ls(Or.current),pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ir]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=e,e.stateNode=r}return zt(e),null;case 13:if(qe(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Nn!==null&&e.mode&1&&!(e.flags&128))gv(),nl(),e.flags|=98560,s=!1;else if(s=pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[Ir]=e}else nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else ar!==null&&(hh(ar),ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?Et===0&&(Et=3):$m())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return il(),ah(t,e),t===null&&oc(e.stateNode.containerInfo),zt(e),null;case 10:return Pm(e.type._context),zt(e),null;case 17:return gn(e.type)&&ld(),zt(e),null;case 19:if(qe(st),s=e.memoizedState,s===null)return zt(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Nl(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=md(t),a!==null){for(e.flags|=128,Nl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>al&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304)}else{if(!r)if(t=md(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!nt)return zt(e),null}else 2*ht()-s.renderingStartTime>al&&n!==1073741824&&(e.flags|=128,r=!0,Nl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,n=st.current,Ye(st,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return Qm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function DA(t,e){switch(Sm(e),e.tag){case 1:return gn(e.type)&&ld(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return il(),qe(mn),qe(Kt),Om(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lm(e),null;case 13:if(qe(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qe(st),null;case 4:return il(),null;case 10:return Pm(e.type._context),null;case 22:case 23:return Qm(),null;case 24:return null;default:return null}}var gu=!1,Qt=!1,_A=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ka(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ft(t,e,r)}else n.current=null}function oh(t,e,n){try{n()}catch(r){ft(t,e,r)}}var Cy=!1;function zA(t,e){if(Gp=id,t=rv(),Cm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(w=f.firstChild)!==null;)h=f,f=w;for(;;){if(f===t)break t;if(h===n&&++u===i&&(o=a),h===s&&++d===r&&(l=a),(w=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=w}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vp={focusedElem:t,selectionRange:n},id=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,A=b.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Zn(e.type,v),A);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(k){ft(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return b=Cy,Cy=!1,b}function Kl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&oh(e,n,s)}i=i.next}while(i!==r)}}function nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qv(t){var e=t.alternate;e!==null&&(t.alternate=null,qv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ir],delete e[cc],delete e[Kp],delete e[EA],delete e[CA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ex(t){return t.tag===5||t.tag===3||t.tag===4}function ky(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ex(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ch(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=od));else if(r!==4&&(t=t.child,t!==null))for(ch(t,e,n),t=t.sibling;t!==null;)ch(t,e,n),t=t.sibling}function uh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uh(t,e,n),t=t.sibling;t!==null;)uh(t,e,n),t=t.sibling}var Bt=null,sr=!1;function vi(t,e,n){for(n=n.child;n!==null;)tx(t,e,n),n=n.sibling}function tx(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(Kd,n)}catch{}switch(n.tag){case 5:Qt||Ka(n,e);case 6:var r=Bt,i=sr;Bt=null,vi(t,e,n),Bt=r,sr=i,Bt!==null&&(sr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(sr?(t=Bt,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),ic(t)):Vf(Bt,n.stateNode));break;case 4:r=Bt,i=sr,Bt=n.stateNode.containerInfo,sr=!0,vi(t,e,n),Bt=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&oh(n,e,a),i=i.next}while(i!==r)}vi(t,e,n);break;case 1:if(!Qt&&(Ka(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ft(n,e,o)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,vi(t,e,n),Qt=r):vi(t,e,n);break;default:vi(t,e,n)}}function Sy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _A),e.forEach(function(r){var i=YA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Bt=o.stateNode,sr=!1;break e;case 3:Bt=o.stateNode.containerInfo,sr=!0;break e;case 4:Bt=o.stateNode.containerInfo,sr=!0;break e}o=o.return}if(Bt===null)throw Error(Q(160));tx(s,a,i),Bt=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ft(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nx(e,t),e=e.sibling}function nx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),mr(t),r&4){try{Kl(3,t,t.return),nf(3,t)}catch(v){ft(t,t.return,v)}try{Kl(5,t,t.return)}catch(v){ft(t,t.return,v)}}break;case 1:Jn(e,t),mr(t),r&512&&n!==null&&Ka(n,n.return);break;case 5:if(Jn(e,t),mr(t),r&512&&n!==null&&Ka(n,n.return),t.flags&32){var i=t.stateNode;try{ec(i,"")}catch(v){ft(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Cw(i,s),Lp(o,a);var u=Lp(o,s);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Iw(i,f):d==="dangerouslySetInnerHTML"?Tw(i,f):d==="children"?ec(i,f):dm(i,d,f,u)}switch(o){case"input":Ip(i,s);break;case"textarea":kw(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?no(i,!!s.multiple,w,!1):h!==!!s.multiple&&(s.defaultValue!=null?no(i,!!s.multiple,s.defaultValue,!0):no(i,!!s.multiple,s.multiple?[]:"",!1))}i[cc]=s}catch(v){ft(t,t.return,v)}}break;case 6:if(Jn(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ft(t,t.return,v)}}break;case 3:if(Jn(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ic(e.containerInfo)}catch(v){ft(t,t.return,v)}break;case 4:Jn(e,t),mr(t);break;case 13:Jn(e,t),mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gm=ht())),r&4&&Sy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||d,Jn(e,t),Qt=u):Jn(e,t),mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,w=h.child,h.tag){case 0:case 11:case 14:case 15:Kl(4,h,h.return);break;case 1:Ka(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){ft(r,n,v)}}break;case 5:Ka(h,h.return);break;case 22:if(h.memoizedState!==null){Ny(f);continue}}w!==null?(w.return=h,se=w):Ny(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Nw("display",a))}catch(v){ft(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ft(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jn(e,t),mr(t),r&4&&Sy(t);break;case 21:break;default:Jn(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ex(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ec(i,""),r.flags&=-33);var s=ky(t);uh(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=ky(t);ch(t,o,a);break;default:throw Error(Q(161))}}catch(l){ft(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HA(t,e,n){se=t,rx(t)}function rx(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||gu;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Qt;o=gu;var u=Qt;if(gu=a,(Qt=l)&&!u)for(se=i;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?Iy(i):l!==null?(l.return=a,se=l):Iy(i);for(;s!==null;)se=s,rx(s),s=s.sibling;se=i,gu=o,Qt=u}Ty(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Ty(t)}}function Ty(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||nf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dy(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dy(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ic(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Qt||e.flags&512&&lh(e)}catch(h){ft(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Ny(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Iy(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nf(4,e)}catch(l){ft(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ft(e,i,l)}}var s=e.return;try{lh(e)}catch(l){ft(e,s,l)}break;case 5:var a=e.return;try{lh(e)}catch(l){ft(e,a,l)}}}catch(l){ft(e,e.return,l)}if(e===t){se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,se=o;break}se=e.return}}var WA=Math.ceil,wd=yi.ReactCurrentDispatcher,Hm=yi.ReactCurrentOwner,Qn=yi.ReactCurrentBatchConfig,Be=0,Pt=null,gt=null,Ft=0,Tn=0,Ja=hs(0),Et=0,mc=null,da=0,rf=0,Wm=0,Jl=null,fn=null,Gm=0,al=1/0,Dr=null,vd=!1,dh=null,rs=null,yu=!1,Yi=null,xd=0,Yl=0,fh=null,Uu=-1,Du=0;function rn(){return Be&6?ht():Uu!==-1?Uu:Uu=ht()}function is(t){return t.mode&1?Be&2&&Ft!==0?Ft&-Ft:SA.transition!==null?(Du===0&&(Du=zw()),Du):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Kw(t.type)),t):1}function ur(t,e,n,r){if(50<Yl)throw Yl=0,fh=null,Error(Q(185));Hc(t,n,r),(!(Be&2)||t!==Pt)&&(t===Pt&&(!(Be&2)&&(rf|=n),Et===4&&Ii(t,Ft)),yn(t,r),n===1&&Be===0&&!(e.mode&1)&&(al=ht()+500,qd&&ms()))}function yn(t,e){var n=t.callbackNode;S2(t,e);var r=rd(t,t===Pt?Ft:0);if(r===0)n!==null&&Ug(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ug(n),e===1)t.tag===0?kA(Py.bind(null,t)):pv(Py.bind(null,t)),bA(function(){!(Be&6)&&ms()}),n=null;else{switch(Hw(r)){case 1:n=gm;break;case 4:n=Dw;break;case 16:n=nd;break;case 536870912:n=_w;break;default:n=nd}n=dx(n,ix.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ix(t,e){if(Uu=-1,Du=0,Be&6)throw Error(Q(327));var n=t.callbackNode;if(oo()&&t.callbackNode!==n)return null;var r=rd(t,t===Pt?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bd(t,r);else{e=r;var i=Be;Be|=2;var s=ax();(Pt!==t||Ft!==e)&&(Dr=null,al=ht()+500,ia(t,e));do try{QA();break}catch(o){sx(t,o)}while(!0);Im(),wd.current=s,Be=i,gt!==null?e=0:(Pt=null,Ft=0,e=Et)}if(e!==0){if(e===2&&(i=Dp(t),i!==0&&(r=i,e=ph(t,i))),e===1)throw n=mc,ia(t,0),Ii(t,r),yn(t,ht()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!GA(i)&&(e=bd(t,r),e===2&&(s=Dp(t),s!==0&&(r=s,e=ph(t,s))),e===1))throw n=mc,ia(t,0),Ii(t,r),yn(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:Cs(t,fn,Dr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Gm+500-ht(),10<e)){if(rd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$p(Cs.bind(null,t,fn,Dr),e);break}Cs(t,fn,Dr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-cr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WA(r/1960))-r,10<r){t.timeoutHandle=$p(Cs.bind(null,t,fn,Dr),r);break}Cs(t,fn,Dr);break;case 5:Cs(t,fn,Dr);break;default:throw Error(Q(329))}}}return yn(t,ht()),t.callbackNode===n?ix.bind(null,t):null}function ph(t,e){var n=Jl;return t.current.memoizedState.isDehydrated&&(ia(t,e).flags|=256),t=bd(t,e),t!==2&&(e=fn,fn=n,e!==null&&hh(e)),t}function hh(t){fn===null?fn=t:fn.push.apply(fn,t)}function GA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~Wm,e&=~rf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cr(e),r=1<<n;t[n]=-1,e&=~r}}function Py(t){if(Be&6)throw Error(Q(327));oo();var e=rd(t,0);if(!(e&1))return yn(t,ht()),null;var n=bd(t,e);if(t.tag!==0&&n===2){var r=Dp(t);r!==0&&(e=r,n=ph(t,r))}if(n===1)throw n=mc,ia(t,0),Ii(t,e),yn(t,ht()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t,fn,Dr),yn(t,ht()),null}function Vm(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(al=ht()+500,qd&&ms())}}function fa(t){Yi!==null&&Yi.tag===0&&!(Be&6)&&oo();var e=Be;Be|=1;var n=Qn.transition,r=Qe;try{if(Qn.transition=null,Qe=1,t)return t()}finally{Qe=r,Qn.transition=n,Be=e,!(Be&6)&&ms()}}function Qm(){Tn=Ja.current,qe(Ja)}function ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xA(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(Sm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ld();break;case 3:il(),qe(mn),qe(Kt),Om();break;case 5:Lm(r);break;case 4:il();break;case 13:qe(st);break;case 19:qe(st);break;case 10:Pm(r.type._context);break;case 22:case 23:Qm()}n=n.return}if(Pt=t,gt=t=ss(t.current,null),Ft=Tn=e,Et=0,mc=null,Wm=rf=da=0,fn=Jl=null,Bs!==null){for(e=0;e<Bs.length;e++)if(n=Bs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Bs=null}return t}function sx(t,e){do{var n=gt;try{if(Im(),Ou.current=yd,gd){for(var r=ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gd=!1}if(ua=0,Tt=xt=ot=null,$l=!1,fc=0,Hm.current=null,n===null||n.return===null){Et=1,mc=e,gt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Ft,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=yy(a);if(w!==null){w.flags&=-257,wy(w,a,o,s,e),w.mode&1&&gy(s,u,e),e=w,l=u;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){gy(s,u,e),$m();break e}l=Error(Q(426))}}else if(nt&&o.mode&1){var A=yy(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),wy(A,a,o,s,e),Tm(sl(l,o));break e}}s=l=sl(l,o),Et!==4&&(Et=2),Jl===null?Jl=[s]:Jl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Hv(s,l,e);uy(s,m);break e;case 1:o=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(rs===null||!rs.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=Wv(s,o,e);uy(s,k);break e}}s=s.return}while(s!==null)}lx(n)}catch(j){e=j,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function ax(){var t=wd.current;return wd.current=yd,t===null?yd:t}function $m(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||!(da&268435455)&&!(rf&268435455)||Ii(Pt,Ft)}function bd(t,e){var n=Be;Be|=2;var r=ax();(Pt!==t||Ft!==e)&&(Dr=null,ia(t,e));do try{VA();break}catch(i){sx(t,i)}while(!0);if(Im(),Be=n,wd.current=r,gt!==null)throw Error(Q(261));return Pt=null,Ft=0,Et}function VA(){for(;gt!==null;)ox(gt)}function QA(){for(;gt!==null&&!y2();)ox(gt)}function ox(t){var e=ux(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?lx(t):gt=e,Hm.current=null}function lx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DA(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,gt=null;return}}else if(n=UA(n,e,Tn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);Et===0&&(Et=5)}function Cs(t,e,n){var r=Qe,i=Qn.transition;try{Qn.transition=null,Qe=1,$A(t,e,n,r)}finally{Qn.transition=i,Qe=r}return null}function $A(t,e,n,r){do oo();while(Yi!==null);if(Be&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(T2(t,s),t===Pt&&(gt=Pt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yu||(yu=!0,dx(nd,function(){return oo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var a=Qe;Qe=1;var o=Be;Be|=4,Hm.current=null,zA(t,n),nx(n,t),pA(Vp),id=!!Gp,Vp=Gp=null,t.current=n,HA(n),w2(),Be=o,Qe=a,Qn.transition=s}else t.current=n;if(yu&&(yu=!1,Yi=t,xd=i),s=t.pendingLanes,s===0&&(rs=null),b2(n.stateNode),yn(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vd)throw vd=!1,t=dh,dh=null,t;return xd&1&&t.tag!==0&&oo(),s=t.pendingLanes,s&1?t===fh?Yl++:(Yl=0,fh=t):Yl=0,ms(),null}function oo(){if(Yi!==null){var t=Hw(xd),e=Qn.transition,n=Qe;try{if(Qn.transition=null,Qe=16>t?16:t,Yi===null)var r=!1;else{if(t=Yi,Yi=null,xd=0,Be&6)throw Error(Q(331));var i=Be;for(Be|=4,se=t.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Kl(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,w=d.return;if(qv(d),d===u){se=null;break}if(h!==null){h.return=w,se=h;break}se=w}}}var b=s.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var A=v.sibling;v.sibling=null,v=A}while(v!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,se=m;break e}se=s.return}}var g=t.current;for(se=g;se!==null;){a=se;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,se=y;else e:for(a=g;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:nf(9,o)}}catch(j){ft(o,o.return,j)}if(o===a){se=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,se=k;break e}se=o.return}}if(Be=i,ms(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(Kd,t)}catch{}r=!0}return r}finally{Qe=n,Qn.transition=e}}return!1}function Ry(t,e,n){e=sl(n,e),e=Hv(t,e,1),t=ns(t,e,1),e=rn(),t!==null&&(Hc(t,1,e),yn(t,e))}function ft(t,e,n){if(t.tag===3)Ry(t,t,n);else for(;e!==null;){if(e.tag===3){Ry(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=sl(n,t),t=Wv(e,t,1),e=ns(e,t,1),t=rn(),e!==null&&(Hc(e,1,t),yn(e,t));break}}e=e.return}}function KA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Ft&n)===n&&(Et===4||Et===3&&(Ft&130023424)===Ft&&500>ht()-Gm?ia(t,0):Wm|=n),yn(t,e)}function cx(t,e){e===0&&(t.mode&1?(e=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):e=1);var n=rn();t=fi(t,e),t!==null&&(Hc(t,e,n),yn(t,n))}function JA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cx(t,n)}function YA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),cx(t,n)}var ux;ux=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,MA(t,e,n);hn=!!(t.flags&131072)}else hn=!1,nt&&e.flags&1048576&&hv(e,dd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mu(t,e),t=e.pendingProps;var i=tl(e,Kt.current);ao(e,n),i=Mm(null,e,r,t,i,n);var s=Um();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(s=!0,cd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jm(e),i.updater=tf,e.stateNode=i,i._reactInternals=e,eh(e,r,t,n),e=rh(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&km(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XA(r),t=Zn(r,t),i){case 0:e=nh(null,e,r,t,n);break e;case 1:e=by(null,e,r,t,n);break e;case 11:e=vy(null,e,r,t,n);break e;case 14:e=xy(null,e,r,Zn(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),nh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),by(t,e,r,i,n);case 3:e:{if($v(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xv(t,e),hd(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sl(Error(Q(423)),e),e=Ay(t,e,r,n,i);break e}else if(r!==i){i=sl(Error(Q(424)),e),e=Ay(t,e,r,n,i);break e}else for(Nn=ts(e.stateNode.containerInfo.firstChild),In=e,nt=!0,ar=null,n=wv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nl(),r===i){e=pi(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return bv(e),t===null&&Zp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Qp(r,i)?a=null:s!==null&&Qp(r,s)&&(e.flags|=32),Qv(t,e),Zt(t,e,a,n),e.child;case 6:return t===null&&Zp(e),null;case 13:return Kv(t,e,n);case 4:return Bm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=rl(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),vy(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ye(fd,r._currentValue),r._currentValue=a,s!==null)if(fr(s.value,a)){if(s.children===i.children&&!mn.current){e=pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ai(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xp(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Xp(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ao(e,n),i=$n(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),xy(t,e,r,i,n);case 15:return Gv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),Mu(t,e),e.tag=1,gn(r)?(t=!0,cd(e)):t=!1,ao(e,n),zv(e,r,i),eh(e,r,i,n),rh(null,e,r,!0,t,n);case 19:return Jv(t,e,n);case 22:return Vv(t,e,n)}throw Error(Q(156,e.tag))};function dx(t,e){return Uw(t,e)}function ZA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new ZA(t,e,n,r)}function Km(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XA(t){if(typeof t=="function")return Km(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pm)return 11;if(t===hm)return 14}return 2}function ss(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _u(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Km(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Da:return sa(n.children,i,s,e);case fm:a=8,i|=8;break;case Cp:return t=Vn(12,n,e,i|2),t.elementType=Cp,t.lanes=s,t;case kp:return t=Vn(13,n,e,i),t.elementType=kp,t.lanes=s,t;case Sp:return t=Vn(19,n,e,i),t.elementType=Sp,t.lanes=s,t;case bw:return sf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vw:a=10;break e;case xw:a=9;break e;case pm:a=11;break e;case hm:a=14;break e;case ki:a=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Vn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function sa(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function sf(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=bw,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function ep(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lf(0),this.expirationTimes=Lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jm(t,e,n,r,i,s,a,o,l){return t=new qA(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jm(s),t}function eE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ua,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fx(t){if(!t)return cs;t=t._reactInternals;e:{if(va(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(gn(n))return fv(t,n,e)}return e}function px(t,e,n,r,i,s,a,o,l){return t=Jm(n,r,!0,t,i,s,a,o,l),t.context=fx(null),n=t.current,r=rn(),i=is(n),s=ai(r,i),s.callback=e??null,ns(n,s,i),t.current.lanes=i,Hc(t,i,r),yn(t,r),t}function af(t,e,n,r){var i=e.current,s=rn(),a=is(i);return n=fx(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(i,e,a),t!==null&&(ur(t,i,a,s),Lu(t,i,a)),a}function Ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ym(t,e){jy(t,e),(t=t.alternate)&&jy(t,e)}function tE(){return null}var hx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zm(t){this._internalRoot=t}of.prototype.render=Zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));af(t,e,null,null)};of.prototype.unmount=Zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fa(function(){af(null,t,null,null)}),e[di]=null}};function of(t){this._internalRoot=t}of.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ni.length&&e!==0&&e<Ni[n].priority;n++);Ni.splice(n,0,t),n===0&&$w(t)}};function Xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function By(){}function nE(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ad(a);s.call(u)}}var a=px(e,r,t,0,null,!1,!1,"",By);return t._reactRootContainer=a,t[di]=a.current,oc(t.nodeType===8?t.parentNode:t),fa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Ad(l);o.call(u)}}var l=Jm(t,0,!1,null,null,!1,!1,"",By);return t._reactRootContainer=l,t[di]=l.current,oc(t.nodeType===8?t.parentNode:t),fa(function(){af(e,l,n,r)}),l}function cf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Ad(a);o.call(l)}}af(e,a,t,i)}else a=nE(n,e,t,i,r);return Ad(a)}Ww=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ol(e.pendingLanes);n!==0&&(ym(e,n|1),yn(e,ht()),!(Be&6)&&(al=ht()+500,ms()))}break;case 13:fa(function(){var r=fi(t,1);if(r!==null){var i=rn();ur(r,t,1,i)}}),Ym(t,1)}};wm=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var n=rn();ur(e,t,134217728,n)}Ym(t,134217728)}};Gw=function(t){if(t.tag===13){var e=is(t),n=fi(t,e);if(n!==null){var r=rn();ur(n,t,e,r)}Ym(t,e)}};Vw=function(){return Qe};Qw=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Fp=function(t,e,n){switch(e){case"input":if(Ip(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xd(r);if(!i)throw Error(Q(90));Ew(r),Ip(r,i)}}}break;case"textarea":kw(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};jw=Vm;Bw=fa;var rE={usingClientEntryPoint:!1,Events:[Gc,Wa,Xd,Pw,Rw,Vm]},Il={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iE={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fw(t),t===null?null:t.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||tE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{Kd=wu.inject(iE),Lr=wu}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xm(e))throw Error(Q(200));return eE(t,e,null,n)};Rn.createRoot=function(t,e){if(!Xm(t))throw Error(Q(299));var n=!1,r="",i=hx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jm(t,1,!1,null,null,n,!1,r,i),t[di]=e.current,oc(t.nodeType===8?t.parentNode:t),new Zm(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=Fw(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return fa(t)};Rn.hydrate=function(t,e,n){if(!lf(e))throw Error(Q(200));return cf(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!Xm(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=hx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=px(e,null,t,1,n??null,i,!1,s,a),t[di]=e.current,oc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new of(e)};Rn.render=function(t,e,n){if(!lf(e))throw Error(Q(200));return cf(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!lf(t))throw Error(Q(40));return t._reactRootContainer?(fa(function(){cf(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};Rn.unstable_batchedUpdates=Vm;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lf(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return cf(t,e,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mx)}catch(t){console.error(t)}}mx(),mw.exports=Rn;var sE=mw.exports,Ly=sE;Ap.createRoot=Ly.createRoot,Ap.hydrateRoot=Ly.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}var Zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zi||(Zi={}));const Oy="popstate";function aE(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=xa(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),mh("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Ed(s))}function r(i,s){uf(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return lE(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oE(){return Math.random().toString(36).substr(2,8)}function Fy(t,e){return{usr:t.state,key:t.key,idx:e}}function mh(t,e,n,r){return n===void 0&&(n=null),gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xa(e):e,{state:n,key:e&&e.key||r||oE()})}function Ed(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function lE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Zi.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(gc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Zi.Pop;let A=d(),m=A==null?null:A-u;u=A,l&&l({action:o,location:v.location,delta:m})}function h(A,m){o=Zi.Push;let g=mh(v.location,A,m);n&&n(g,A),u=d()+1;let y=Fy(g,u),k=v.createHref(g);try{a.pushState(y,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(k)}s&&l&&l({action:o,location:v.location,delta:1})}function w(A,m){o=Zi.Replace;let g=mh(v.location,A,m);n&&n(g,A),u=d();let y=Fy(g,u),k=v.createHref(g);a.replaceState(y,"",k),s&&l&&l({action:o,location:v.location,delta:0})}function b(A){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof A=="string"?A:Ed(A);return g=g.replace(/ $/,"%20"),vt(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return o},get location(){return t(i,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Oy,f),l=A,()=>{i.removeEventListener(Oy,f),l=null}},createHref(A){return e(i,A)},createURL:b,encodeLocation(A){let m=b(A);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:w,go(A){return a.go(A)}};return v}var My;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(My||(My={}));function cE(t,e,n){return n===void 0&&(n="/"),uE(t,e,n)}function uE(t,e,n,r){let i=typeof e=="string"?xa(e):e,s=qm(i.pathname||"/",n);if(s==null)return null;let a=gx(t);dE(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=EE(s);o=xE(a[l],u)}return o}function gx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=as([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gx(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wE(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of yx(s.path))i(s,a,l)}),e}function yx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=yx(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function dE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fE=/^:[\w-]+$/,pE=3,hE=2,mE=1,gE=10,yE=-2,Uy=t=>t==="*";function wE(t,e){let n=t.split("/"),r=n.length;return n.some(Uy)&&(r+=yE),e&&(r+=hE),n.filter(i=>!Uy(i)).reduce((i,s)=>i+(fE.test(s)?pE:s===""?mE:gE),r)}function vE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function xE(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=bE({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:as([s,f.pathname]),pathnameBase:NE(as([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=as([s,f.pathnameBase]))}return a}function bE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=AE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:w}=d;if(h==="*"){let v=o[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const b=o[f];return w&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function AE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function EE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kE=t=>CE.test(t);function SE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xa(t):t,s;if(n)if(kE(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),uf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Dy(n.substring(1),"/"):s=Dy(n,e)}else s=e;return{pathname:s,search:IE(r),hash:PE(i)}}function Dy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function tp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wx(t,e){let n=TE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xa(t):(i=gc({},t),vt(!i.pathname||!i.pathname.includes("?"),tp("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),tp("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),tp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=SE(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const as=t=>t.join("/").replace(/\/\/+/g,"/"),NE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xx=["post","put","patch","delete"];new Set(xx);const jE=["get",...xx];new Set(jE);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}const eg=S.createContext(null),BE=S.createContext(null),ba=S.createContext(null),df=S.createContext(null),gs=S.createContext({outlet:null,matches:[],isDataRoute:!1}),bx=S.createContext(null);function LE(t,e){let{relative:n}=e===void 0?{}:e;Qc()||vt(!1);let{basename:r,navigator:i}=S.useContext(ba),{hash:s,pathname:a,search:o}=Ex(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:as([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Qc(){return S.useContext(df)!=null}function $c(){return Qc()||vt(!1),S.useContext(df).location}function Ax(t){S.useContext(ba).static||S.useLayoutEffect(t)}function tg(){let{isDataRoute:t}=S.useContext(gs);return t?KE():OE()}function OE(){Qc()||vt(!1);let t=S.useContext(eg),{basename:e,future:n,navigator:r}=S.useContext(ba),{matches:i}=S.useContext(gs),{pathname:s}=$c(),a=JSON.stringify(wx(i,n.v7_relativeSplatPath)),o=S.useRef(!1);return Ax(()=>{o.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=vx(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:as([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,s,t])}function FE(){let{matches:t}=S.useContext(gs),e=t[t.length-1];return e?e.params:{}}function Ex(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(ba),{matches:i}=S.useContext(gs),{pathname:s}=$c(),a=JSON.stringify(wx(i,r.v7_relativeSplatPath));return S.useMemo(()=>vx(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function ME(t,e){return UE(t,e)}function UE(t,e,n,r){Qc()||vt(!1);let{navigator:i}=S.useContext(ba),{matches:s}=S.useContext(gs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=$c(),d;if(e){var f;let A=typeof e=="string"?xa(e):e;l==="/"||(f=A.pathname)!=null&&f.startsWith(l)||vt(!1),d=A}else d=u;let h=d.pathname||"/",w=h;if(l!=="/"){let A=l.replace(/^\//,"").split("/");w="/"+h.replace(/^\//,"").split("/").slice(A.length).join("/")}let b=cE(t,{pathname:w}),v=WE(b&&b.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:as([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:as([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&v?S.createElement(df.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zi.Pop}},v):v}function DE(){let t=$E(),e=RE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const _E=S.createElement(DE,null);class zE extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(gs.Provider,{value:this.props.routeContext},S.createElement(bx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HE(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(eg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(gs.Provider,{value:e},r)}function WE(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||vt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:w}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let w,b=!1,v=null,A=null;n&&(w=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||_E,l&&(u<0&&h===0?(JE("route-fallback"),b=!0,A=null):u===h&&(b=!0,A=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,h+1)),g=()=>{let y;return w?y=v:b?y=A:f.route.Component?y=S.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,S.createElement(HE,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(zE,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var Cx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cx||{}),kx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kx||{});function GE(t){let e=S.useContext(eg);return e||vt(!1),e}function VE(t){let e=S.useContext(BE);return e||vt(!1),e}function QE(t){let e=S.useContext(gs);return e||vt(!1),e}function Sx(t){let e=QE(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function $E(){var t;let e=S.useContext(bx),n=VE(),r=Sx();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KE(){let{router:t}=GE(Cx.UseNavigateStable),e=Sx(kx.UseNavigateStable),n=S.useRef(!1);return Ax(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yc({fromRouteId:e},s)))},[t,e])}const _y={};function JE(t,e,n){_y[t]||(_y[t]=!0)}function YE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ja(t){vt(!1)}function ZE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zi.Pop,navigator:s,static:a=!1,future:o}=t;Qc()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:s,static:a,future:yc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=xa(r));let{pathname:d="/",search:f="",hash:h="",state:w=null,key:b="default"}=r,v=S.useMemo(()=>{let A=qm(d,l);return A==null?null:{location:{pathname:A,search:f,hash:h,state:w,key:b},navigationType:i}},[l,d,f,h,w,b,i]);return v==null?null:S.createElement(ba.Provider,{value:u},S.createElement(df.Provider,{children:n,value:v}))}function XE(t){let{children:e,location:n}=t;return ME(gh(e),n)}new Promise(()=>{});function gh(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,gh(r.props.children,s));return}r.type!==ja&&vt(!1),!r.props.index||!r.props.children||vt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=gh(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}function qE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tC(t,e){return t.button===0&&(!e||e==="_self")&&!eC(t)}const nC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rC="6";try{window.__reactRouterVersion=rC}catch{}const iC="startTransition",zy=Kb[iC];function sC(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=aE({window:i,v5Compat:!0}));let a=s.current,[o,l]=S.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=S.useCallback(f=>{u&&zy?zy(()=>l(f)):l(f)},[l,u]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.useEffect(()=>YE(r),[r]),S.createElement(ZE,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const aC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=e,h=qE(e,nC),{basename:w}=S.useContext(ba),b,v=!1;if(typeof u=="string"&&oC.test(u)&&(b=u,aC))try{let y=new URL(window.location.href),k=u.startsWith("//")?new URL(y.protocol+u):new URL(u),j=qm(k.pathname,w);k.origin===y.origin&&j!=null?u=j+k.search+k.hash:v=!0}catch{}let A=LE(u,{relative:i}),m=lC(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:f});function g(y){r&&r(y),y.defaultPrevented||m(y)}return S.createElement("a",yh({},h,{href:b||A,onClick:v||s?r:g,ref:n,target:l}))});var Hy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hy||(Hy={}));var Wy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wy||(Wy={}));function lC(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=tg(),u=$c(),d=Ex(t,{relative:a});return S.useCallback(f=>{if(tC(f,n)){f.preventDefault();let h=r!==void 0?r:Ed(u)===Ed(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,r,i,n,t,s,a,o])}let cC={data:""},uC=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||cC},dC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fC=/\/\*[^]*?\*\/|  +/g,Gy=/\n+/g,Pi=(t,e)=>{let n="",r="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+a+";":r+=s[1]=="f"?Pi(a,s):s+"{"+Pi(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=Pi(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Pi.p?Pi.p(s,a):s+":"+a+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Mr={},Tx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Tx(t[n]);return e}return t},pC=(t,e,n,r,i)=>{let s=Tx(t),a=Mr[s]||(Mr[s]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Mr[a]){let l=s!==t?t:(u=>{let d,f,h=[{}];for(;d=dC.exec(u.replace(fC,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Gy," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Gy," ").trim();return h[0]})(t);Mr[a]=Pi(i?{["@keyframes "+a]:l}:l,n?"":"."+a)}let o=n&&Mr.g?Mr.g:null;return n&&(Mr.g=Mr[a]),((l,u,d,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Mr[a],e,r,o),a},hC=(t,e,n)=>t.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let o=a(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Pi(o,""):o===!1?"":o}return r+i+(a??"")},"");function ff(t){let e=this||{},n=t.call?t(e.p):t;return pC(n.unshift?n.raw?hC(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,uC(e.target),e.g,e.o,e.k)}let Nx,wh,vh;ff.bind({g:1});let hi=ff.bind({k:1});function mC(t,e,n,r){Pi.p=e,Nx=t,wh=n,vh=r}function ys(t,e){let n=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;n.p=Object.assign({theme:wh&&wh()},o),n.o=/ *go\d+/.test(l),o.className=ff.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),vh&&u[0]&&vh(o),Nx(u,o)}return i}}var gC=t=>typeof t=="function",Cd=(t,e)=>gC(t)?t(e):t,yC=(()=>{let t=0;return()=>(++t).toString()})(),Ix=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),wC=20,ng="default",Px=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return Px(t,{type:t.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},zu=[],Rx={toasts:[],pausedAt:void 0,settings:{toastLimit:wC}},jr={},jx=(t,e=ng)=>{jr[e]=Px(jr[e]||Rx,t),zu.forEach(([n,r])=>{n===e&&r(jr[e])})},Bx=t=>Object.keys(jr).forEach(e=>jx(t,e)),vC=t=>Object.keys(jr).find(e=>jr[e].toasts.some(n=>n.id===t)),pf=(t=ng)=>e=>{jx(e,t)},xC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},bC=(t={},e=ng)=>{let[n,r]=S.useState(jr[e]||Rx),i=S.useRef(jr[e]);S.useEffect(()=>(i.current!==jr[e]&&r(jr[e]),zu.push([e,r]),()=>{let a=zu.findIndex(([o])=>o===e);a>-1&&zu.splice(a,1)}),[e]);let s=n.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||xC[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:s}},AC=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||yC()}),Kc=t=>(e,n)=>{let r=AC(e,t,n);return pf(r.toasterId||vC(r.id))({type:2,toast:r}),r.id},bt=(t,e)=>Kc("blank")(t,e);bt.error=Kc("error");bt.success=Kc("success");bt.loading=Kc("loading");bt.custom=Kc("custom");bt.dismiss=(t,e)=>{let n={type:3,toastId:t};e?pf(e)(n):Bx(n)};bt.dismissAll=t=>bt.dismiss(void 0,t);bt.remove=(t,e)=>{let n={type:4,toastId:t};e?pf(e)(n):Bx(n)};bt.removeAll=t=>bt.remove(void 0,t);bt.promise=(t,e,n)=>{let r=bt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Cd(e.success,i):void 0;return s?bt.success(s,{id:r,...n,...n==null?void 0:n.success}):bt.dismiss(r),i}).catch(i=>{let s=e.error?Cd(e.error,i):void 0;s?bt.error(s,{id:r,...n,...n==null?void 0:n.error}):bt.dismiss(r)}),t};var EC=1e3,CC=(t,e="default")=>{let{toasts:n,pausedAt:r}=bC(t,e),i=S.useRef(new Map).current,s=S.useCallback((f,h=EC)=>{if(i.has(f))return;let w=setTimeout(()=>{i.delete(f),a({type:4,toastId:f})},h);i.set(f,w)},[]);S.useEffect(()=>{if(r)return;let f=Date.now(),h=n.map(w=>{if(w.duration===1/0)return;let b=(w.duration||0)+w.pauseDuration-(f-w.createdAt);if(b<0){w.visible&&bt.dismiss(w.id);return}return setTimeout(()=>bt.dismiss(w.id,e),b)});return()=>{h.forEach(w=>w&&clearTimeout(w))}},[n,r,e]);let a=S.useCallback(pf(e),[e]),o=S.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=S.useCallback((f,h)=>{a({type:1,toast:{id:f,height:h}})},[a]),u=S.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),d=S.useCallback((f,h)=>{let{reverseOrder:w=!1,gutter:b=8,defaultPosition:v}=h||{},A=n.filter(y=>(y.position||v)===(f.position||v)&&y.height),m=A.findIndex(y=>y.id===f.id),g=A.filter((y,k)=>k<m&&y.visible).length;return A.filter(y=>y.visible).slice(...w?[g+1]:[0,g]).reduce((y,k)=>y+(k.height||0)+b,0)},[n]);return S.useEffect(()=>{n.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:d}}},kC=hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,SC=hi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TC=hi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NC=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${SC} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TC} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IC=hi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,PC=ys("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${IC} 1s linear infinite;
`,RC=hi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,jC=hi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,BC=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RC} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${jC} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LC=ys("div")`
  position: absolute;
`,OC=ys("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FC=hi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MC=ys("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FC} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,UC=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?S.createElement(MC,null,e):e:n==="blank"?null:S.createElement(OC,null,S.createElement(PC,{...r}),n!=="loading"&&S.createElement(LC,null,n==="error"?S.createElement(NC,{...r}):S.createElement(BC,{...r})))},DC=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_C=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,zC="0%{opacity:0;} 100%{opacity:1;}",HC="0%{opacity:1;} 100%{opacity:0;}",WC=ys("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GC=ys("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,VC=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Ix()?[zC,HC]:[DC(n),_C(n)];return{animation:e?`${hi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QC=S.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?VC(t.position||e||"top-center",t.visible):{opacity:0},s=S.createElement(UC,{toast:t}),a=S.createElement(GC,{...t.ariaProps},Cd(t.message,t));return S.createElement(WC,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:a}):S.createElement(S.Fragment,null,s,a))});mC(S.createElement);var $C=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=S.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return S.createElement("div",{ref:s,className:e,style:n},i)},KC=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ix()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},JC=ff`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vu=16,YC=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=CC(n,s);return S.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:vu,left:vu,right:vu,bottom:vu,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let f=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),w=KC(f,h);return S.createElement($C,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?JC:"",style:w},d.type==="custom"?Cd(d.message,d):i?i(d):S.createElement(QC,{toast:d,position:f}))}))},P=bt;const ZC="6.16.0";function XC(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function Xt(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function me(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&XC(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Ya(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Ya(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return Ya(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${Ya(r,e)}: ${Ya(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ot(t,e){return t&&t.code===e}function rg(t){return Ot(t,"CALL_EXCEPTION")}function et(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Ya(n)}`);for(const a in n){if(a==="shortMessage")continue;const o=n[a];s.push(a+"="+Ya(o))}}s.push(`code=${e}`),s.push(`version=${ZC}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return me(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&me(i,{shortMessage:r}),i}function W(t,e,n,r){if(!t)throw et(e,n,r)}function C(t,e,n,r){W(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function Lx(t,e,n){n==null&&(n=""),n&&(n=": "+n),W(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),W(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Jc(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),W(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Ox(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.length%2===0&&t.match(/^0x[0-9a-f]*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}C(!1,"invalid BytesLike value",e||"value",t)}function Ce(t,e){return Ox(t,e,!1)}function qt(t,e){return Ox(t,e,!0)}function Ze(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function ig(t){return Ze(t,!0)||t instanceof Uint8Array}const Vy="0123456789abcdef";function ne(t){const e=Ce(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Vy[(i&240)>>4]+Vy[i&15]}return n}function rt(t){return"0x"+t.map(e=>ne(e).substring(2)).join("")}function lo(t){return Ze(t,!0)?(t.length-2)/2:Ce(t).length}function dt(t,e,n){const r=Ce(t);return n!=null&&n>r.length&&W(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),ne(r.slice(e??0,n??r.length))}function Fx(t,e,n){const r=Ce(t);W(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),ne(i)}function mi(t,e){return Fx(t,e,!0)}function qC(t,e){return Fx(t,e,!1)}const Yc=BigInt(0),lr=BigInt(1),Za=9007199254740991;function kd(t,e){const n=hf(t,"value"),r=BigInt(xe(e,"width"));if(W(n>>r===Yc,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-lr){const i=(lr<<r)-lr;return-((~n&i)+lr)}return n}function Mx(t,e){let n=ae(t,"value");const r=BigInt(xe(e,"width")),i=lr<<r-lr;if(n<Yc){n=-n,W(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(lr<<r)-lr;return(~n&s)+lr}else W(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Os(t,e){const n=hf(t,"value"),r=BigInt(xe(e,"bits"));return n&(lr<<r)-lr}function ae(t,e){switch(typeof t){case"bigint":return t;case"number":return C(Number.isInteger(t),"underflow",e||"value",t),C(t>=-Za&&t<=Za,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){C(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}C(!1,"invalid BigNumberish value",e||"value",t)}function hf(t,e){const n=ae(t,e);return W(n>=Yc,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const Qy="0123456789abcdef";function mf(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=Qy[n>>4],e+=Qy[n&15];return BigInt(e)}return ae(t)}function xe(t,e){switch(typeof t){case"bigint":return C(t>=-Za&&t<=Za,"overflow",e||"value",t),Number(t);case"number":return C(Number.isInteger(t),"underflow",e||"value",t),C(t>=-Za&&t<=Za,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return xe(BigInt(t),e)}catch(n){C(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}C(!1,"invalid numeric value",e||"value",t)}function ek(t){return xe(mf(t))}function us(t,e){const n=hf(t,"value");let r=n.toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=xe(e,"width");if(i===0&&n===Yc)return"0x";for(W(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function wt(t,e){const n=hf(t,"value");if(n===Yc)return new Uint8Array(0);let r=n.toString(16);r.length%2&&(r="0"+r);const i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const a=s*2;i[s]=parseInt(r.substring(a,a+2),16)}return i}function or(t){let e=ne(ig(t)?t:wt(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const $y="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const Ky=BigInt(58);function tk(t){const e=Ce(t);let n=mf(e),r="";for(;n;)r=$y[Number(n%Ky)]+r,n/=Ky;for(let i=0;i<e.length&&!e[i];i++)r=$y[0]+r;return r}function nk(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return Ce(e)}function rk(t){const e=Ce(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var po;class Ux{constructor(e,n,r){I(this,"filter");I(this,"emitter");L(this,po);x(this,po,n),me(this,{emitter:e,filter:r})}async removeListener(){p(this,po)!=null&&await this.emitter.off(this.filter,p(this,po))}}po=new WeakMap;function ik(t,e,n,r,i){C(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function Dx(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function sk(t,e,n,r,i){return t==="OVERLONG"?(C(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),Dx(t,e,n))}const ak=Object.freeze({error:ik,ignore:Dx,replace:sk});function ok(t,e){e==null&&(e=ak.error);const n=Ce(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let a=null,o=null;if((s&224)===192)a=1,o=127;else if((s&240)===224)a=2,o=2047;else if((s&248)===240)a=3,o=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+a>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let l=s&(1<<8-a-1)-1;for(let u=0;u<a;u++){let d=n[i];if((d&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),l=null;break}l=l<<6|d&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-a,n,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-a,n,r,l);continue}if(l<=o){i+=e("OVERLONG",i-1-a,n,r,l);continue}r.push(l)}}return r}function oi(t,e){C(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);C(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((i&1023)<<10)+(s&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function lk(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Sd(t,e){return lk(ok(t,e))}function _x(t){async function e(n,r){W(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();W(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),W(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const a=new AbortController,o=setTimeout(()=>{s=et("request timeout","TIMEOUT"),a.abort()},n.timeout);r&&r.addListener(()=>{s=et("request cancelled","CANCELLED"),a.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:a.signal});let u;try{u=await fetch(n.url,l)}catch(w){throw clearTimeout(o),s||w}clearTimeout(o);const d={};u.headers.forEach((w,b)=>{d[b.toLowerCase()]=w});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return e}const ck=12,uk=250;let Jy=_x();const dk=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),fk=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let np=!1;async function zx(t,e){try{const n=t.match(dk);if(!n)throw new Error("invalid data");return new os(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?nk(n[3]):hk(n[3]))}catch{return new os(599,"BAD REQUEST (invalid data: URI)",{},null,new ds(t))}}function Hx(t){async function e(n,r){try{const i=n.match(fk);if(!i)throw new Error("invalid link");return new ds(`${t}${i[2]}`)}catch{return new os(599,"BAD REQUEST (invalid IPFS URI)",{},null,new ds(n))}}return e}const xu={data:zx,ipfs:Hx("https://gateway.ipfs.io/ipfs/")},Wx=new WeakMap;var Ds,Ri;class pk{constructor(e){L(this,Ds);L(this,Ri);x(this,Ds,[]),x(this,Ri,!1),Wx.set(e,()=>{if(!p(this,Ri)){x(this,Ri,!0);for(const n of p(this,Ds))setTimeout(()=>{n()},0);x(this,Ds,[])}})}addListener(e){W(!p(this,Ri),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),p(this,Ds).push(e)}get cancelled(){return p(this,Ri)}checkSignal(){W(!this.cancelled,"cancelled","CANCELLED",{})}}Ds=new WeakMap,Ri=new WeakMap;function bu(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var ho,mo,qn,Gr,go,yo,St,En,Vr,_s,zs,Hs,xr,er,ji,Ws,Ml;const _d=class _d{constructor(e){L(this,Ws);L(this,ho);L(this,mo);L(this,qn);L(this,Gr);L(this,go);L(this,yo);L(this,St);L(this,En);L(this,Vr);L(this,_s);L(this,zs);L(this,Hs);L(this,xr);L(this,er);L(this,ji);x(this,yo,String(e)),x(this,ho,!1),x(this,mo,!0),x(this,qn,{}),x(this,Gr,""),x(this,go,3e5),x(this,er,{slotInterval:uk,maxAttempts:ck}),x(this,ji,null)}get url(){return p(this,yo)}set url(e){x(this,yo,String(e))}get body(){return p(this,St)==null?null:new Uint8Array(p(this,St))}set body(e){if(e==null)x(this,St,void 0),x(this,En,void 0);else if(typeof e=="string")x(this,St,oi(e)),x(this,En,"text/plain");else if(e instanceof Uint8Array)x(this,St,e),x(this,En,"application/octet-stream");else if(typeof e=="object")x(this,St,oi(JSON.stringify(e))),x(this,En,"application/json");else throw new Error("invalid body")}hasBody(){return p(this,St)!=null}get method(){return p(this,Gr)?p(this,Gr):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),x(this,Gr,String(e).toUpperCase())}get headers(){const e=Object.assign({},p(this,qn));return p(this,Vr)&&(e.authorization=`Basic ${rk(oi(p(this,Vr)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&p(this,En)&&(e["content-type"]=p(this,En)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){p(this,qn)[String(e).toLowerCase()]=String(n)}clearHeaders(){x(this,qn,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return p(this,Vr)||null}setCredentials(e,n){C(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),x(this,Vr,`${e}:${n}`)}get allowGzip(){return p(this,mo)}set allowGzip(e){x(this,mo,!!e)}get allowInsecureAuthentication(){return!!p(this,ho)}set allowInsecureAuthentication(e){x(this,ho,!!e)}get timeout(){return p(this,go)}set timeout(e){C(e>=0,"timeout must be non-zero","timeout",e),x(this,go,e)}get preflightFunc(){return p(this,_s)||null}set preflightFunc(e){x(this,_s,e)}get processFunc(){return p(this,zs)||null}set processFunc(e){x(this,zs,e)}get retryFunc(){return p(this,Hs)||null}set retryFunc(e){x(this,Hs,e)}get getUrlFunc(){return p(this,ji)||Jy}set getUrlFunc(e){x(this,ji,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${p(this,St)?ne(p(this,St)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(p(this,er).slotInterval=e.slotInterval),e.maxAttempts!=null&&(p(this,er).maxAttempts=e.maxAttempts)}send(){return W(p(this,xr)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),x(this,xr,new pk(this)),V(this,Ws,Ml).call(this,0,Yy()+this.timeout,0,this,new os(0,"",{},null,this))}cancel(){W(p(this,xr)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Wx.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();W(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new _d(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,x(i,qn,Object.assign({},p(this,qn))),p(this,St)&&x(i,St,new Uint8Array(p(this,St))),x(i,En,p(this,En)),i}clone(){const e=new _d(this.url);return x(e,Gr,p(this,Gr)),p(this,St)&&x(e,St,p(this,St)),x(e,En,p(this,En)),x(e,qn,Object.assign({},p(this,qn))),x(e,Vr,p(this,Vr)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),x(e,_s,p(this,_s)),x(e,zs,p(this,zs)),x(e,Hs,p(this,Hs)),x(e,er,Object.assign({},p(this,er))),x(e,ji,p(this,ji)),e}static lockConfig(){np=!0}static getGateway(e){return xu[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(np)throw new Error("gateways locked");xu[e]=n}static registerGetUrl(e){if(np)throw new Error("gateways locked");Jy=e}static createGetUrlFunc(e){return _x(e)}static createDataGateway(){return zx}static createIpfsGatewayFunc(e){return Hx(e)}};ho=new WeakMap,mo=new WeakMap,qn=new WeakMap,Gr=new WeakMap,go=new WeakMap,yo=new WeakMap,St=new WeakMap,En=new WeakMap,Vr=new WeakMap,_s=new WeakMap,zs=new WeakMap,Hs=new WeakMap,xr=new WeakMap,er=new WeakMap,ji=new WeakMap,Ws=new WeakSet,Ml=async function(e,n,r,i,s){var d,f,h;if(e>=p(this,er).maxAttempts)return s.makeServerError("exceeded maximum retry limit");W(Yy()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await mk(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in xu){const w=await xu[o](a.url,bu(p(i,xr)));if(w instanceof os){let b=w;if(this.processFunc){bu(p(i,xr));try{b=await this.processFunc(a,b)}catch(v){(v.throttle==null||typeof v.stall!="number")&&b.makeServerError("error in post-processing function",v).assertOk()}}return b}a=w}this.preflightFunc&&(a=await this.preflightFunc(a));const l=await this.getUrlFunc(a,bu(p(i,xr)));let u=new os(l.statusCode,l.statusMessage,l.headers,l.body,i);if(u.statusCode===301||u.statusCode===302){try{const w=u.headers.location||"";return V(d=a.redirect(w),Ws,Ml).call(d,e+1,n,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,e))){const w=u.headers["retry-after"];let b=p(this,er).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof w=="string"&&w.match(/^[1-9][0-9]*$/)&&(b=parseInt(w)),V(f=a.clone(),Ws,Ml).call(f,e+1,n,b,i,u)}if(this.processFunc){bu(p(i,xr));try{u=await this.processFunc(a,u)}catch(w){(w.throttle==null||typeof w.stall!="number")&&u.makeServerError("error in post-processing function",w).assertOk();let b=p(this,er).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return w.stall>=0&&(b=w.stall),V(h=a.clone(),Ws,Ml).call(h,e+1,n,b,i,u)}}return u};let ds=_d;var Ic,Pc,Rc,Cn,wo,Gs;const Ag=class Ag{constructor(e,n,r,i,s){L(this,Ic);L(this,Pc);L(this,Rc);L(this,Cn);L(this,wo);L(this,Gs);x(this,Ic,e),x(this,Pc,n),x(this,Rc,Object.keys(r).reduce((a,o)=>(a[o.toLowerCase()]=String(r[o]),a),{})),x(this,Cn,i==null?null:new Uint8Array(i)),x(this,wo,s||null),x(this,Gs,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${p(this,Cn)?ne(p(this,Cn)):"null"}>`}get statusCode(){return p(this,Ic)}get statusMessage(){return p(this,Pc)}get headers(){return Object.assign({},p(this,Rc))}get body(){return p(this,Cn)==null?null:new Uint8Array(p(this,Cn))}get bodyText(){try{return p(this,Cn)==null?"":Sd(p(this,Cn))}catch{W(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{W(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Ag(599,r,this.headers,this.body,p(this,wo)||void 0);return x(i,Gs,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:C(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw me(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return p(this,Cn)!=null}get request(){return p(this,wo)}ok(){return p(this,Gs).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=p(this,Gs);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{p(this,Cn)&&(i=Sd(p(this,Cn)))}catch{}W(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Ic=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,Cn=new WeakMap,wo=new WeakMap,Gs=new WeakMap;let os=Ag;function Yy(){return new Date().getTime()}function hk(t){return oi(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function mk(t){return new Promise(e=>setTimeout(e,t))}const gk=BigInt(-1),Yn=BigInt(0),Xa=BigInt(1),yk=BigInt(5),Na={};let co="0000";for(;co.length<80;)co+=co;function vs(t){let e=co;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Pl(t,e,n){const r=BigInt(e.width);if(e.signed){const i=Xa<<r-Xa;W(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Yn?t=kd(Os(t,r),r):t=-kd(Os(-t,r),r)}else{const i=Xa<<r;W(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-Xa}return t}function rp(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);C(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,a=(o,l,u)=>s[o]==null?u:(C(typeof s[o]===l,"invalid fixed format ("+o+" not "+l+")","format."+o,s[o]),s[o]);e=a("signed","boolean",e),n=a("width","number",n),r=a("decimals","number",r)}C(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),C(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function wk(t,e){let n="";t<Yn&&(n="-",t*=gk);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=co+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var tr,$e,Jt,De,ks,Ur,xh,bh,Ah,Eh;const Ti=class Ti{constructor(e,n,r){L(this,De);I(this,"format");L(this,tr);L(this,$e);L(this,Jt);I(this,"_value");Jc(e,Na,"FixedNumber"),x(this,$e,n),x(this,tr,r);const i=wk(n,r.decimals);me(this,{format:r.name,_value:i}),x(this,Jt,vs(r.decimals))}get signed(){return p(this,tr).signed}get width(){return p(this,tr).width}get decimals(){return p(this,tr).decimals}get value(){return p(this,$e)}addUnsafe(e){return V(this,De,xh).call(this,e)}add(e){return V(this,De,xh).call(this,e,"add")}subUnsafe(e){return V(this,De,bh).call(this,e)}sub(e){return V(this,De,bh).call(this,e,"sub")}mulUnsafe(e){return V(this,De,Ah).call(this,e)}mul(e){return V(this,De,Ah).call(this,e,"mul")}mulSignal(e){V(this,De,ks).call(this,e);const n=p(this,$e)*p(e,$e);return W(n%p(this,Jt)===Yn,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),V(this,De,Ur).call(this,n/p(this,Jt),"mulSignal")}divUnsafe(e){return V(this,De,Eh).call(this,e)}div(e){return V(this,De,Eh).call(this,e,"div")}divSignal(e){W(p(e,$e)!==Yn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),V(this,De,ks).call(this,e);const n=p(this,$e)*p(this,Jt);return W(n%p(e,$e)===Yn,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),V(this,De,Ur).call(this,n/p(e,$e),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=vs(i):i<0&&(n*=vs(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=p(this,$e);return p(this,$e)<Yn&&(e-=p(this,Jt)-Xa),e=p(this,$e)/p(this,Jt)*p(this,Jt),V(this,De,Ur).call(this,e,"floor")}ceiling(){let e=p(this,$e);return p(this,$e)>Yn&&(e+=p(this,Jt)-Xa),e=p(this,$e)/p(this,Jt)*p(this,Jt),V(this,De,Ur).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=yk*vs(n-1);let i=this.value+r;const s=vs(n);return i=i/s*s,Pl(i,p(this,tr),"round"),new Ti(Na,i,p(this,tr))}isZero(){return p(this,$e)===Yn}isNegative(){return p(this,$e)<Yn}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ti.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:xe(n),s=rp(r);let a=ae(e,"value");const o=i-s.decimals;if(o>0){const l=vs(o);W(a%l===Yn,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=l}else o<0&&(a*=vs(-o));return Pl(a,s,"fromValue"),new Ti(Na,a,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);C(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=rp(n);let s=r[2]||"0",a=r[3]||"";for(;a.length<i.decimals;)a+=co;W(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const o=BigInt(r[1]+s+a);return Pl(o,i,"fromString"),new Ti(Na,o,i)}static fromBytes(e,n){let r=mf(Ce(e,"value"));const i=rp(n);return i.signed&&(r=kd(r,i.width)),Pl(r,i,"fromBytes"),new Ti(Na,r,i)}};tr=new WeakMap,$e=new WeakMap,Jt=new WeakMap,De=new WeakSet,ks=function(e){C(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Ur=function(e,n){return e=Pl(e,p(this,tr),n),new Ti(Na,e,p(this,tr))},xh=function(e,n){return V(this,De,ks).call(this,e),V(this,De,Ur).call(this,p(this,$e)+p(e,$e),n)},bh=function(e,n){return V(this,De,ks).call(this,e),V(this,De,Ur).call(this,p(this,$e)-p(e,$e),n)},Ah=function(e,n){return V(this,De,ks).call(this,e),V(this,De,Ur).call(this,p(this,$e)*p(e,$e)/p(this,Jt),n)},Eh=function(e,n){return W(p(e,$e)!==Yn,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),V(this,De,ks).call(this,e),V(this,De,Ur).call(this,p(this,$e)*p(this,Jt)/p(e,$e),n)};let Td=Ti;function vk(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Zy(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function Xy(t,e,n,r){const i=[];for(;n<e+1+r;){const s=Gx(t,n);i.push(s.result),n+=s.consumed,W(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function Gx(t,e){W(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{W(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=Zy(t,e+1,r);return n(e+1+r+i),Xy(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),Xy(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=Zy(t,e+1,r);n(e+1+r+i);const s=ne(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=ne(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:vk(t[e])}}function Zc(t){const e=Ce(t,"data"),n=Gx(e,0);return C(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function qy(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Vx(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(Vx(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=qy(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(Ce(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=qy(e.length);return n.unshift(183+n.length),n.concat(e)}const e0="0123456789abcdef";function li(t){let e="0x";for(const n of Vx(t))e+=e0[n>>4],e+=e0[n&15];return e}function xk(t,e){let n=18;return n=xe(e,"unit"),Td.fromValue(t,n,{decimals:n,width:512}).toString()}function bk(t,e){C(typeof t=="string","value must be a string","value",t);let n=18;return n=xe(e,"unit"),Td.fromString(t,{decimals:n,width:512}).value}function tt(t){return xk(t,18)}function dr(t){return bk(t,18)}const en=32,Ch=new Uint8Array(en),Ak=["then"],Au={},Qx=new WeakMap;function Ts(t){return Qx.get(t)}function t0(t,e){Qx.set(t,e)}function Rl(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function kh(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof ol?kh(Ts(r),r,n):r):t.reduce((r,i,s)=>{let a=e.getValue(i);return i in r||(n&&a instanceof ol&&(a=kh(Ts(a),a,n)),r[i]=a),r},{})}var vo;const qa=class qa extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),a=!0;r!==Au&&(i=n,s=[],a=!1);super(i.length);L(this,vo);i.forEach((u,d)=>{this[d]=u});const o=s.reduce((u,d)=>(typeof d=="string"&&u.set(d,(u.get(d)||0)+1),u),new Map);if(t0(this,Object.freeze(i.map((u,d)=>{const f=s[d];return f!=null&&o.get(f)===1?f:null}))),x(this,vo,[]),p(this,vo)==null&&p(this,vo),!a)return;Object.freeze(this);const l=new Proxy(this,{get:(u,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const w=xe(d,"%index");if(w<0||w>=this.length)throw new RangeError("out of result range");const b=u[w];return b instanceof Error&&Rl(`index ${w}`,b),b}if(Ak.indexOf(d)>=0)return Reflect.get(u,d,f);const h=u[d];if(h instanceof Function)return function(...w){return h.apply(this===f?u:this,w)};if(!(d in u))return u.getValue.apply(this===f?u:this,[d])}return Reflect.get(u,d,f)}});return t0(l,Ts(this)),l}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&Rl(`index ${s}`,i),n&&i instanceof qa&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=Ts(this);return r.reduce((i,s,a)=>(W(s!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),kh(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=Ts(this),s=[],a=[];for(let o=n;o<r;o++)s.push(this[o]),a.push(i[o]);return new qa(Au,s,a)}filter(n,r){const i=Ts(this),s=[],a=[];for(let o=0;o<this.length;o++){const l=this[o];l instanceof Error&&Rl(`index ${o}`,l),n.call(r,l,o,this)&&(s.push(l),a.push(i[o]))}return new qa(Au,s,a)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Rl(`index ${s}`,a),i.push(n.call(r,a,s,this))}return i}getValue(n){const r=Ts(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&Rl(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new qa(Au,n,r)}};vo=new WeakMap;let ol=qa;function n0(t){let e=wt(t);return W(e.length<=en,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:en,offset:e.length}),e.length!==en&&(e=qt(rt([Ch.slice(e.length%en),e]))),e}class wi{constructor(e,n,r,i){I(this,"name");I(this,"type");I(this,"localName");I(this,"dynamic");me(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){C(!1,e,this.localName,n)}}var Qr,Vs,xo,Hu;class Sh{constructor(){L(this,xo);L(this,Qr);L(this,Vs);x(this,Qr,[]),x(this,Vs,0)}get data(){return rt(p(this,Qr))}get length(){return p(this,Vs)}appendWriter(e){return V(this,xo,Hu).call(this,qt(e.data))}writeBytes(e){let n=qt(e);const r=n.length%en;return r&&(n=qt(rt([n,Ch.slice(r)]))),V(this,xo,Hu).call(this,n)}writeValue(e){return V(this,xo,Hu).call(this,n0(e))}writeUpdatableValue(){const e=p(this,Qr).length;return p(this,Qr).push(Ch),x(this,Vs,p(this,Vs)+en),n=>{p(this,Qr)[e]=n0(n)}}}Qr=new WeakMap,Vs=new WeakMap,xo=new WeakSet,Hu=function(e){return p(this,Qr).push(e),x(this,Vs,p(this,Vs)+e.length),e.length};var cn,kn,Qs,$s,Bi,ya,Nh,$x;const Eg=class Eg{constructor(e,n,r){L(this,ya);I(this,"allowLoose");L(this,cn);L(this,kn);L(this,Qs);L(this,$s);L(this,Bi);me(this,{allowLoose:!!n}),x(this,cn,qt(e)),x(this,Qs,0),x(this,$s,null),x(this,Bi,r??1024),x(this,kn,0)}get data(){return ne(p(this,cn))}get dataLength(){return p(this,cn).length}get consumed(){return p(this,kn)}get bytes(){return new Uint8Array(p(this,cn))}subReader(e){const n=new Eg(p(this,cn).slice(p(this,kn)+e),this.allowLoose,p(this,Bi));return x(n,$s,this),n}readBytes(e,n){let r=V(this,ya,$x).call(this,0,e,!!n);return V(this,ya,Nh).call(this,e),x(this,kn,p(this,kn)+r.length),r.slice(0,e)}readValue(){return mf(this.readBytes(en))}readIndex(){return ek(this.readBytes(en))}};cn=new WeakMap,kn=new WeakMap,Qs=new WeakMap,$s=new WeakMap,Bi=new WeakMap,ya=new WeakSet,Nh=function(e){var n;if(p(this,$s))return V(n=p(this,$s),ya,Nh).call(n,e);x(this,Qs,p(this,Qs)+e),W(p(this,Bi)<1||p(this,Qs)<=p(this,Bi)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${p(this,Bi)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:qt(p(this,cn)),offset:p(this,kn),length:e,info:{bytesRead:p(this,Qs),dataLength:this.dataLength}})},$x=function(e,n,r){let i=Math.ceil(n/en)*en;return p(this,kn)+i>p(this,cn).length&&(this.allowLoose&&r&&p(this,kn)+n<=p(this,cn).length?i=n:W(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:qt(p(this,cn)),length:p(this,cn).length,offset:p(this,kn)+i})),p(this,cn).slice(p(this,kn),p(this,kn)+i)};let Th=Eg;function Nd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function sg(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Ek(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Nd(t.outputLen),Nd(t.blockLen)}function ll(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kx(t,e){sg(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ip=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jx=t=>t instanceof Uint8Array,Ck=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),sp=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),gr=(t,e)=>t<<32-e|t>>>e,kk=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!kk)throw new Error("Non little-endian hardware is not supported");function Sk(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function gf(t){if(typeof t=="string"&&(t=Sk(t)),!Jx(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function Tk(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!Jx(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class ag{clone(){return this._cloneInto()}}function og(t){const e=r=>t().update(gf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Nk(t=32){if(ip&&typeof ip.getRandomValues=="function")return ip.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class Yx extends ag{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Ek(e);const r=gf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return ll(this),this.iHash.update(e),this}digestInto(e){ll(this),sg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Zx=(t,e,n)=>new Yx(t,e).update(n).digest();Zx.create=(t,e)=>new Yx(t,e);function Ik(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(n>>i&s),o=Number(n&s),l=r?4:0,u=r?0:4;t.setUint32(e+l,a,r),t.setUint32(e+u,o,r)}class Xx extends ag{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=sp(this.buffer)}update(e){ll(this);const{view:n,buffer:r,blockLen:i}=this;e=gf(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const l=sp(e);for(;i<=s-a;a+=i)this.process(l,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ll(this),Kx(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let f=a;f<i;f++)n[f]=0;Ik(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=sp(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%n&&e.buffer.set(r),e}}const Pk=(t,e,n)=>t&e^~t&n,Rk=(t,e,n)=>t&e^t&n^e&n,jk=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),xi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),bi=new Uint32Array(64);class Bk extends Xx{constructor(){super(64,32,8,!1),this.A=xi[0]|0,this.B=xi[1]|0,this.C=xi[2]|0,this.D=xi[3]|0,this.E=xi[4]|0,this.F=xi[5]|0,this.G=xi[6]|0,this.H=xi[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:a,G:o,H:l}=this;return[e,n,r,i,s,a,o,l]}set(e,n,r,i,s,a,o,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,n){for(let f=0;f<16;f++,n+=4)bi[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const h=bi[f-15],w=bi[f-2],b=gr(h,7)^gr(h,18)^h>>>3,v=gr(w,17)^gr(w,19)^w>>>10;bi[f]=v+bi[f-7]+b+bi[f-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:l,G:u,H:d}=this;for(let f=0;f<64;f++){const h=gr(o,6)^gr(o,11)^gr(o,25),w=d+h+Pk(o,l,u)+jk[f]+bi[f]|0,v=(gr(r,2)^gr(r,13)^gr(r,22))+Rk(r,i,s)|0;d=u,u=l,l=o,o=a+w|0,a=s,s=i,i=r,r=w+v|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,i,s,a,o,l,u,d)}roundClean(){bi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qx=og(()=>new Bk),Eu=BigInt(2**32-1),Ih=BigInt(32);function e1(t,e=!1){return e?{h:Number(t&Eu),l:Number(t>>Ih&Eu)}:{h:Number(t>>Ih&Eu)|0,l:Number(t&Eu)|0}}function t1(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=e1(t[i],e);[n[i],r[i]]=[s,a]}return[n,r]}const Lk=(t,e)=>BigInt(t>>>0)<<Ih|BigInt(e>>>0),Ok=(t,e,n)=>t>>>n,Fk=(t,e,n)=>t<<32-n|e>>>n,Mk=(t,e,n)=>t>>>n|e<<32-n,Uk=(t,e,n)=>t<<32-n|e>>>n,Dk=(t,e,n)=>t<<64-n|e>>>n-32,_k=(t,e,n)=>t>>>n-32|e<<64-n,zk=(t,e)=>e,Hk=(t,e)=>t,n1=(t,e,n)=>t<<n|e>>>32-n,r1=(t,e,n)=>e<<n|t>>>32-n,i1=(t,e,n)=>e<<n-32|t>>>64-n,s1=(t,e,n)=>t<<n-32|e>>>64-n;function Wk(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const Gk=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Vk=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Qk=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),$k=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Kk=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Jk=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Ee={fromBig:e1,split:t1,toBig:Lk,shrSH:Ok,shrSL:Fk,rotrSH:Mk,rotrSL:Uk,rotrBH:Dk,rotrBL:_k,rotr32H:zk,rotr32L:Hk,rotlSH:n1,rotlSL:r1,rotlBH:i1,rotlBL:s1,add:Wk,add3L:Gk,add3H:Vk,add4L:Qk,add4H:$k,add5H:Jk,add5L:Kk},[Yk,Zk]=Ee.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ai=new Uint32Array(80),Ei=new Uint32Array(80);class Xk extends Xx{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:l,Eh:u,El:d,Fh:f,Fl:h,Gh:w,Gl:b,Hh:v,Hl:A}=this;return[e,n,r,i,s,a,o,l,u,d,f,h,w,b,v,A]}set(e,n,r,i,s,a,o,l,u,d,f,h,w,b,v,A){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=w|0,this.Gl=b|0,this.Hh=v|0,this.Hl=A|0}process(e,n){for(let y=0;y<16;y++,n+=4)Ai[y]=e.getUint32(n),Ei[y]=e.getUint32(n+=4);for(let y=16;y<80;y++){const k=Ai[y-15]|0,j=Ei[y-15]|0,O=Ee.rotrSH(k,j,1)^Ee.rotrSH(k,j,8)^Ee.shrSH(k,j,7),B=Ee.rotrSL(k,j,1)^Ee.rotrSL(k,j,8)^Ee.shrSL(k,j,7),E=Ai[y-2]|0,K=Ei[y-2]|0,_=Ee.rotrSH(E,K,19)^Ee.rotrBH(E,K,61)^Ee.shrSH(E,K,6),ee=Ee.rotrSL(E,K,19)^Ee.rotrBL(E,K,61)^Ee.shrSL(E,K,6),ye=Ee.add4L(B,ee,Ei[y-7],Ei[y-16]),G=Ee.add4H(ye,O,_,Ai[y-7],Ai[y-16]);Ai[y]=G|0,Ei[y]=ye|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:l,Dh:u,Dl:d,Eh:f,El:h,Fh:w,Fl:b,Gh:v,Gl:A,Hh:m,Hl:g}=this;for(let y=0;y<80;y++){const k=Ee.rotrSH(f,h,14)^Ee.rotrSH(f,h,18)^Ee.rotrBH(f,h,41),j=Ee.rotrSL(f,h,14)^Ee.rotrSL(f,h,18)^Ee.rotrBL(f,h,41),O=f&w^~f&v,B=h&b^~h&A,E=Ee.add5L(g,j,B,Zk[y],Ei[y]),K=Ee.add5H(E,m,k,O,Yk[y],Ai[y]),_=E|0,ee=Ee.rotrSH(r,i,28)^Ee.rotrBH(r,i,34)^Ee.rotrBH(r,i,39),ye=Ee.rotrSL(r,i,28)^Ee.rotrBL(r,i,34)^Ee.rotrBL(r,i,39),G=r&s^r&o^s&o,Z=i&a^i&l^a&l;m=v|0,g=A|0,v=w|0,A=b|0,w=f|0,b=h|0,{h:f,l:h}=Ee.add(u|0,d|0,K|0,_|0),u=o|0,d=l|0,o=s|0,l=a|0,s=r|0,a=i|0;const D=Ee.add3L(_,ye,Z);r=Ee.add3H(D,K,ee,G),i=D|0}({h:r,l:i}=Ee.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Ee.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l}=Ee.add(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:d}=Ee.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=Ee.add(this.Eh|0,this.El|0,f|0,h|0),{h:w,l:b}=Ee.add(this.Fh|0,this.Fl|0,w|0,b|0),{h:v,l:A}=Ee.add(this.Gh|0,this.Gl|0,v|0,A|0),{h:m,l:g}=Ee.add(this.Hh|0,this.Hl|0,m|0,g|0),this.set(r,i,s,a,o,l,u,d,f,h,w,b,v,A,m,g)}roundClean(){Ai.fill(0),Ei.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qk=og(()=>new Xk);function eS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const r0=eS();r0.crypto||r0.msCrypto;function tS(t){switch(t){case"sha256":return qx.create();case"sha512":return qk.create()}C(!1,"invalid hashing algorithm name","algorithm",t)}const[a1,o1,l1]=[[],[],[]],nS=BigInt(0),jl=BigInt(1),rS=BigInt(2),iS=BigInt(7),sS=BigInt(256),aS=BigInt(113);for(let t=0,e=jl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],a1.push(2*(5*r+n)),o1.push((t+1)*(t+2)/2%64);let i=nS;for(let s=0;s<7;s++)e=(e<<jl^(e>>iS)*aS)%sS,e&rS&&(i^=jl<<(jl<<BigInt(s))-jl);l1.push(i)}const[oS,lS]=t1(l1,!0),i0=(t,e,n)=>n>32?i1(t,e,n):n1(t,e,n),s0=(t,e,n)=>n>32?s1(t,e,n):r1(t,e,n);function cS(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,u=n[l],d=n[l+1],f=i0(u,d,1)^n[o],h=s0(u,d,1)^n[o+1];for(let w=0;w<50;w+=10)t[a+w]^=f,t[a+w+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=o1[a],l=i0(i,s,o),u=s0(i,s,o),d=a1[a];i=t[d],s=t[d+1],t[d]=l,t[d+1]=u}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=oS[r],t[1]^=lS[r]}n.fill(0)}class lg extends ag{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Nd(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ck(this.state)}keccak(){cS(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ll(this);const{blockLen:n,state:r}=this;e=gf(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ll(this,!1),sg(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Nd(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Kx(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new lg(n,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const uS=(t,e,n)=>og(()=>new lg(e,t,n)),dS=uS(1,136,256/8);let c1=!1;const u1=function(t){return dS(t)};let d1=u1;function yt(t){const e=Ce(t,"data");return ne(d1(e))}yt._=u1;yt.lock=function(){c1=!0};yt.register=function(t){if(c1)throw new TypeError("keccak256 is locked");d1=t};Object.freeze(yt);const f1=function(t){return tS("sha256").update(t).digest()};let p1=f1,h1=!1;function wl(t){const e=Ce(t,"data");return ne(p1(e))}wl._=f1;wl.lock=function(){h1=!0};wl.register=function(t){if(h1)throw new Error("sha256 is locked");p1=t};Object.freeze(wl);Object.freeze(wl);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const m1=BigInt(0),yf=BigInt(1),fS=BigInt(2),wf=t=>t instanceof Uint8Array,pS=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cl(t){if(!wf(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=pS[t[n]];return e}function g1(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function cg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ul(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");n[r]=a}return n}function aa(t){return cg(cl(t))}function ug(t){if(!wf(t))throw new Error("Uint8Array expected");return cg(cl(Uint8Array.from(t).reverse()))}function dl(t,e){return ul(t.toString(16).padStart(e*2,"0"))}function dg(t,e){return dl(t,e).reverse()}function hS(t){return ul(g1(t))}function Xn(t,e,n){let r;if(typeof e=="string")try{r=ul(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(wf(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function wc(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!wf(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function mS(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function gS(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function yS(t){let e;for(e=0;t>m1;t>>=yf,e+=1);return e}function wS(t,e){return t>>BigInt(e)&yf}const vS=(t,e,n)=>t|(n?yf:m1)<<BigInt(e),fg=t=>(fS<<BigInt(t-1))-yf,ap=t=>new Uint8Array(t),a0=t=>Uint8Array.from(t);function y1(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ap(t),i=ap(t),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...f)=>n(i,r,...f),l=(f=ap())=>{i=o(a0([0]),f),r=o(),f.length!==0&&(i=o(a0([1]),f),r=o())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){r=o();const w=r.slice();h.push(w),f+=r.length}return wc(...h)};return(f,h)=>{a(),l(f);let w;for(;!(w=h(u()));)l();return a(),w}}const xS={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Xc(t,e,n={}){const r=(i,s,a)=>{const o=xS[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=t[i];if(!(a&&l===void 0)&&!o(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const bS=Object.freeze(Object.defineProperty({__proto__:null,bitGet:wS,bitLen:yS,bitMask:fg,bitSet:vS,bytesToHex:cl,bytesToNumberBE:aa,bytesToNumberLE:ug,concatBytes:wc,createHmacDrbg:y1,ensureBytes:Xn,equalBytes:mS,hexToBytes:ul,hexToNumber:cg,numberToBytesBE:dl,numberToBytesLE:dg,numberToHexUnpadded:g1,numberToVarBytesBE:hS,utf8ToBytes:gS,validateObject:Xc},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const It=BigInt(0),mt=BigInt(1),Ns=BigInt(2),AS=BigInt(3),Ph=BigInt(4),o0=BigInt(5),l0=BigInt(8);BigInt(9);BigInt(16);function dn(t,e){const n=t%e;return n>=It?n:e+n}function ES(t,e,n){if(n<=It||e<It)throw new Error("Expected power/modulo > 0");if(n===mt)return It;let r=mt;for(;e>It;)e&mt&&(r=r*t%n),t=t*t%n,e>>=mt;return r}function Bn(t,e,n){let r=t;for(;e-- >It;)r*=r,r%=n;return r}function Rh(t,e){if(t===It||e<=It)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=dn(t,e),r=e,i=It,s=mt;for(;n!==It;){const o=r/n,l=r%n,u=i-s*o;r=n,n=l,i=s,s=u}if(r!==mt)throw new Error("invert: does not exist");return dn(i,e)}function CS(t){const e=(t-mt)/Ns;let n,r,i;for(n=t-mt,r=0;n%Ns===It;n/=Ns,r++);for(i=Ns;i<t&&ES(i,e,t)!==t-mt;i++);if(r===1){const a=(t+mt)/Ph;return function(l,u){const d=l.pow(u,a);if(!l.eql(l.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(n+mt)/Ns;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let u=r,d=o.pow(o.mul(o.ONE,i),n),f=o.pow(l,s),h=o.pow(l,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let w=1;for(let v=o.sqr(h);w<u&&!o.eql(v,o.ONE);w++)v=o.sqr(v);const b=o.pow(d,mt<<BigInt(u-w-1));d=o.sqr(b),f=o.mul(f,b),h=o.mul(h,d),u=w}return f}}function kS(t){if(t%Ph===AS){const e=(t+mt)/Ph;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%l0===o0){const e=(t-o0)/l0;return function(r,i){const s=r.mul(i,Ns),a=r.pow(s,e),o=r.mul(i,a),l=r.mul(r.mul(o,Ns),a),u=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return CS(t)}const SS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TS(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=SS.reduce((r,i)=>(r[i]="function",r),e);return Xc(t,n)}function NS(t,e,n){if(n<It)throw new Error("Expected power > 0");if(n===It)return t.ONE;if(n===mt)return e;let r=t.ONE,i=e;for(;n>It;)n&mt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=mt;return r}function IS(t,e){const n=new Array(e.length),r=e.reduce((s,a,o)=>t.is0(a)?s:(n[o]=s,t.mul(s,a)),t.ONE),i=t.inv(r);return e.reduceRight((s,a,o)=>t.is0(a)?s:(n[o]=t.mul(s,n[o]),t.mul(s,a)),i),n}function w1(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function PS(t,e,n=!1,r={}){if(t<=It)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=w1(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=kS(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:fg(i),ZERO:It,ONE:mt,create:l=>dn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return It<=l&&l<t},is0:l=>l===It,isOdd:l=>(l&mt)===mt,neg:l=>dn(-l,t),eql:(l,u)=>l===u,sqr:l=>dn(l*l,t),add:(l,u)=>dn(l+u,t),sub:(l,u)=>dn(l-u,t),mul:(l,u)=>dn(l*u,t),pow:(l,u)=>NS(o,l,u),div:(l,u)=>dn(l*Rh(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>Rh(l,t),sqrt:r.sqrt||(l=>a(o,l)),invertBatch:l=>IS(o,l),cmov:(l,u,d)=>d?u:l,toBytes:l=>n?dg(l,s):dl(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return n?ug(l):aa(l)}});return Object.freeze(o)}function v1(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function x1(t){const e=v1(t);return e+Math.ceil(e/2)}function RS(t,e,n=!1){const r=t.length,i=v1(e),s=x1(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const a=n?aa(t):ug(t),o=dn(a,e-mt)+mt;return n?dg(o,i):dl(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jS=BigInt(0),op=BigInt(1);function BS(t,e){const n=(i,s)=>{const a=s.negate();return i?a:s},r=i=>{const s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:n,unsafeLadder(i,s){let a=t.ZERO,o=i;for(;s>jS;)s&op&&(a=a.add(o)),o=o.double(),s>>=op;return a},precomputeWindow(i,s){const{windows:a,windowSize:o}=r(s),l=[];let u=i,d=u;for(let f=0;f<a;f++){d=u,l.push(d);for(let h=1;h<o;h++)d=d.add(u),l.push(d);u=d.double()}return l},wNAF(i,s,a){const{windows:o,windowSize:l}=r(i);let u=t.ZERO,d=t.BASE;const f=BigInt(2**i-1),h=2**i,w=BigInt(i);for(let b=0;b<o;b++){const v=b*l;let A=Number(a&f);a>>=w,A>l&&(A-=h,a+=op);const m=v,g=v+Math.abs(A)-1,y=b%2!==0,k=A<0;A===0?d=d.add(n(y,s[m])):u=u.add(n(k,s[g]))}return{p:u,f:d}},wNAFCached(i,s,a,o){const l=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,l),l!==1&&s.set(i,o(u))),this.wNAF(l,u,a)}}}function b1(t){return TS(t.Fp),Xc(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...w1(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function LS(t){const e=b1(t);Xc(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:OS,hexToBytes:FS}=bS,Fs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Fs;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:OS(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Fs,n=typeof t=="string"?FS(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Fs._parseInt(n.subarray(2)),{d:a,l:o}=Fs._parseInt(s);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,a=i.length/2,o=n(s),l=n(a);return`30${n(a+s+4)}02${l}${i}02${o}${r}`}},ti=BigInt(0),zn=BigInt(1);BigInt(2);const c0=BigInt(3);BigInt(4);function MS(t){const e=LS(t),{Fp:n}=e,r=e.toBytes||((b,v,A)=>{const m=v.toAffine();return wc(Uint8Array.from([4]),n.toBytes(m.x),n.toBytes(m.y))}),i=e.fromBytes||(b=>{const v=b.subarray(1),A=n.fromBytes(v.subarray(0,n.BYTES)),m=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:A,y:m}});function s(b){const{a:v,b:A}=e,m=n.sqr(b),g=n.mul(m,b);return n.add(n.add(g,n.mul(b,v)),A)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(b){return typeof b=="bigint"&&ti<b&&b<e.n}function o(b){if(!a(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(b){const{allowedPrivateKeyLengths:v,nByteLength:A,wrapPrivateKey:m,n:g}=e;if(v&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=cl(b)),typeof b!="string"||!v.includes(b.length))throw new Error("Invalid key");b=b.padStart(A*2,"0")}let y;try{y=typeof b=="bigint"?b:aa(Xn("private key",b,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof b}`)}return m&&(y=dn(y,g)),o(y),y}const u=new Map;function d(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(v,A,m){if(this.px=v,this.py=A,this.pz=m,v==null||!n.isValid(v))throw new Error("x required");if(A==null||!n.isValid(A))throw new Error("y required");if(m==null||!n.isValid(m))throw new Error("z required")}static fromAffine(v){const{x:A,y:m}=v||{};if(!v||!n.isValid(A)||!n.isValid(m))throw new Error("invalid affine point");if(v instanceof f)throw new Error("projective point not allowed");const g=y=>n.eql(y,n.ZERO);return g(A)&&g(m)?f.ZERO:new f(A,m,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const A=n.invertBatch(v.map(m=>m.pz));return v.map((m,g)=>m.toAffine(A[g])).map(f.fromAffine)}static fromHex(v){const A=f.fromAffine(i(Xn("pointHex",v)));return A.assertValidity(),A}static fromPrivateKey(v){return f.BASE.multiply(l(v))}_setWindowSize(v){this._WINDOW_SIZE=v,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:A}=this.toAffine();if(!n.isValid(v)||!n.isValid(A))throw new Error("bad point: x or y not FE");const m=n.sqr(A),g=s(v);if(!n.eql(m,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){d(v);const{px:A,py:m,pz:g}=this,{px:y,py:k,pz:j}=v,O=n.eql(n.mul(A,j),n.mul(y,g)),B=n.eql(n.mul(m,j),n.mul(k,g));return O&&B}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:A}=e,m=n.mul(A,c0),{px:g,py:y,pz:k}=this;let j=n.ZERO,O=n.ZERO,B=n.ZERO,E=n.mul(g,g),K=n.mul(y,y),_=n.mul(k,k),ee=n.mul(g,y);return ee=n.add(ee,ee),B=n.mul(g,k),B=n.add(B,B),j=n.mul(v,B),O=n.mul(m,_),O=n.add(j,O),j=n.sub(K,O),O=n.add(K,O),O=n.mul(j,O),j=n.mul(ee,j),B=n.mul(m,B),_=n.mul(v,_),ee=n.sub(E,_),ee=n.mul(v,ee),ee=n.add(ee,B),B=n.add(E,E),E=n.add(B,E),E=n.add(E,_),E=n.mul(E,ee),O=n.add(O,E),_=n.mul(y,k),_=n.add(_,_),E=n.mul(_,ee),j=n.sub(j,E),B=n.mul(_,K),B=n.add(B,B),B=n.add(B,B),new f(j,O,B)}add(v){d(v);const{px:A,py:m,pz:g}=this,{px:y,py:k,pz:j}=v;let O=n.ZERO,B=n.ZERO,E=n.ZERO;const K=e.a,_=n.mul(e.b,c0);let ee=n.mul(A,y),ye=n.mul(m,k),G=n.mul(g,j),Z=n.add(A,m),D=n.add(y,k);Z=n.mul(Z,D),D=n.add(ee,ye),Z=n.sub(Z,D),D=n.add(A,g);let z=n.add(y,j);return D=n.mul(D,z),z=n.add(ee,G),D=n.sub(D,z),z=n.add(m,g),O=n.add(k,j),z=n.mul(z,O),O=n.add(ye,G),z=n.sub(z,O),E=n.mul(K,D),O=n.mul(_,G),E=n.add(O,E),O=n.sub(ye,E),E=n.add(ye,E),B=n.mul(O,E),ye=n.add(ee,ee),ye=n.add(ye,ee),G=n.mul(K,G),D=n.mul(_,D),ye=n.add(ye,G),G=n.sub(ee,G),G=n.mul(K,G),D=n.add(D,G),ee=n.mul(ye,D),B=n.add(B,ee),ee=n.mul(z,D),O=n.mul(Z,O),O=n.sub(O,ee),ee=n.mul(Z,ye),E=n.mul(z,E),E=n.add(E,ee),new f(O,B,E)}subtract(v){return this.add(v.negate())}is0(){return this.equals(f.ZERO)}wNAF(v){return w.wNAFCached(this,u,v,A=>{const m=n.invertBatch(A.map(g=>g.pz));return A.map((g,y)=>g.toAffine(m[y])).map(f.fromAffine)})}multiplyUnsafe(v){const A=f.ZERO;if(v===ti)return A;if(o(v),v===zn)return this;const{endo:m}=e;if(!m)return w.unsafeLadder(this,v);let{k1neg:g,k1:y,k2neg:k,k2:j}=m.splitScalar(v),O=A,B=A,E=this;for(;y>ti||j>ti;)y&zn&&(O=O.add(E)),j&zn&&(B=B.add(E)),E=E.double(),y>>=zn,j>>=zn;return g&&(O=O.negate()),k&&(B=B.negate()),B=new f(n.mul(B.px,m.beta),B.py,B.pz),O.add(B)}multiply(v){o(v);let A=v,m,g;const{endo:y}=e;if(y){const{k1neg:k,k1:j,k2neg:O,k2:B}=y.splitScalar(A);let{p:E,f:K}=this.wNAF(j),{p:_,f:ee}=this.wNAF(B);E=w.constTimeNegate(k,E),_=w.constTimeNegate(O,_),_=new f(n.mul(_.px,y.beta),_.py,_.pz),m=E.add(_),g=K.add(ee)}else{const{p:k,f:j}=this.wNAF(A);m=k,g=j}return f.normalizeZ([m,g])[0]}multiplyAndAddUnsafe(v,A,m){const g=f.BASE,y=(j,O)=>O===ti||O===zn||!j.equals(g)?j.multiplyUnsafe(O):j.multiply(O),k=y(this,A).add(y(v,m));return k.is0()?void 0:k}toAffine(v){const{px:A,py:m,pz:g}=this,y=this.is0();v==null&&(v=y?n.ONE:n.inv(g));const k=n.mul(A,v),j=n.mul(m,v),O=n.mul(g,v);if(y)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:k,y:j}}isTorsionFree(){const{h:v,isTorsionFree:A}=e;if(v===zn)return!0;if(A)return A(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:A}=e;return v===zn?this:A?A(f,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(f,this,v)}toHex(v=!0){return cl(this.toRawBytes(v))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,w=BS(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function US(t){const e=b1(t);return Xc(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function DS(t){const e=US(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function a(D){return ti<D&&D<n.ORDER}function o(D){return dn(D,r)}function l(D){return Rh(D,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=MS({...e,toBytes(D,z,X){const T=z.toAffine(),F=n.toBytes(T.x),H=wc;return X?H(Uint8Array.from([z.hasEvenY()?2:3]),F):H(Uint8Array.from([4]),F,n.toBytes(T.y))},fromBytes(D){const z=D.length,X=D[0],T=D.subarray(1);if(z===i&&(X===2||X===3)){const F=aa(T);if(!a(F))throw new Error("Point is not on curve");const H=f(F);let M=n.sqrt(H);const ge=(M&zn)===zn;return(X&1)===1!==ge&&(M=n.neg(M)),{x:F,y:M}}else if(z===s&&X===4){const F=n.fromBytes(T.subarray(0,n.BYTES)),H=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:F,y:H}}else throw new Error(`Point of length ${z} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),w=D=>cl(dl(D,e.nByteLength));function b(D){const z=r>>zn;return D>z}function v(D){return b(D)?o(-D):D}const A=(D,z,X)=>aa(D.slice(z,X));class m{constructor(z,X,T){this.r=z,this.s=X,this.recovery=T,this.assertValidity()}static fromCompact(z){const X=e.nByteLength;return z=Xn("compactSignature",z,X*2),new m(A(z,0,X),A(z,X,2*X))}static fromDER(z){const{r:X,s:T}=Fs.toSig(Xn("DER",z));return new m(X,T)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(z){return new m(this.r,this.s,z)}recoverPublicKey(z){const{r:X,s:T,recovery:F}=this,H=B(Xn("msgHash",z));if(F==null||![0,1,2,3].includes(F))throw new Error("recovery id invalid");const M=F===2||F===3?X+e.n:X;if(M>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const ge=F&1?"03":"02",ke=u.fromHex(ge+w(M)),be=l(M),Le=o(-H*be),Ae=o(T*be),ze=u.BASE.multiplyAndAddUnsafe(ke,Le,Ae);if(!ze)throw new Error("point at infinify");return ze.assertValidity(),ze}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ul(this.toDERHex())}toDERHex(){return Fs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ul(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const g={isValidPrivateKey(D){try{return d(D),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const D=x1(e.n);return RS(e.randomBytes(D),e.n)},precompute(D=8,z=u.BASE){return z._setWindowSize(D),z.multiply(BigInt(3)),z}};function y(D,z=!0){return u.fromPrivateKey(D).toRawBytes(z)}function k(D){const z=D instanceof Uint8Array,X=typeof D=="string",T=(z||X)&&D.length;return z?T===i||T===s:X?T===2*i||T===2*s:D instanceof u}function j(D,z,X=!0){if(k(D))throw new Error("first arg must be private key");if(!k(z))throw new Error("second arg must be public key");return u.fromHex(z).multiply(d(D)).toRawBytes(X)}const O=e.bits2int||function(D){const z=aa(D),X=D.length*8-e.nBitLength;return X>0?z>>BigInt(X):z},B=e.bits2int_modN||function(D){return o(O(D))},E=fg(e.nBitLength);function K(D){if(typeof D!="bigint")throw new Error("bigint expected");if(!(ti<=D&&D<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return dl(D,e.nByteLength)}function _(D,z,X=ee){if(["recovered","canonical"].some(He=>He in X))throw new Error("sign() legacy options not supported");const{hash:T,randomBytes:F}=e;let{lowS:H,prehash:M,extraEntropy:ge}=X;H==null&&(H=!0),D=Xn("msgHash",D),M&&(D=Xn("prehashed msgHash",T(D)));const ke=B(D),be=d(z),Le=[K(be),K(ke)];if(ge!=null){const He=ge===!0?F(n.BYTES):ge;Le.push(Xn("extraEntropy",He))}const Ae=wc(...Le),ze=ke;function on(He){const We=O(He);if(!h(We))return;const Ge=l(We),Je=u.BASE.multiply(We).toAffine(),U=o(Je.x);if(U===ti)return;const re=o(Ge*o(ze+U*be));if(re===ti)return;let Ie=(Je.x===U?0:2)|Number(Je.y&zn),Me=re;return H&&b(re)&&(Me=v(re),Ie^=1),new m(U,Me,Ie)}return{seed:Ae,k2sig:on}}const ee={lowS:e.lowS,prehash:!1},ye={lowS:e.lowS,prehash:!1};function G(D,z,X=ee){const{seed:T,k2sig:F}=_(D,z,X),H=e;return y1(H.hash.outputLen,H.nByteLength,H.hmac)(T,F)}u.BASE._setWindowSize(8);function Z(D,z,X,T=ye){var Je;const F=D;if(z=Xn("msgHash",z),X=Xn("publicKey",X),"strict"in T)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:M}=T;let ge,ke;try{if(typeof F=="string"||F instanceof Uint8Array)try{ge=m.fromDER(F)}catch(U){if(!(U instanceof Fs.Err))throw U;ge=m.fromCompact(F)}else if(typeof F=="object"&&typeof F.r=="bigint"&&typeof F.s=="bigint"){const{r:U,s:re}=F;ge=new m(U,re)}else throw new Error("PARSE");ke=u.fromHex(X)}catch(U){if(U.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&ge.hasHighS())return!1;M&&(z=e.hash(z));const{r:be,s:Le}=ge,Ae=B(z),ze=l(Le),on=o(Ae*ze),He=o(be*ze),We=(Je=u.BASE.multiplyAndAddUnsafe(ke,on,He))==null?void 0:Je.toAffine();return We?o(We.x)===be:!1}return{CURVE:e,getPublicKey:y,getSharedSecret:j,sign:G,verify:Z,ProjectivePoint:u,Signature:m,utils:g}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _S(t){return{hash:t,hmac:(e,...n)=>Zx(t,e,Tk(...n)),randomBytes:Nk}}function zS(t,e){const n=r=>DS({...t,..._S(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const A1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),u0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),HS=BigInt(1),jh=BigInt(2),d0=(t,e)=>(t+e/jh)/e;function WS(t){const e=A1,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Bn(d,n,e)*d%e,h=Bn(f,n,e)*d%e,w=Bn(h,jh,e)*u%e,b=Bn(w,i,e)*w%e,v=Bn(b,s,e)*b%e,A=Bn(v,o,e)*v%e,m=Bn(A,l,e)*A%e,g=Bn(m,o,e)*v%e,y=Bn(g,n,e)*d%e,k=Bn(y,a,e)*b%e,j=Bn(k,r,e)*u%e,O=Bn(j,jh,e);if(!Bh.eql(Bh.sqr(O),t))throw new Error("Cannot find square root");return O}const Bh=PS(A1,void 0,void 0,{sqrt:WS}),Ci=zS({a:BigInt(0),b:BigInt(7),Fp:Bh,n:u0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=u0,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-HS*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),o=d0(s*t,e),l=d0(-r*t,e);let u=dn(t-o*n-l*i,e),d=dn(-o*r-l*s,e);const f=u>a,h=d>a;if(f&&(u=e-u),h&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},qx);BigInt(0);Ci.ProjectivePoint;const vc="0x0000000000000000000000000000000000000000",f0="0x0000000000000000000000000000000000000000000000000000000000000000",p0=BigInt(0),h0=BigInt(1),Lh=BigInt(2),m0=BigInt(27),g0=BigInt(28),Cu=BigInt(35),E1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),GS=E1/Lh,VS=Symbol.for("nodejs.util.inspect.custom"),xs={};function lp(t){return mi(wt(t),32)}var bo,br,Ao,Li;const Ln=class Ln{constructor(e,n,r,i){L(this,bo);L(this,br);L(this,Ao);L(this,Li);Jc(e,xs,"Signature"),x(this,bo,n),x(this,br,r),x(this,Ao,i),x(this,Li,null)}get r(){return p(this,bo)}set r(e){C(lo(e)===32,"invalid r","value",e),x(this,bo,ne(e))}get s(){return C(parseInt(p(this,br).substring(0,3))<8,"non-canonical s; use ._s","s",p(this,br)),p(this,br)}set s(e){C(lo(e)===32,"invalid s","value",e),x(this,br,ne(e))}get _s(){return p(this,br)}isValid(){return BigInt(p(this,br))<=GS}get v(){return p(this,Ao)}set v(e){const n=xe(e,"value");C(n===27||n===28,"invalid v","v",e),x(this,Ao,n)}get networkV(){return p(this,Li)}get legacyChainId(){const e=this.networkV;return e==null?null:Ln.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ce(this.s);return this.yParity&&(e[0]|=128),ne(e)}get compactSerialized(){return rt([this.r,this.yParityAndS])}get serialized(){return rt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}getCanonical(){if(this.isValid())return this;const e=E1-BigInt(this._s),n=55-this.v,r=new Ln(xs,this.r,lp(e),n);return this.networkV&&x(r,Li,this.networkV),r}clone(){const e=new Ln(xs,this.r,this._s,this.v);return this.networkV&&x(e,Li,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}[VS](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){const n=ae(e,"v");return n==m0||n==g0?p0:(C(n>=Cu,"invalid EIP-155 v","v",e),(n-Cu)/Lh)}static getChainIdV(e,n){return ae(e)*Lh+BigInt(35+n-27)}static getNormalizedV(e){const n=ae(e);return n===p0||n===m0?27:n===h0||n===g0?28:(C(n>=Cu,"invalid v","v",e),n&h0?27:28)}static from(e){function n(u,d){C(u,d,"signature",e)}if(e==null)return new Ln(xs,f0,f0,27);if(typeof e=="string"){const u=Ce(e,"signature");if(u.length===64){const d=ne(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new Ln(xs,d,ne(f),h)}if(u.length===65){const d=ne(u.slice(0,32)),f=ne(u.slice(32,64)),h=Ln.getNormalizedV(u[64]);return new Ln(xs,d,f,h)}n(!1,"invalid raw signature length")}if(e instanceof Ln)return e.clone();const r=e.r;n(r!=null,"missing r");const i=lp(r),s=function(u,d){if(u!=null)return lp(u);if(d!=null){n(Ze(d,32),"invalid yParityAndS");const f=Ce(d);return f[0]&=127,ne(f)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:o}=function(u,d,f){if(u!=null){const h=ae(u);return{networkV:h>=Cu?h:void 0,v:Ln.getNormalizedV(h)}}if(d!=null)return n(Ze(d,32),"invalid yParityAndS"),{v:Ce(d)[0]&128?28:27};if(f!=null){switch(xe(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Ln(xs,i,s,o);return a&&x(l,Li,a),n(e.yParity==null||xe(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};bo=new WeakMap,br=new WeakMap,Ao=new WeakMap,Li=new WeakMap;let wn=Ln;var $r;const Is=class Is{constructor(e){L(this,$r);C(lo(e)===32,"invalid private key","privateKey","[REDACTED]"),x(this,$r,ne(e))}get privateKey(){return p(this,$r)}get publicKey(){return Is.computePublicKey(p(this,$r))}get compressedPublicKey(){return Is.computePublicKey(p(this,$r),!0)}sign(e){C(lo(e)===32,"invalid digest length","digest",e);const n=Ci.sign(qt(e),qt(p(this,$r)),{lowS:!0});return wn.from({r:us(n.r,32),s:us(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Is.computePublicKey(e);return ne(Ci.getSharedSecret(qt(p(this,$r)),Ce(n),!1))}static computePublicKey(e,n){let r=Ce(e,"key");if(r.length===32){const s=Ci.getPublicKey(r,!!n);return ne(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=Ci.ProjectivePoint.fromHex(r);return ne(i.toRawBytes(n))}static recoverPublicKey(e,n){C(lo(e)===32,"invalid digest length","digest",e);const r=wn.from(n);let i=Ci.Signature.fromCompact(qt(rt([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(qt(e));return C(s!=null,"invalid signature for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=Ci.ProjectivePoint.fromHex(Is.computePublicKey(e).substring(2)),s=Ci.ProjectivePoint.fromHex(Is.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};$r=new WeakMap;let xc=Is;const QS=BigInt(0),$S=BigInt(36);function y0(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=Ce(yt(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const pg={};for(let t=0;t<10;t++)pg[String(t)]=String(t);for(let t=0;t<26;t++)pg[String.fromCharCode(65+t)]=String(10+t);const w0=15;function KS(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>pg[r]).join("");for(;e.length>=w0;){let r=e.substring(0,w0);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const JS=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function YS(t){t=t.toLowerCase();let e=QS;for(let n=0;n<t.length;n++)e=e*$S+JS[t[n]];return e}function _e(t){if(C(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=y0(t);return C(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){C(t.substring(2,4)===KS(t),"bad icap checksum","address",t);let e=YS(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return y0("0x"+e)}C(!1,"invalid address","address",t)}function ZS(t){const e=_e(t.from);let r=ae(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,_e(dt(yt(li([e,r])),12))}function C1(t){return t&&typeof t.getAddress=="function"}async function cp(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(W(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),C(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),_e(n)}function tn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?_e(t):(W(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),cp(t,e.resolveName(t)));if(C1(t))return cp(t,t.getAddress());if(t&&typeof t.then=="function")return cp(t,t);C(!1,"unsupported addressable value","target",t)}const _r={};function ie(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new $t(_r,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Fe(t,e){return new $t(_r,`bytes${e||""}`,t,{size:e})}const v0=Symbol.for("_ethers_typed");var Ks;const zr=class zr{constructor(e,n,r,i){I(this,"type");I(this,"value");L(this,Ks);I(this,"_typedSymbol");i==null&&(i=null),Jc(_r,e,"Typed"),me(this,{_typedSymbol:v0,type:n,value:r}),x(this,Ks,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return p(this,Ks)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return p(this,Ks)===!0?-1:p(this,Ks)===!1?this.value.length:null}static from(e,n){return new zr(_r,e,n)}static uint8(e){return ie(e,8)}static uint16(e){return ie(e,16)}static uint24(e){return ie(e,24)}static uint32(e){return ie(e,32)}static uint40(e){return ie(e,40)}static uint48(e){return ie(e,48)}static uint56(e){return ie(e,56)}static uint64(e){return ie(e,64)}static uint72(e){return ie(e,72)}static uint80(e){return ie(e,80)}static uint88(e){return ie(e,88)}static uint96(e){return ie(e,96)}static uint104(e){return ie(e,104)}static uint112(e){return ie(e,112)}static uint120(e){return ie(e,120)}static uint128(e){return ie(e,128)}static uint136(e){return ie(e,136)}static uint144(e){return ie(e,144)}static uint152(e){return ie(e,152)}static uint160(e){return ie(e,160)}static uint168(e){return ie(e,168)}static uint176(e){return ie(e,176)}static uint184(e){return ie(e,184)}static uint192(e){return ie(e,192)}static uint200(e){return ie(e,200)}static uint208(e){return ie(e,208)}static uint216(e){return ie(e,216)}static uint224(e){return ie(e,224)}static uint232(e){return ie(e,232)}static uint240(e){return ie(e,240)}static uint248(e){return ie(e,248)}static uint256(e){return ie(e,256)}static uint(e){return ie(e,256)}static int8(e){return ie(e,-8)}static int16(e){return ie(e,-16)}static int24(e){return ie(e,-24)}static int32(e){return ie(e,-32)}static int40(e){return ie(e,-40)}static int48(e){return ie(e,-48)}static int56(e){return ie(e,-56)}static int64(e){return ie(e,-64)}static int72(e){return ie(e,-72)}static int80(e){return ie(e,-80)}static int88(e){return ie(e,-88)}static int96(e){return ie(e,-96)}static int104(e){return ie(e,-104)}static int112(e){return ie(e,-112)}static int120(e){return ie(e,-120)}static int128(e){return ie(e,-128)}static int136(e){return ie(e,-136)}static int144(e){return ie(e,-144)}static int152(e){return ie(e,-152)}static int160(e){return ie(e,-160)}static int168(e){return ie(e,-168)}static int176(e){return ie(e,-176)}static int184(e){return ie(e,-184)}static int192(e){return ie(e,-192)}static int200(e){return ie(e,-200)}static int208(e){return ie(e,-208)}static int216(e){return ie(e,-216)}static int224(e){return ie(e,-224)}static int232(e){return ie(e,-232)}static int240(e){return ie(e,-240)}static int248(e){return ie(e,-248)}static int256(e){return ie(e,-256)}static int(e){return ie(e,-256)}static bytes1(e){return Fe(e,1)}static bytes2(e){return Fe(e,2)}static bytes3(e){return Fe(e,3)}static bytes4(e){return Fe(e,4)}static bytes5(e){return Fe(e,5)}static bytes6(e){return Fe(e,6)}static bytes7(e){return Fe(e,7)}static bytes8(e){return Fe(e,8)}static bytes9(e){return Fe(e,9)}static bytes10(e){return Fe(e,10)}static bytes11(e){return Fe(e,11)}static bytes12(e){return Fe(e,12)}static bytes13(e){return Fe(e,13)}static bytes14(e){return Fe(e,14)}static bytes15(e){return Fe(e,15)}static bytes16(e){return Fe(e,16)}static bytes17(e){return Fe(e,17)}static bytes18(e){return Fe(e,18)}static bytes19(e){return Fe(e,19)}static bytes20(e){return Fe(e,20)}static bytes21(e){return Fe(e,21)}static bytes22(e){return Fe(e,22)}static bytes23(e){return Fe(e,23)}static bytes24(e){return Fe(e,24)}static bytes25(e){return Fe(e,25)}static bytes26(e){return Fe(e,26)}static bytes27(e){return Fe(e,27)}static bytes28(e){return Fe(e,28)}static bytes29(e){return Fe(e,29)}static bytes30(e){return Fe(e,30)}static bytes31(e){return Fe(e,31)}static bytes32(e){return Fe(e,32)}static address(e){return new zr(_r,"address",e)}static bool(e){return new zr(_r,"bool",!!e)}static bytes(e){return new zr(_r,"bytes",e)}static string(e){return new zr(_r,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new zr(_r,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===v0}static dereference(e,n){if(zr.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Ks=new WeakMap;let $t=zr;class XS extends wi{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=$t.dereference(n,"string");try{r=_e(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return _e(us(e.readValue(),20))}}class qS extends wi{constructor(n){super(n.name,n.type,"_",n.dynamic);I(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function k1(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(u=>{const d=u.localName;return W(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),W(!l[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),l[d]=!0,n[d]})}else C(!1,"invalid tuple value","tuple",n);C(e.length===r.length,"types/value length mismatch","tuple",n);let i=new Sh,s=new Sh,a=[];e.forEach((l,u)=>{let d=r[u];if(l.dynamic){let f=s.length;l.encode(s,d);let h=i.writeUpdatableValue();a.push(w=>{h(w+f)})}else l.encode(i,d)}),a.forEach(l=>{l(i.length)});let o=t.appendWriter(i);return o+=t.appendWriter(s),o}function S1(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let a=null;if(s.dynamic){let o=t.readIndex(),l=i.subReader(o);try{a=s.decode(l)}catch(u){if(Ot(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(o){if(Ot(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}if(a==null)throw new Error("investigate");n.push(a),r.push(s.localName||null)}),ol.fromItems(n,r)}class eT extends wi{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",a=r===-1||n.dynamic;super("array",s,i,a);I(this,"coder");I(this,"length");me(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=$t.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),Lx(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<i.length;o++)a.push(this.coder);return k1(n,a,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),W(r*en<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*en,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new qS(this.coder));return S1(n,i)}}class tT extends wi{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=$t.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class T1 extends wi{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=qt(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class nT extends T1{constructor(e){super("bytes",e)}decode(e){return ne(super.decode(e))}}class rT extends wi{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);I(this,"size");me(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=qt($t.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return ne(n.readBytes(this.size))}}const iT=new Uint8Array([]);class sT extends wi{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(iT)}decode(e){return e.readBytes(0),null}}const aT=BigInt(0),oT=BigInt(1),lT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class cT extends wi{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);I(this,"size");I(this,"signed");me(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=ae($t.dereference(r,this.type)),s=Os(lT,en*8);if(this.signed){let a=Os(s,this.size*8-1);(i>a||i<-(a+oT))&&this._throwError("value out-of-bounds",r),i=Mx(i,8*en)}else(i<aT||i>Os(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=Os(n.readValue(),this.size*8);return this.signed&&(r=kd(r,this.size*8)),r}}class uT extends T1{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,oi($t.dereference(n,"string")))}decode(e){return Sd(super.decode(e))}}class ku extends wi{constructor(n,r){let i=!1;const s=[];n.forEach(o=>{o.dynamic&&(i=!0),s.push(o.type)});const a="tuple("+s.join(",")+")";super("tuple",a,r,i);I(this,"coders");me(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,s)=>{let a=i.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),n[a]==null&&(n[a]=n[s]))}),Object.freeze(n)}encode(n,r){const i=$t.dereference(r,"tuple");return k1(n,this.coders,i)}decode(n){return S1(n,this.coders)}}function up(t,e){return{address:_e(t),storageKeys:e.map((n,r)=>(C(Ze(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Aa(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(C(n.length===2,"invalid slot set",`value[${r}]`,n),up(n[0],n[1])):(C(n!=null&&typeof n=="object","invalid address-slot set","value",t),up(n.address,n.storageKeys)));C(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return up(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function N1(t){return{address:_e(t.address),nonce:ae(t.nonce!=null?t.nonce:0),chainId:ae(t.chainId!=null?t.chainId:0),signature:wn.from(t.signature)}}function dT(t){let e;return typeof t=="string"?e=xc.computePublicKey(t,!1):e=t.publicKey,_e(yt("0x"+e.substring(4)).substring(26))}function fT(t,e){return dT(xc.recoverPublicKey(t,e))}const Nt=BigInt(0),pT=BigInt(2),hT=BigInt(27),mT=BigInt(28),gT=BigInt(35),yT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),wT=Symbol.for("nodejs.util.inspect.custom"),dp=4096*32,Wu=128;function vT(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ce(t.blobToKzgCommitment(ne(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ce(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Ce(t.blobToKZGCommitment(ne(r)));C(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Ce(t.computeBlobProof(ne(r),ne(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Ce(t.computeBlobKZGProof(ne(r),ne(i)));C(!1,"unsupported KZG library","kzg",t)}}}function x0(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=wl(e).substring(4),"0x"+n}function vl(t){return t==="0x"?null:_e(t)}function vf(t,e){try{return Aa(t)}catch(n){C(!1,n.message,e,t)}}function xT(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const i=t[r];if(!Array.isArray(i))throw new Error(`authorization[${r}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!i[1])throw new Error(`authorization[${r}]: null address`);n.push({address:vl(i[1]),nonce:Ke(i[2],"nonce"),chainId:Ke(i[0],"chainId"),signature:wn.from({yParity:Ea(i[3],"yParity"),r:mi(i[4],32),s:mi(i[5],32)})})}return n}catch(n){C(!1,n.message,e,t)}}function Ea(t,e){return t==="0x"?0:xe(t,e)}function Ke(t,e){if(t==="0x")return Nt;const n=ae(t,e);return C(n<=yT,"value exceeds uint size",e,n),n}function je(t,e){const n=ae(t,"value"),r=wt(n);return C(r.length<=32,"value too large",`tx.${e}`,n),r}function xf(t){return Aa(t).map(e=>[e.address,e.storageKeys])}function bT(t){return t.map(e=>[je(e.chainId,"chainId"),e.address,je(e.nonce,"nonce"),je(e.signature.yParity,"yParity"),wt(e.signature.r),wt(e.signature._s)])}function AT(t,e){C(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)C(Ze(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function ET(t){const e=Zc(t);C(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Ea(e[0],"nonce"),gasPrice:Ke(e[1],"gasPrice"),gasLimit:Ke(e[2],"gasLimit"),to:vl(e[3]),value:Ke(e[4],"value"),data:ne(e[5]),chainId:Nt};if(e.length===6)return n;const r=Ke(e[6],"v"),i=Ke(e[7],"r"),s=Ke(e[8],"s");if(i===Nt&&s===Nt)n.chainId=r;else{let a=(r-gT)/pT;a<Nt&&(a=Nt),n.chainId=a,C(a!==Nt||r===hT||r===mT,"non-canonical legacy v","v",e[6]),n.signature=wn.from({r:mi(e[7],32),s:mi(e[8],32),v:r})}return n}function CT(t,e){const n=[je(t.nonce,"nonce"),je(t.gasPrice||0,"gasPrice"),je(t.gasLimit,"gasLimit"),t.to||"0x",je(t.value,"value"),t.data];let r=Nt;if(t.chainId!=Nt)r=ae(t.chainId,"tx.chainId"),C(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==Nt&&(n.push(wt(r)),n.push("0x"),n.push("0x")),li(n);let i=BigInt(27+e.yParity);return r!==Nt?i=wn.getChainIdV(r,e.v):BigInt(e.v)!==i&&C(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(wt(i)),n.push(wt(e.r)),n.push(wt(e._s)),li(n)}function bf(t,e){let n;try{if(n=Ea(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{C(!1,"invalid yParity","yParity",e[0])}const r=mi(e[1],32),i=mi(e[2],32),s=wn.from({r,s:i,yParity:n});t.signature=s}function kT(t){const e=Zc(Ce(t).slice(1));C(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ne(t));const n={type:2,chainId:Ke(e[0],"chainId"),nonce:Ea(e[1],"nonce"),maxPriorityFeePerGas:Ke(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ke(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ke(e[4],"gasLimit"),to:vl(e[5]),value:Ke(e[6],"value"),data:ne(e[7]),accessList:vf(e[8],"accessList")};return e.length===9||bf(n,e.slice(9)),n}function ST(t,e){const n=[je(t.chainId,"chainId"),je(t.nonce,"nonce"),je(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),je(t.maxFeePerGas||0,"maxFeePerGas"),je(t.gasLimit,"gasLimit"),t.to||"0x",je(t.value,"value"),t.data,xf(t.accessList||[])];return e&&(n.push(je(e.yParity,"yParity")),n.push(wt(e.r)),n.push(wt(e.s))),rt(["0x02",li(n)])}function TT(t){const e=Zc(Ce(t).slice(1));C(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ne(t));const n={type:1,chainId:Ke(e[0],"chainId"),nonce:Ea(e[1],"nonce"),gasPrice:Ke(e[2],"gasPrice"),gasLimit:Ke(e[3],"gasLimit"),to:vl(e[4]),value:Ke(e[5],"value"),data:ne(e[6]),accessList:vf(e[7],"accessList")};return e.length===8||bf(n,e.slice(8)),n}function NT(t,e){const n=[je(t.chainId,"chainId"),je(t.nonce,"nonce"),je(t.gasPrice||0,"gasPrice"),je(t.gasLimit,"gasLimit"),t.to||"0x",je(t.value,"value"),t.data,xf(t.accessList||[])];return e&&(n.push(je(e.yParity,"recoveryParam")),n.push(wt(e.r)),n.push(wt(e.s))),rt(["0x01",li(n)])}function IT(t){let e=Zc(Ce(t).slice(1)),n="3",r=null,i=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const a=e[1],o=e[2],l=e[3];C(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),C(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),C(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),C(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),C(a.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let u=0;u<e[1].length;u++)i.push({data:a[u],commitment:o[u],proof:l[u]});e=e[0]}else if(e.length===5&&Array.isArray(e[0])){n="3 (EIP-7594 network format)",r=xe(e[1]);const a=e[2],o=e[3],l=e[4];C(r===1,`unsupported EIP-7594 network format version: ${r}`,"fields[1]",r),C(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),C(Array.isArray(o),"invalid EIP-7594 network format: commitments not an array","fields[3]",o),C(Array.isArray(l),"invalid EIP-7594 network format: proofs not an array","fields[4]",l),C(a.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),C(a.length*Wu===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),i=[];for(let u=0;u<a.length;u++){const d=[];for(let f=0;f<Wu;f++)d.push(l[u*Wu+f]);i.push({data:a[u],commitment:o[u],proof:rt(d)})}e=e[0]}C(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",ne(t));const s={type:3,chainId:Ke(e[0],"chainId"),nonce:Ea(e[1],"nonce"),maxPriorityFeePerGas:Ke(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ke(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ke(e[4],"gasLimit"),to:vl(e[5]),value:Ke(e[6],"value"),data:ne(e[7]),accessList:vf(e[8],"accessList"),maxFeePerBlobGas:Ke(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10],blobWrapperVersion:r};i&&(s.blobs=i),C(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),C(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let a=0;a<s.blobVersionedHashes.length;a++)C(Ze(s.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",t);return e.length===11||bf(s,e.slice(11)),s}function PT(t,e,n){const r=[je(t.chainId,"chainId"),je(t.nonce,"nonce"),je(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),je(t.maxFeePerGas||0,"maxFeePerGas"),je(t.gasLimit,"gasLimit"),t.to||vc,je(t.value,"value"),t.data,xf(t.accessList||[]),je(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),AT(t.blobVersionedHashes||[],"blobVersionedHashes")];if(e&&(r.push(je(e.yParity,"yParity")),r.push(wt(e.r)),r.push(wt(e.s)),n)){if(t.blobWrapperVersion!=null){const i=wt(t.blobWrapperVersion),s=[];for(const{proof:a}of n){const o=Ce(a),l=o.length/Wu;for(let u=0;u<o.length;u+=l)s.push(o.subarray(u,u+l))}return rt(["0x03",li([r,i,n.map(a=>a.data),n.map(a=>a.commitment),s])])}return rt(["0x03",li([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])])}return rt(["0x03",li(r)])}function RT(t){const e=Zc(Ce(t).slice(1));C(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ne(t));const n={type:4,chainId:Ke(e[0],"chainId"),nonce:Ea(e[1],"nonce"),maxPriorityFeePerGas:Ke(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ke(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ke(e[4],"gasLimit"),to:vl(e[5]),value:Ke(e[6],"value"),data:ne(e[7]),accessList:vf(e[8],"accessList"),authorizationList:xT(e[9],"authorizationList")};return e.length===10||bf(n,e.slice(10)),n}function jT(t,e){const n=[je(t.chainId,"chainId"),je(t.nonce,"nonce"),je(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),je(t.maxFeePerGas||0,"maxFeePerGas"),je(t.gasLimit,"gasLimit"),t.to||"0x",je(t.value,"value"),t.data,xf(t.accessList||[]),bT(t.authorizationList||[])];return e&&(n.push(je(e.yParity,"yParity")),n.push(wt(e.r)),n.push(wt(e.s))),rt(["0x04",li(n)])}var nr,Eo,Co,ko,So,To,No,Io,Po,Ro,jo,Bo,Js,Oi,Ar,Fi,Lo,Oo,Fo,Gu;const vr=class vr{constructor(){L(this,Fo);L(this,nr);L(this,Eo);L(this,Co);L(this,ko);L(this,So);L(this,To);L(this,No);L(this,Io);L(this,Po);L(this,Ro);L(this,jo);L(this,Bo);L(this,Js);L(this,Oi);L(this,Ar);L(this,Fi);L(this,Lo);L(this,Oo);x(this,nr,null),x(this,Eo,null),x(this,ko,0),x(this,So,Nt),x(this,To,null),x(this,No,null),x(this,Io,null),x(this,Co,"0x"),x(this,Po,Nt),x(this,Ro,Nt),x(this,jo,null),x(this,Bo,null),x(this,Js,null),x(this,Oi,null),x(this,Ar,null),x(this,Fi,null),x(this,Lo,null),x(this,Oo,null)}get type(){return p(this,nr)}set type(e){switch(e){case null:x(this,nr,null);break;case 0:case"legacy":x(this,nr,0);break;case 1:case"berlin":case"eip-2930":x(this,nr,1);break;case 2:case"london":case"eip-1559":x(this,nr,2);break;case 3:case"cancun":case"eip-4844":x(this,nr,3);break;case 4:case"pectra":case"eip-7702":x(this,nr,4);break;default:C(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=p(this,Eo);return e==null&&this.type===3?vc:e}set to(e){x(this,Eo,e==null?null:_e(e))}get nonce(){return p(this,ko)}set nonce(e){x(this,ko,xe(e,"value"))}get gasLimit(){return p(this,So)}set gasLimit(e){x(this,So,ae(e))}get gasPrice(){const e=p(this,To);return e==null&&(this.type===0||this.type===1)?Nt:e}set gasPrice(e){x(this,To,e==null?null:ae(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=p(this,No);return e??(this.type===2||this.type===3?Nt:null)}set maxPriorityFeePerGas(e){x(this,No,e==null?null:ae(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=p(this,Io);return e??(this.type===2||this.type===3?Nt:null)}set maxFeePerGas(e){x(this,Io,e==null?null:ae(e,"maxFeePerGas"))}get data(){return p(this,Co)}set data(e){x(this,Co,ne(e))}get value(){return p(this,Po)}set value(e){x(this,Po,ae(e,"value"))}get chainId(){return p(this,Ro)}set chainId(e){x(this,Ro,ae(e))}get signature(){return p(this,jo)||null}set signature(e){x(this,jo,e==null?null:wn.from(e))}isValid(){const e=this.signature;if(e&&!e.isValid())return!1;const n=this.authorizationList;if(n){for(const r of n)if(!r.signature.isValid())return!1}return!0}get accessList(){const e=p(this,Bo)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){x(this,Bo,e==null?null:Aa(e))}get authorizationList(){const e=p(this,Lo)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){x(this,Lo,e==null?null:e.map(n=>N1(n)))}get maxFeePerBlobGas(){const e=p(this,Js);return e==null&&this.type===3?Nt:e}set maxFeePerBlobGas(e){x(this,Js,e==null?null:ae(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=p(this,Oi);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){C(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)C(Ze(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}x(this,Oi,e)}get blobs(){return p(this,Fi)==null?null:p(this,Fi).map(e=>Object.assign({},e))}set blobs(e){if(e==null){x(this,Fi,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(ig(s)){W(p(this,Ar),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=Ce(s);if(C(a.length<=dp,"blob is too large",`blobs[${i}]`,s),a.length!==dp){const u=new Uint8Array(dp);u.set(a),a=u}const o=p(this,Ar).blobToKzgCommitment(a),l=ne(p(this,Ar).computeBlobKzgProof(a,o));n.push({data:ne(a),commitment:ne(o),proof:l}),r.push(x0(1,o))}else{const a=ne(s.data),o=ne(s.commitment),l=ne(s.proof);n.push({data:a,commitment:o,proof:l}),r.push(x0(1,o))}}x(this,Fi,n),x(this,Oi,r)}get kzg(){return p(this,Ar)}set kzg(e){e==null?x(this,Ar,null):x(this,Ar,vT(e))}get blobWrapperVersion(){return p(this,Oo)}set blobWrapperVersion(e){x(this,Oo,e)}get hash(){return this.signature==null?null:yt(V(this,Fo,Gu).call(this,!0,!1))}get unsignedHash(){return yt(this.unsignedSerialized)}get from(){return this.signature==null?null:fT(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return this.signature==null?null:xc.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return this.signature!=null}get serialized(){return V(this,Fo,Gu).call(this,!0,!0)}get unsignedSerialized(){return V(this,Fo,Gu).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=p(this,Js)!=null||p(this,Oi);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&W(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),W(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),W(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return vr.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[wT](){return this.toString()}toString(){const e=[],n=i=>{let s=this[i];typeof s=="string"&&(s=JSON.stringify(s)),e.push(`${i}: ${s}`)};this.type&&n("type"),n("to"),n("data"),n("nonce"),n("gasLimit"),n("value"),this.chainId!=null&&n("chainId"),this.signature&&(n("from"),e.push(`signature: ${this.signature.toString()}`));const r=this.authorizationList;if(r){const i=[];for(const s of r){const a=[];a.push(`address: ${JSON.stringify(s.address)}`),s.nonce!=null&&a.push(`nonce: ${s.nonce}`),s.chainId!=null&&a.push(`chainId: ${s.chainId}`),s.signature&&a.push(`signature: ${s.signature.toString()}`),i.push(`Authorization { ${a.join(", ")} }`)}e.push(`authorizations: [ ${i.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(e==null)return new vr;if(typeof e=="string"){const r=Ce(e);if(r[0]>=127)return vr.from(ET(r));switch(r[0]){case 1:return vr.from(TT(r));case 2:return vr.from(kT(r));case 3:return vr.from(IT(r));case 4:return vr.from(RT(r))}W(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new vr;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=wn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobWrapperVersion!=null&&(n.blobWrapperVersion=e.blobWrapperVersion),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(C(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),C(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(C(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),C(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};nr=new WeakMap,Eo=new WeakMap,Co=new WeakMap,ko=new WeakMap,So=new WeakMap,To=new WeakMap,No=new WeakMap,Io=new WeakMap,Po=new WeakMap,Ro=new WeakMap,jo=new WeakMap,Bo=new WeakMap,Js=new WeakMap,Oi=new WeakMap,Ar=new WeakMap,Fi=new WeakMap,Lo=new WeakMap,Oo=new WeakMap,Fo=new WeakSet,Gu=function(e,n){W(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return CT(this,r);case 1:return NT(this,r);case 2:return ST(this,r);case 3:return PT(this,r,n?this.blobs:null);case 4:return jT(this,r)}W(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Id=vr;function pa(t){return yt(oi(t))}var BT="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";const b0=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),A0=4;function LT(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let j=1;j<r;j++)s.push(i+=n());let a=n(),o=e;e+=a;let l=0,u=0;function d(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,h=2**f,w=h>>>1,b=w>>1,v=h-1;let A=0;for(let j=0;j<f;j++)A=A<<1|d();let m=[],g=0,y=h;for(;;){let j=Math.floor(((A-g+1)*i-1)/y),O=0,B=r;for(;B-O>1;){let _=O+B>>>1;j<s[_]?B=_:O=_}if(O==0)break;m.push(O);let E=g+Math.floor(y*s[O]/i),K=g+Math.floor(y*s[O+1]/i)-1;for(;!((E^K)&w);)A=A<<1&v|d(),E=E<<1&v,K=K<<1&v|1;for(;E&~K&b;)A=A&w|A<<1&v>>>1|d(),E=E<<1^w,K=(K^w)<<1|w|1;g=E,y=1+K-E}let k=r-4;return m.map(j=>{switch(j-k){case 3:return k+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return k+256+(t[o++]<<8|t[o++]);case 1:return k+t[o++];default:return j-1}})}function OT(t){let e=0;return()=>t[e++]}function I1(t){return OT(LT(FT(t)))}function FT(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,a=0,o=0;i<n;i++)o=o<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(r[s++]=o>>(a-=8));return r}function MT(t){return t&1?~t>>1:t>>1}function UT(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=MT(e());return n}function bc(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function P1(t){return Ac(()=>{let e=bc(t);if(e.length)return e})}function R1(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(DT(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(_T(n,t))}return e.flat()}function Ac(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function j1(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)UT(t,n).forEach((s,a)=>r[a].push(s));return r}function DT(t,e){let n=1+e(),r=e(),i=Ac(e);return j1(i.length,1+t,e).flatMap((a,o)=>{let[l,...u]=a;return Array(i[o]).fill().map((d,f)=>{let h=f*r;return[l+f*n,u.map(w=>w+h)]})})}function _T(t,e){let n=1+e();return j1(n,1+t,e).map(i=>[i[0],i.slice(1)])}function zT(t){let e=[],n=bc(t);return i(r([]),[]),e;function r(s){let a=t(),o=Ac(()=>{let l=bc(t).map(u=>n[u]);if(l.length)return r(l)});return{S:a,B:o,Q:s}}function i({S:s,B:a},o,l){if(!(s&4&&l===o[o.length-1])){s&2&&(l=o[o.length-1]),s&1&&e.push(o);for(let u of a)for(let d of u.Q)i(u,[...o,d],l)}}}function HT(t){return t.toString(16).toUpperCase().padStart(2,"0")}function B1(t){return`{${HT(t)}}`}function WT(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function fl(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function GT(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var VT="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";const Ec=44032,Pd=4352,Rd=4449,jd=4519,L1=19,O1=21,pl=28,Bd=O1*pl,QT=L1*Bd,$T=Ec+QT,KT=Pd+L1,JT=Rd+O1,YT=jd+pl;function Ul(t){return t>>24&255}function F1(t){return t&16777215}let Oh,E0,Fh,Vu;function ZT(){let t=I1(VT);Oh=new Map(P1(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),E0=new Set(bc(t)),Fh=new Map,Vu=new Map;for(let[e,n]of R1(t)){if(!E0.has(e)&&n.length==2){let[r,i]=n,s=Vu.get(r);s||(s=new Map,Vu.set(r,s)),s.set(i,e)}Fh.set(e,n.reverse())}}function M1(t){return t>=Ec&&t<$T}function XT(t,e){if(t>=Pd&&t<KT&&e>=Rd&&e<JT)return Ec+(t-Pd)*Bd+(e-Rd)*pl;if(M1(t)&&e>jd&&e<YT&&(t-Ec)%pl==0)return t+(e-jd);{let n=Vu.get(t);return n&&(n=n.get(e),n)?n:-1}}function U1(t){Oh||ZT();let e=[],n=[],r=!1;function i(s){let a=Oh.get(s);a&&(r=!0,s|=a),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(M1(s)){let a=s-Ec,o=a/Bd|0,l=a%Bd/pl|0,u=a%pl;i(Pd+o),i(Rd+l),u>0&&i(jd+u)}else{let a=Fh.get(s);a?n.push(...a):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=Ul(e[0]);for(let a=1;a<e.length;a++){let o=Ul(e[a]);if(o==0||s<=o){s=o;continue}let l=a-1;for(;;){let u=e[l+1];if(e[l+1]=e[l],e[l]=u,!l||(s=Ul(e[--l]),s<=o))break}s=Ul(e[a])}}return e}function qT(t){let e=[],n=[],r=-1,i=0;for(let s of t){let a=Ul(s),o=F1(s);if(r==-1)a==0?r=o:e.push(o);else if(i>0&&i>=a)a==0?(e.push(r,...n),n.length=0,r=o):n.push(o),i=a;else{let l=XT(r,o);l>=0?r=l:i==0&&a==0?(e.push(r),r=o):(n.push(o),i=a)}}return r>=0&&e.push(r,...n),e}function D1(t){return U1(t).map(F1)}function eN(t){return qT(U1(t))}const C0=45,_1=".",z1=65039,H1=1,Ld=t=>Array.from(t);function Cc(t,e){return t.P.has(e)||t.Q.has(e)}class tN extends Array{get is_emoji(){return!0}}let Mh,W1,Ms,Uh,G1,uo,fp,Ba,Ss,k0,Dh;function hg(){if(Mh)return;let t=I1(BT);const e=()=>bc(t),n=()=>new Set(e()),r=(d,f)=>f.forEach(h=>d.add(h));Mh=new Map(R1(t)),W1=n(),Ms=e(),Uh=new Set(e().map(d=>Ms[d])),Ms=new Set(Ms),G1=n(),n();let i=P1(t),s=t();const a=()=>{let d=new Set;return e().forEach(f=>r(d,i[f])),r(d,e()),d};uo=Ac(d=>{let f=Ac(t).map(h=>h+96);if(f.length){let h=d>=s;f[0]-=32,f=fl(f),h&&(f=`Restricted[${f}]`);let w=a(),b=a(),v=!t();return{N:f,P:w,Q:b,M:v,R:h}}}),fp=n(),Ba=new Map;let o=e().concat(Ld(fp)).sort((d,f)=>d-f);o.forEach((d,f)=>{let h=t(),w=o[f]=h?o[f-h]:{V:[],M:new Map};w.V.push(d),fp.has(d)||Ba.set(d,w)});for(let{V:d,M:f}of new Set(Ba.values())){let h=[];for(let b of d){let v=uo.filter(m=>Cc(m,b)),A=h.find(({G:m})=>v.some(g=>m.has(g)));A||(A={G:new Set,V:[]},h.push(A)),A.V.push(b),r(A.G,v)}let w=h.flatMap(b=>Ld(b.G));for(let{G:b,V:v}of h){let A=new Set(w.filter(m=>!b.has(m)));for(let m of v)f.set(m,A)}}Ss=new Set;let l=new Set;const u=d=>Ss.has(d)?l.add(d):Ss.add(d);for(let d of uo){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of Ss)!Ba.has(d)&&!l.has(d)&&Ba.set(d,H1);r(Ss,D1(Ss)),k0=zT(t).map(d=>tN.from(d)).sort(GT),Dh=new Map;for(let d of k0){let f=[Dh];for(let h of d){let w=f.map(b=>{let v=b.get(h);return v||(v=new Map,b.set(h,v)),v});h===z1?f.push(...w):f=w}for(let h of f)h.V=d}}function mg(t){return(V1(t)?"":`${gg(Af([t]))} `)+B1(t)}function gg(t){return`"${t}"`}function nN(t){if(t.length>=4&&t[2]==C0&&t[3]==C0)throw new Error(`invalid label extension: "${fl(t.slice(0,4))}"`)}function rN(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function iN(t){let e=t[0],n=b0.get(e);if(n)throw Zl(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let a=b0.get(e);if(a){if(i==s)throw Zl(`${n} + ${a}`);i=s+1,n=a}}if(i==r)throw Zl(`trailing ${n}`)}function Af(t,e=1/0,n=B1){let r=[];sN(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let a=0;a<s;a++){let o=t[a];V1(o)&&(r.push(fl(t.slice(i,a))),r.push(n(o)),i=a+1)}return r.push(fl(t.slice(i,s))),r.join("")}function sN(t){return hg(),Ms.has(t)}function V1(t){return hg(),G1.has(t)}function aN(t){return uN(oN(t,eN,pN))}function oN(t,e,n){if(!t)return[];hg();let r=0;return t.split(_1).map(i=>{let s=WT(i),a={input:s,offset:r};r+=s.length+1;try{let o=a.tokens=fN(s,e,n),l=o.length,u;if(!l)throw new Error("empty label");let d=a.output=o.flat();if(rN(d),!(a.emoji=l>1||o[0].is_emoji)&&d.every(h=>h<128))nN(d),u="ASCII";else{let h=o.flatMap(w=>w.is_emoji?[]:w);if(!h.length)u="Emoji";else{if(Ms.has(d[0]))throw Zl("leading combining mark");for(let v=1;v<l;v++){let A=o[v];if(!A.is_emoji&&Ms.has(A[0]))throw Zl(`emoji + combining mark: "${fl(o[v-1])} + ${Af([A[0]])}"`)}iN(d);let w=Ld(new Set(h)),[b]=cN(w);dN(b,h),lN(b,w),u=b.N}}a.type=u}catch(o){a.error=o}return a})}function lN(t,e){let n,r=[];for(let i of e){let s=Ba.get(i);if(s===H1)return;if(s){let a=s.M.get(i);if(n=n?n.filter(o=>a.has(o)):Ld(a),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>Cc(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function cN(t){let e=uo;for(let n of t){let r=e.filter(i=>Cc(i,n));if(!r.length)throw uo.some(i=>Cc(i,n))?$1(e[0],n):Q1(n);if(e=r,r.length==1)break}return e}function uN(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${gg(Af(e,63))}: ${i}`)}return fl(r)}).join(_1)}function Q1(t){return new Error(`disallowed character: ${mg(t)}`)}function $1(t,e){let n=mg(e),r=uo.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Zl(t){return new Error(`illegal placement: ${t}`)}function dN(t,e){for(let n of e)if(!Cc(t,n))throw $1(t,n);if(t.M){let n=D1(e);for(let r=1,i=n.length;r<i;r++)if(Uh.has(n[r])){let s=r+1;for(let a;s<i&&Uh.has(a=n[s]);s++)for(let o=r;o<s;o++)if(n[o]==a)throw new Error(`duplicate non-spacing marks: ${mg(a)}`);if(s-r>A0)throw new Error(`excessive non-spacing marks: ${gg(Af(n.slice(r-1,s)))} (${s-r}/${A0})`);r=s}}}function fN(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=hN(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let a=t.pop();if(Ss.has(a))i.push(a);else{let o=Mh.get(a);if(o)i.push(...o);else if(!W1.has(a))throw Q1(a)}}}return i.length&&r.push(e(i)),r}function pN(t){return t.filter(e=>e!=z1)}function hN(t,e){let n=Dh,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const K1=new Uint8Array(32);K1.fill(0);function S0(t){return C(t.length!==0,"invalid ENS name; empty component","comp",t),t}function J1(t){const e=oi(mN(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(S0(e.slice(r,i))),r=i+1);return C(r<e.length,"invalid ENS name; empty component","name",t),n.push(S0(e.slice(r))),n}function mN(t){try{if(t.length===0)throw new Error("empty label");return aN(t)}catch(e){C(!1,`invalid ENS name (${e.message})`,"name",t)}}function _h(t){C(typeof t=="string","invalid ENS name; not a string","name",t),C(t.length,"invalid ENS name (empty label)","name",t);let e=K1;const n=J1(t);for(;n.length;)e=yt(rt([e,yt(n.pop())]));return ne(e)}function gN(t,e){const n=e;return C(n<=255,"DNS encoded label cannot exceed 255","length",n),ne(rt(J1(t).map(r=>{C(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}const Y1=new Uint8Array(32);Y1.fill(0);const yN=BigInt(-1),Z1=BigInt(0),X1=BigInt(1),wN=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function vN(t){const e=Ce(t),n=e.length%32;return n?rt([e,Y1.slice(n)]):ne(e)}const xN=us(X1,32),bN=us(Z1,32),T0={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},pp=["name","version","chainId","verifyingContract","salt"];function N0(t){return function(e){return C(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const AN={name:N0("name"),version:N0("version"),chainId:function(t){const e=ae(t,"domain.chainId");return C(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):or(e)},verifyingContract:function(t){try{return _e(t).toLowerCase()}catch{}C(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Ce(t,"domain.salt");return C(e.length===32,'invalid domain value "salt"',"domain.salt",t),ne(e)}};function hp(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);C(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=Os(wN,n?r-1:r),s=n?(i+X1)*yN:Z1;return function(a){const o=ae(a,"value");return C(o>=s&&o<=i,`value out-of-bounds for ${t}`,"value",o),us(n?Mx(o,256):o,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return C(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=Ce(r);return C(i.length===n,`invalid length for ${t}`,"value",r),vN(r)}}}switch(t){case"address":return function(e){return mi(_e(e),32)};case"bool":return function(e){return e?xN:bN};case"bytes":return function(e){return yt(e)};case"string":return function(e){return pa(e)}}return null}function I0(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Su(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var jc,Kr,Mo,zd,q1;const On=class On{constructor(e){L(this,zd);I(this,"primaryType");L(this,jc);L(this,Kr);L(this,Mo);x(this,Kr,new Map),x(this,Mo,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(l=>{s[l]=e[l].map(({name:u,type:d})=>{let{base:f,index:h}=Su(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),n.set(l,new Set),r.set(l,[]),i.set(l,new Set)}),x(this,jc,JSON.stringify(s));for(const l in s){const u=new Set;for(const d of s[l]){C(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(l)}`,"types",e),u.add(d.name);const f=Su(d.type).base;C(f!==l,`circular type reference to ${JSON.stringify(f)}`,"types",e),!hp(f)&&(C(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(l),n.get(l).add(f))}}const a=Array.from(r.keys()).filter(l=>r.get(l).length===0);C(a.length!==0,"missing primary type","types",e),C(a.length===1,`ambiguous primary types or unused types: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),me(this,{primaryType:a[0]});function o(l,u){C(!u.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),u.add(l);for(const d of n.get(l))if(r.has(d)){o(d,u);for(const f of u)i.get(f).add(d)}u.delete(l)}o(this.primaryType,new Set);for(const[l,u]of i){const d=Array.from(u);d.sort(),p(this,Kr).set(l,I0(l,s[l])+d.map(f=>I0(f,s[f])).join(""))}}get types(){return JSON.parse(p(this,jc))}getEncoder(e){let n=p(this,Mo).get(e);return n||(n=V(this,zd,q1).call(this,e),p(this,Mo).set(e,n)),n}encodeType(e){const n=p(this,Kr).get(e);return C(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return yt(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(hp(e))return r(e,n);const i=Su(e).array;if(i)return C(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(a=>this._visit(i.prefix,a,r));const s=this.types[e];if(s)return s.reduce((a,{name:o,type:l})=>(a[o]=this._visit(l,n[o],r),a),{});C(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new On(e)}static getPrimaryType(e){return On.from(e).primaryType}static hashStruct(e,n,r){return On.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=T0[r];C(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>pp.indexOf(r.name)-pp.indexOf(i.name)),On.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return rt(["0x1901",On.hashDomain(e),On.from(n).hash(r)])}static hash(e,n,r){return yt(On.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const o in e)e[o]==null&&delete e[o];const s={};e.verifyingContract&&!Ze(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=On.from(n);a.visit(r,(o,l)=>(o==="address"&&!Ze(l,20)&&(s[l]="0x"),l));for(const o in s)s[o]=await i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=a.visit(r,(o,l)=>o==="address"&&s[l]?s[l]:l),{domain:e,value:r}}static getPayload(e,n,r){On.hashDomain(e);const i={},s=[];pp.forEach(l=>{const u=e[l];u!=null&&(i[l]=AN[l](u),s.push({name:l,type:T0[l]}))});const a=On.from(n);n=a.types;const o=Object.assign({},n);return C(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),o.EIP712Domain=s,a.encode(r),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(r,(l,u)=>{if(l.match(/^bytes(\d*)/))return ne(Ce(u));if(l.match(/^u?int/))return ae(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return C(typeof u=="string","invalid string","value",u),u}C(!1,"unsupported type","type",l)})}}};jc=new WeakMap,Kr=new WeakMap,Mo=new WeakMap,zd=new WeakSet,q1=function(e){{const i=hp(e);if(i)return i}const n=Su(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return a=>{C(n.count===-1||n.count===a.length,`array length mismatch; expected length ${n.count}`,"value",a);let o=a.map(s);return p(this,Kr).has(i)&&(o=o.map(yt)),yt(rt(o))}}const r=this.types[e];if(r){const i=pa(p(this,Kr).get(e));return s=>{const a=r.map(({name:o,type:l})=>{const u=this.getEncoder(l)(s[o]);return p(this,Kr).has(l)?yt(u):u});return a.unshift(i),rt(a)}}C(!1,`unknown type: ${e}`,"type",e)};let Od=On;function nn(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const EN="external public payable override",CN=nn(EN.split(" ")),eb="constant external internal payable private public pure view override",kN=nn(eb.split(" ")),tb="constructor error event fallback function receive struct",nb=nn(tb.split(" ")),rb="calldata memory storage payable indexed",SN=nn(rb.split(" ")),TN="tuple returns",NN=[tb,rb,TN,eb].join(" "),IN=nn(NN.split(" ")),PN={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},RN=new RegExp("^(\\s*)"),jN=new RegExp("^([0-9]+)"),BN=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),ib=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),sb=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var jt,rr,Bc,zh;const Hd=class Hd{constructor(e){L(this,Bc);L(this,jt);L(this,rr);x(this,jt,0),x(this,rr,e.slice())}get offset(){return p(this,jt)}get length(){return p(this,rr).length-p(this,jt)}clone(){return new Hd(p(this,rr))}reset(){x(this,jt,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=V(this,Bc,zh).call(this,p(this,jt)+1,e.match+1);return x(this,jt,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;p(this,jt)<e.match-1;){const r=this.peek().linkNext;n.push(V(this,Bc,zh).call(this,p(this,jt)+1,r)),x(this,jt,r)}return x(this,jt,e.match+1),n}peek(){if(p(this,jt)>=p(this,rr).length)throw new Error("out-of-bounds");return p(this,rr)[p(this,jt)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return bl(this,jt)._++,e}toString(){const e=[];for(let n=p(this,jt);n<p(this,rr).length;n++){const r=p(this,rr)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};jt=new WeakMap,rr=new WeakMap,Bc=new WeakSet,zh=function(e=0,n=0){return new Hd(p(this,rr).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let pr=Hd;function ws(t){const e=[],n=a=>{const o=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${o} at ${s}: ${a}`)};let r=[],i=[],s=0;for(;s<t.length;){let a=t.substring(s),o=a.match(RN);o&&(s+=o[1].length,a=t.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);let u=PN[a[0]]||"";if(u){if(l.type=u,l.text=a[0],s++,u==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(u==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")l.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=xe(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(o=a.match(BN),o){if(l.text=o[1],s+=l.text.length,IN.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(sb)){l.type="TYPE";continue}l.type="ID";continue}if(o=a.match(jN),o){l.text=o[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new pr(e.map(a=>Object.freeze(a)))}function P0(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function Ef(t,e){if(e.peekKeyword(nb)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function gi(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function ab(t){let e=gi(t,kN);return P0(e,nn("constant payable nonpayable".split(" "))),P0(e,nn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ci(t,e){return t.popParams().map(n=>Mt.from(n,e))}function ob(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ae(t.pop().text);throw new Error("invalid gas")}return null}function ha(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const LN=new RegExp(/^(.*)\[([0-9]*)\]$/);function R0(t){const e=t.match(sb);if(C(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);C(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);C(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const at={},vn=Symbol.for("_ethers_internal"),j0="_ParamTypeInternal",B0="_ErrorInternal",L0="_EventInternal",O0="_ConstructorInternal",F0="_FallbackInternal",M0="_FunctionInternal",U0="_StructInternal";var Uo,Qu;const Fn=class Fn{constructor(e,n,r,i,s,a,o,l){L(this,Uo);I(this,"name");I(this,"type");I(this,"baseType");I(this,"indexed");I(this,"components");I(this,"arrayLength");I(this,"arrayChildren");if(Jc(e,at,"ParamType"),Object.defineProperty(this,vn,{value:j0}),a&&(a=Object.freeze(a.slice())),i==="array"){if(o==null||l==null)throw new Error("")}else if(o!=null||l!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");me(this,{name:n,type:r,baseType:i,indexed:s,components:a,arrayLength:o,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return V(this,Uo,Qu).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(Fn.isParamType(e))return e;if(typeof e=="string")try{return Fn.from(ws(e),n)}catch{C(!1,"invalid param type","obj",e)}else if(e instanceof pr){let o="",l="",u=null;gi(e,nn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",u=e.popParams().map(v=>Fn.from(v)),o=`tuple(${u.map(v=>v.format()).join(",")})`):(o=R0(e.popType("TYPE")),l=o);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const v=e.pop();d=new Fn(at,"",o,l,null,u,f,d),f=v.value,o+=v.text,l="array",u=null}let h=null;if(gi(e,SN).has("indexed")){if(!n)throw new Error("");h=!0}const b=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Fn(at,b,o,l,h,u,f,d)}const r=e.name;C(!r||typeof r=="string"&&r.match(ib),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(C(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,a=s.match(LN);if(a){const o=parseInt(a[2]||"-1"),l=Fn.from({type:a[1],components:e.components});return new Fn(at,r||"",s,"array",i,null,o,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const o=e.components!=null?e.components.map(u=>Fn.from(u)):null;return new Fn(at,r||"",s,"tuple",i,o,null,null)}return s=R0(e.type),new Fn(at,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[vn]===j0}};Uo=new WeakSet,Qu=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=n.slice();o.forEach((l,u)=>{var d;V(d=a,Uo,Qu).call(d,e,l,r,f=>{o[u]=f})}),i(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(n))o=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");o=a.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((l,u)=>{var d;V(d=a[u],Uo,Qu).call(d,e,l,r,f=>{o[u]=f})}),i(o);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let Mt=Fn;class ma{constructor(e,n,r){I(this,"type");I(this,"inputs");Jc(e,at,"Fragment"),r=Object.freeze(r.slice()),me(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{ma.from(JSON.parse(e))}catch{}return ma.from(ws(e))}if(e instanceof pr)switch(e.peekKeyword(nb)){case"constructor":return si.from(e);case"error":return pn.from(e);case"event":return Pr.from(e);case"fallback":case"receive":return Wr.from(e);case"function":return Rr.from(e);case"struct":return oa.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return si.from(e);case"error":return pn.from(e);case"event":return Pr.from(e);case"fallback":case"receive":return Wr.from(e);case"function":return Rr.from(e);case"struct":return oa.from(e)}W(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}C(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return si.isFragment(e)}static isError(e){return pn.isFragment(e)}static isEvent(e){return Pr.isFragment(e)}static isFunction(e){return Rr.isFragment(e)}static isStruct(e){return oa.isFragment(e)}}class Cf extends ma{constructor(n,r,i,s){super(n,r,s);I(this,"name");C(typeof i=="string"&&i.match(ib),"invalid identifier","name",i),s=Object.freeze(s.slice()),me(this,{name:i})}}function kc(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class pn extends Cf{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,vn,{value:B0})}get selector(){return pa(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+kc(e,this.inputs)),n.join(" ")}static from(e){if(pn.isFragment(e))return e;if(typeof e=="string")return pn.from(ws(e));if(e instanceof pr){const n=Ef("error",e),r=ci(e);return ha(e),new pn(at,n,r)}return new pn(at,e.name,e.inputs?e.inputs.map(Mt.from):[])}static isFragment(e){return e&&e[vn]===B0}}class Pr extends Cf{constructor(n,r,i,s){super(n,"event",r,i);I(this,"anonymous");Object.defineProperty(this,vn,{value:L0}),me(this,{anonymous:s})}get topicHash(){return pa(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+kc(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Mt.from(s)),new Pr(at,n,r,!1).topicHash}static from(n){if(Pr.isFragment(n))return n;if(typeof n=="string")try{return Pr.from(ws(n))}catch{C(!1,"invalid event fragment","obj",n)}else if(n instanceof pr){const r=Ef("event",n),i=ci(n,!0),s=!!gi(n,nn(["anonymous"])).has("anonymous");return ha(n),new Pr(at,r,i,s)}return new Pr(at,n.name,n.inputs?n.inputs.map(r=>Mt.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[vn]===L0}}class si extends ma{constructor(n,r,i,s,a){super(n,r,i);I(this,"payable");I(this,"gas");Object.defineProperty(this,vn,{value:O0}),me(this,{payable:s,gas:a})}format(n){if(W(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${kc(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(si.isFragment(n))return n;if(typeof n=="string")try{return si.from(ws(n))}catch{C(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof pr){gi(n,nn(["constructor"]));const r=ci(n),i=!!gi(n,CN).has("payable"),s=ob(n);return ha(n),new si(at,"constructor",r,i,s)}return new si(at,"constructor",n.inputs?n.inputs.map(Mt.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[vn]===O0}}class Wr extends ma{constructor(n,r,i){super(n,"fallback",r);I(this,"payable");Object.defineProperty(this,vn,{value:F0}),me(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Wr.isFragment(n))return n;if(typeof n=="string")try{return Wr.from(ws(n))}catch{C(!1,"invalid fallback fragment","obj",n)}else if(n instanceof pr){const r=n.toString(),i=n.peekKeyword(nn(["fallback","receive"]));if(C(i,"type must be fallback or receive","obj",r),n.popKeyword(nn(["fallback","receive"]))==="receive"){const l=ci(n);return C(l.length===0,"receive cannot have arguments","obj.inputs",l),gi(n,nn(["payable"])),ha(n),new Wr(at,[],!0)}let a=ci(n);a.length?C(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(l=>l.format("minimal")).join(", ")):a=[Mt.from("bytes")];const o=ab(n);if(C(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),gi(n,nn(["returns"])).has("returns")){const l=ci(n);C(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(u=>u.format("minimal")).join(", "))}return ha(n),new Wr(at,a,o==="payable")}if(n.type==="receive")return new Wr(at,[],!0);if(n.type==="fallback"){const r=[Mt.from("bytes")],i=n.stateMutability==="payable";return new Wr(at,r,i)}C(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[vn]===F0}}class Rr extends Cf{constructor(n,r,i,s,a,o){super(n,"function",r,s);I(this,"constant");I(this,"outputs");I(this,"stateMutability");I(this,"payable");I(this,"gas");Object.defineProperty(this,vn,{value:M0}),a=Object.freeze(a.slice()),me(this,{constant:i==="view"||i==="pure",gas:o,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return pa(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+kc(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(kc(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Mt.from(s)),new Rr(at,n,"view",r,[],null).selector}static from(n){if(Rr.isFragment(n))return n;if(typeof n=="string")try{return Rr.from(ws(n))}catch{C(!1,"invalid function fragment","obj",n)}else if(n instanceof pr){const i=Ef("function",n),s=ci(n),a=ab(n);let o=[];gi(n,nn(["returns"])).has("returns")&&(o=ci(n));const l=ob(n);return ha(n),new Rr(at,i,a,s,o,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Rr(at,n.name,r,n.inputs?n.inputs.map(Mt.from):[],n.outputs?n.outputs.map(Mt.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[vn]===M0}}class oa extends Cf{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,vn,{value:U0})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return oa.from(ws(e))}catch{C(!1,"invalid struct fragment","obj",e)}else if(e instanceof pr){const n=Ef("struct",e),r=ci(e);return ha(e),new oa(at,n,r)}return new oa(at,e.name,e.inputs?e.inputs.map(Mt.from):[])}static isFragment(e){return e&&e[vn]===U0}}const hr=new Map;hr.set(0,"GENERIC_PANIC");hr.set(1,"ASSERT_FALSE");hr.set(17,"OVERFLOW");hr.set(18,"DIVIDE_BY_ZERO");hr.set(33,"ENUM_RANGE_ERROR");hr.set(34,"BAD_STORAGE_DATA");hr.set(49,"STACK_UNDERFLOW");hr.set(50,"ARRAY_RANGE_ERROR");hr.set(65,"OUT_OF_MEMORY");hr.set(81,"UNINITIALIZED_FUNCTION_CALL");const ON=new RegExp(/^bytes([0-9]*)$/),FN=new RegExp(/^(u?int)([0-9]*)$/);let mp=null,D0=1024;function MN(t,e,n,r){let i="missing revert data",s=null;const a=null;let o=null;if(n){i="execution reverted";const u=Ce(n);if(n=ne(n),u.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ne(u.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],u.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ne(u.slice(0,4))==="0x4e487b71")try{const d=Number(r.decode(["uint256"],u.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[d]},s=`Panic due to ${hr.get(d)||"UNKNOWN"}(${d})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?_e(e.to):null,data:e.data||"0x"};return e.from&&(l.from=_e(e.from)),et(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:l,invocation:a,revert:o})}var Mi,La;const Wd=class Wd{constructor(){L(this,Mi)}getDefaultValue(e){const n=e.map(i=>V(this,Mi,La).call(this,Mt.from(i)));return new ku(n,"_").defaultValue()}encode(e,n){Lx(n.length,e.length,"types/values length mismatch");const r=e.map(a=>V(this,Mi,La).call(this,Mt.from(a))),i=new ku(r,"_"),s=new Sh;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(a=>V(this,Mi,La).call(this,Mt.from(a)));return new ku(i,"_").decode(new Th(n,r,D0))}static _setDefaultMaxInflation(e){C(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),D0=e}static defaultAbiCoder(){return mp==null&&(mp=new Wd),mp}static getBuiltinCallException(e,n,r){return MN(e,n,r,Wd.defaultAbiCoder())}};Mi=new WeakSet,La=function(e){if(e.isArray())return new eT(V(this,Mi,La).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ku(e.components.map(r=>V(this,Mi,La).call(this,r)),e.name);switch(e.baseType){case"address":return new XS(e.name);case"bool":return new tT(e.name);case"string":return new uT(e.name);case"bytes":return new nT(e.name);case"":return new sT(e.name)}let n=e.type.match(FN);if(n){let r=parseInt(n[2]||"256");return C(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new cT(r/8,n[1]==="int",e.name)}if(n=e.type.match(ON),n){let r=parseInt(n[1]);return C(r!==0&&r<=32,"invalid bytes length","param",e),new rT(r,e.name)}C(!1,"invalid type","type",e.type)};let Sc=Wd;class UN{constructor(e,n,r){I(this,"fragment");I(this,"name");I(this,"signature");I(this,"topic");I(this,"args");const i=e.name,s=e.format();me(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class DN{constructor(e,n,r,i){I(this,"fragment");I(this,"name");I(this,"args");I(this,"signature");I(this,"selector");I(this,"value");const s=e.name,a=e.format();me(this,{fragment:e,name:s,args:r,signature:a,selector:n,value:i})}}class _N{constructor(e,n,r){I(this,"fragment");I(this,"name");I(this,"args");I(this,"signature");I(this,"selector");const i=e.name,s=e.format();me(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class _0{constructor(e){I(this,"hash");I(this,"_isIndexed");me(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const z0={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},H0={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&z0[t.toString()]&&(e=z0[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Er,Cr,kr,Ht,Fr,$u,Ku;const Ps=class Ps{constructor(e){L(this,Fr);I(this,"fragments");I(this,"deploy");I(this,"fallback");I(this,"receive");L(this,Er);L(this,Cr);L(this,kr);L(this,Ht);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,x(this,kr,new Map),x(this,Er,new Map),x(this,Cr,new Map);const r=[];for(const a of n)try{r.push(ma.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}me(this,{fragments:Object.freeze(r)});let i=null,s=!1;x(this,Ht,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let l;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}me(this,{deploy:a});return;case"fallback":a.inputs.length===0?s=!0:(C(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${o}]`,a),i=a,s=i.payable);return;case"function":l=p(this,kr);break;case"event":l=p(this,Cr);break;case"error":l=p(this,Er);break;default:return}const u=a.format();l.has(u)||l.set(u,a)}),this.deploy||me(this,{deploy:si.from("constructor()")}),me(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Sc.defaultAbiCoder()}getFunctionName(e){const n=V(this,Fr,$u).call(this,e,null,!1);return C(n,"no matching function","key",e),n.name}hasFunction(e){return!!V(this,Fr,$u).call(this,e,null,!1)}getFunction(e,n){return V(this,Fr,$u).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(p(this,kr).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(p(this,kr).get(i),r)}}getEventName(e){const n=V(this,Fr,Ku).call(this,e,null,!1);return C(n,"no matching event","key",e),n.name}hasEvent(e){return!!V(this,Fr,Ku).call(this,e,null,!1)}getEvent(e,n){return V(this,Fr,Ku).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(p(this,Cr).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(p(this,Cr).get(i),r)}}getError(e,n){if(Ze(e)){const i=e.toLowerCase();if(H0[i])return pn.from(H0[i].signature);for(const s of p(this,Er).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,a]of p(this,Er))s.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?pn.from("error Error(string)"):e==="Panic"?pn.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(a=>JSON.stringify(a.format())).join(", ");C(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=pn.from(e).format(),e==="Error(string)")return pn.from("error Error(string)");if(e==="Panic(uint256)")return pn.from("error Panic(uint256)");const r=p(this,Er).get(e);return r||null}forEachError(e){const n=Array.from(p(this,Er).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(p(this,Er).get(i),r)}}_decodeParams(e,n){return p(this,Ht).decode(e,n)}_encodeParams(e,n){return p(this,Ht).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);C(r,"unknown error","fragment",e),e=r}return C(dt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,dt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);C(r,"unknown error","fragment",e),e=r}return rt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);C(r,"unknown function","fragment",e),e=r}return C(dt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,dt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);C(r,"unknown function","fragment",e),e=r}return rt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);C(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=qt(n);if(i.length%32===0)try{return p(this,Ht).decode(e.outputs,i)}catch{r="could not decode result data"}W(!1,r,"BAD_DATA",{value:ne(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=Ce(e,"data"),i=Sc.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const o=ne(r.slice(0,4)),l=this.getError(o);if(l)try{const u=p(this,Ht).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);C(r,"unknown function","fragment",e),e=r}return ne(p(this,Ht).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);C(s,"unknown event","eventFragment",e),e=s}W(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,a)=>s.type==="string"?pa(a):s.type==="bytes"?yt(ne(a)):(s.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":s.type.match(/^u?int/)?a=us(a):s.type.match(/^bytes/)?a=qC(a,32):s.type==="address"&&p(this,Ht).encode(["address"],[a]),mi(ne(a),32));for(n.forEach((s,a)=>{const o=e.inputs[a];if(!o.indexed){C(s==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?C(!1,"filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?r.push(s.map(l=>i(o,l))):r.push(i(o,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const a=this.getEvent(e);C(a,"unknown event","eventFragment",e),e=a}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),C(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((a,o)=>{const l=n[o];if(a.indexed)if(a.type==="string")r.push(pa(l));else if(a.type==="bytes")r.push(yt(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(p(this,Ht).encode([a.type],[l]))}else i.push(a),s.push(l)}),{data:p(this,Ht).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const w=this.getEvent(e);C(w,"unknown event","eventFragment",e),e=w}if(r!=null&&!e.anonymous){const w=e.topicHash;C(Ze(r[0],32)&&r[0].toLowerCase()===w,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],a=[];e.inputs.forEach((w,b)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(i.push(Mt.from({type:"bytes32",name:w.name})),a.push(!0)):(i.push(w),a.push(!1)):(s.push(w),a.push(!1))});const o=r!=null?p(this,Ht).decode(i,rt(r)):null,l=p(this,Ht).decode(s,n,!0),u=[],d=[];let f=0,h=0;return e.inputs.forEach((w,b)=>{let v=null;if(w.indexed)if(o==null)v=new _0(null);else if(a[b])v=new _0(o[h++]);else try{v=o[h++]}catch(A){v=A}else try{v=l[f++]}catch(A){v=A}u.push(v),d.push(w.name||null)}),ol.fromItems(u,d)}parseTransaction(e){const n=Ce(e.data,"tx.data"),r=ae(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ne(n.slice(0,4)));if(!i)return null;const s=p(this,Ht).decode(i.inputs,n.slice(4));return new DN(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new UN(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=ne(e),r=this.getError(dt(n,0,4));if(!r)return null;const i=p(this,Ht).decode(r.inputs,dt(n,4));return new _N(r,r.selector,i)}static from(e){return e instanceof Ps?e:typeof e=="string"?new Ps(JSON.parse(e)):typeof e.formatJson=="function"?new Ps(e.formatJson()):typeof e.format=="function"?new Ps(e.format("json")):new Ps(e)}};Er=new WeakMap,Cr=new WeakMap,kr=new WeakMap,Ht=new WeakMap,Fr=new WeakSet,$u=function(e,n,r){if(Ze(e)){const s=e.toLowerCase();for(const a of p(this,kr).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of p(this,kr))a.split("(")[0]===e&&s.push(o);if(n){const a=n.length>0?n[n.length-1]:null;let o=n.length,l=!0;$t.isTyped(a)&&a.type==="overrides"&&(l=!1,o--);for(let u=s.length-1;u>=0;u--){const d=s[u].inputs.length;d!==o&&(!l||d!==o-1)&&s.splice(u,1)}for(let u=s.length-1;u>=0;u--){const d=s[u].inputs;for(let f=0;f<n.length;f++)if($t.isTyped(n[f])){if(f>=d.length){if(n[f].type==="overrides")continue;s.splice(u,1);break}if(n[f].type!==d[f].baseType){s.splice(u,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const a=n[n.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(o=>JSON.stringify(o.format())).join(", ");C(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return s[0]}const i=p(this,kr).get(Rr.from(e).format());return i||null},Ku=function(e,n,r){if(Ze(e)){const s=e.toLowerCase();for(const a of p(this,Cr).values())if(s===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of p(this,Cr))a.split("(")[0]===e&&s.push(o);if(n){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<n.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const o=s[a].inputs;for(let l=0;l<n.length;l++)if($t.isTyped(n[l])&&n[l].type!==o[l].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(o=>JSON.stringify(o.format())).join(", ");C(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return s[0]}const i=p(this,Cr).get(Pr.from(e).format());return i||null};let Hh=Ps;const lb=BigInt(0);function fo(t){return t??null}function pt(t){return t==null?null:t.toString()}class W0{constructor(e,n,r){I(this,"gasPrice");I(this,"maxFeePerGas");I(this,"maxPriorityFeePerGas");me(this,{gasPrice:fo(e),maxFeePerGas:fo(n),maxPriorityFeePerGas:fo(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:pt(e),maxFeePerGas:pt(n),maxPriorityFeePerGas:pt(r)}}}function Fd(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ne(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=ae(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=xe(t[i],`request.${i}`));return t.accessList&&(e.accessList=Aa(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobWrapperVersion"in t&&(e.blobWrapperVersion=t.blobWrapperVersion),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>ig(i)?ne(i):Object.assign({},i))),e}var Jr;class zN{constructor(e,n){I(this,"provider");I(this,"number");I(this,"hash");I(this,"timestamp");I(this,"parentHash");I(this,"parentBeaconBlockRoot");I(this,"nonce");I(this,"difficulty");I(this,"gasLimit");I(this,"gasUsed");I(this,"stateRoot");I(this,"receiptsRoot");I(this,"blobGasUsed");I(this,"excessBlobGas");I(this,"miner");I(this,"prevRandao");I(this,"extraData");I(this,"baseFeePerGas");L(this,Jr);x(this,Jr,e.transactions.map(r=>typeof r!="string"?new Tc(r,n):r)),me(this,{provider:n,hash:fo(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:fo(e.prevRandao),extraData:e.extraData,baseFeePerGas:fo(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return p(this,Jr).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=p(this,Jr).slice();return e.length===0?[]:(W(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:a,miner:o,prevRandao:l,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:w,receiptsRoot:b,timestamp:v,transactions:A}=this;return{_type:"Block",baseFeePerGas:pt(e),difficulty:pt(n),extraData:r,gasLimit:pt(i),gasUsed:pt(s),blobGasUsed:pt(this.blobGasUsed),excessBlobGas:pt(this.excessBlobGas),hash:a,miner:o,prevRandao:l,nonce:u,number:d,parentHash:f,timestamp:v,parentBeaconBlockRoot:h,stateRoot:w,receiptsRoot:b,transactions:A}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return p(this,Jr).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=p(this,Jr)[e];else{const r=e.toLowerCase();for(const i of p(this,Jr))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;C(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return HN(this)}}Jr=new WeakMap;class qc{constructor(e,n){I(this,"provider");I(this,"transactionHash");I(this,"blockHash");I(this,"blockNumber");I(this,"removed");I(this,"address");I(this,"data");I(this,"topics");I(this,"index");I(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());me(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:a,topics:o,transactionHash:l,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:a,topics:o,transactionHash:l,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return W(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return W(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return W(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return WN(this)}}var Lc;class cb{constructor(e,n){I(this,"provider");I(this,"to");I(this,"from");I(this,"contractAddress");I(this,"hash");I(this,"index");I(this,"blockHash");I(this,"blockNumber");I(this,"logsBloom");I(this,"gasUsed");I(this,"blobGasUsed");I(this,"cumulativeGasUsed");I(this,"gasPrice");I(this,"blobGasPrice");I(this,"type");I(this,"status");I(this,"root");L(this,Lc);x(this,Lc,Object.freeze(e.logs.map(i=>new qc(i,n))));let r=lb;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),me(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return p(this,Lc)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:a,blockNumber:o,logsBloom:l,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:pt(this.cumulativeGasUsed),from:n,gasPrice:pt(this.gasPrice),blobGasUsed:pt(this.blobGasUsed),blobGasPrice:pt(this.blobGasPrice),gasUsed:pt(this.gasUsed),hash:i,index:s,logs:u,logsBloom:l,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return db(this)}reorderedEvent(e){return W(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ub(this,e)}}Lc=new WeakMap;var Ui;const Cg=class Cg{constructor(e,n){I(this,"provider");I(this,"blockNumber");I(this,"blockHash");I(this,"index");I(this,"hash");I(this,"type");I(this,"to");I(this,"from");I(this,"nonce");I(this,"gasLimit");I(this,"gasPrice");I(this,"maxPriorityFeePerGas");I(this,"maxFeePerGas");I(this,"maxFeePerBlobGas");I(this,"data");I(this,"value");I(this,"chainId");I(this,"signature");I(this,"accessList");I(this,"blobVersionedHashes");I(this,"authorizationList");L(this,Ui);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,x(this,Ui,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:a,from:o,nonce:l,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:pt(this.chainId),data:u,from:o,gasLimit:pt(this.gasLimit),gasPrice:pt(this.gasPrice),hash:i,maxFeePerGas:pt(this.maxFeePerGas),maxPriorityFeePerGas:pt(this.maxPriorityFeePerGas),maxFeePerBlobGas:pt(this.maxFeePerBlobGas),nonce:l,signature:d,to:a,index:r,type:s,value:pt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Xt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=p(this,Ui),a=-1,o=s===-1;const l=async()=>{if(o)return null;const{blockNumber:h,nonce:w}=await Xt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(w<this.nonce){s=h;return}if(o)return null;const b=await this.getTransaction();if(!(b&&b.blockNumber!=null))for(a===-1&&(a=s-3,a<p(this,Ui)&&(a=p(this,Ui)));a<=h;){if(o)return null;const v=await this.provider.getBlock(a,!0);if(v==null)return;for(const A of v)if(A===this.hash)return;for(let A=0;A<v.length;A++){const m=await v.getTransaction(A);if(m.from===this.from&&m.nonce===this.nonce){if(o)return null;const g=await this.provider.getTransactionReceipt(m.hash);if(g==null||h-g.blockNumber+1<r)return;let y="replaced";m.data===this.data&&m.to===this.to&&m.value===this.value?y="repriced":m.data==="0x"&&m.from===m.to&&m.value===lb&&(y="cancelled"),W(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:y==="replaced"||y==="cancelled",reason:y,replacement:m.replaceableTransaction(s),hash:m.hash,receipt:g})}}a++}},u=h=>{if(h==null||h.status!==0)return h;W(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(r===0)return u(d);if(d){if(r===1||await d.confirmations()>=r)return u(d)}else if(await l(),r===0)return null;return await new Promise((h,w)=>{const b=[],v=()=>{b.forEach(m=>m())};if(b.push(()=>{o=!0}),i>0){const m=setTimeout(()=>{v(),w(et("wait for transaction timeout","TIMEOUT"))},i);b.push(()=>{clearTimeout(m)})}const A=async m=>{if(await m.confirmations()>=r){v();try{h(u(m))}catch(g){w(g)}}};if(b.push(()=>{this.provider.off(this.hash,A)}),this.provider.on(this.hash,A),s>=0){const m=async()=>{try{await l()}catch(g){if(Ot(g,"TRANSACTION_REPLACED")){v(),w(g);return}}o||this.provider.once("block",m)};b.push(()=>{this.provider.off("block",m)}),this.provider.once("block",m)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return W(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),db(this)}reorderedEvent(e){return W(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),W(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ub(this,e)}replaceableTransaction(e){C(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Cg(this,this.provider);return x(n,Ui,e),n}};Ui=new WeakMap;let Tc=Cg;function HN(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function ub(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function db(t){return{orphan:"drop-transaction",tx:t}}function WN(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class yg extends qc{constructor(n,r,i){super(n,n.provider);I(this,"interface");I(this,"fragment");I(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);me(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class fb extends qc{constructor(n,r){super(n,n.provider);I(this,"error");me(this,{error:r})}}var Do;class GN extends cb{constructor(n,r,i){super(i,r);L(this,Do);x(this,Do,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?p(this,Do).getEvent(n.topics[0]):null;if(r)try{return new yg(n,p(this,Do),r)}catch(i){return new fb(n,i)}return n})}}Do=new WeakMap;var Oc;class wg extends Tc{constructor(n,r,i){super(i,r);L(this,Oc);x(this,Oc,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new GN(p(this,Oc),this.provider,i)}}Oc=new WeakMap;class pb extends Ux{constructor(n,r,i,s){super(n,r,i);I(this,"log");me(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class VN extends pb{constructor(e,n,r,i,s){super(e,n,r,new yg(s,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);me(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const G0=BigInt(0);function hb(t){return t&&typeof t.call=="function"}function mb(t){return t&&typeof t.estimateGas=="function"}function kf(t){return t&&typeof t.resolveName=="function"}function gb(t){return t&&typeof t.sendTransaction=="function"}function yb(t){if(t!=null){if(kf(t))return t;if(t.provider)return t.provider}}var Fc;class QN{constructor(e,n,r){L(this,Fc);I(this,"fragment");if(me(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=ga(e.runner,"resolveName"),s=kf(i)?i:null;x(this,Fc,async function(){const a=await Promise.all(n.inputs.map((o,l)=>r[l]==null?null:o.walkAsync(r[l],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>tn(h,s))):tn(f,s):f)));return e.interface.encodeFilterTopics(n,a)}())}getTopicFilter(){return p(this,Fc)}}Fc=new WeakMap;function ga(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Us(t){return t==null?null:t.provider||null}async function wb(t,e){const n=$t.dereference(t,"overrides");C(typeof n=="object","invalid overrides parameter","overrides",t);const r=Fd(n);return C(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),C(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function $N(t,e,n){const r=ga(t,"resolveName"),i=kf(r)?r:null;return await Promise.all(e.map((s,a)=>s.walkAsync(n[a],(o,l)=>(l=$t.dereference(l,o),o==="address"?tn(l,i):l))))}function KN(t){const e=async function(a){const o=await wb(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await tn(o.from,yb(t.runner)));const l=t.interface,u=ae(o.value||G0,"overrides.value")===G0,d=(o.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!d&&!u&&C(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),C(l.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data);const f=l.receive||l.fallback&&l.fallback.payable;return C(f||u,"cannot send value to non-payable fallback","overrides.value",o.value),C(l.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(a){const o=ga(t.runner,"call");W(hb(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(a);try{return await o.call(l)}catch(u){throw rg(u)&&u.data?t.interface.makeError(u.data,l):u}},r=async function(a){const o=t.runner;W(gb(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await o.sendTransaction(await e(a)),u=Us(t.runner);return new wg(t.interface,u,l)},i=async function(a){const o=ga(t.runner,"estimateGas");return W(mb(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},s=async a=>await r(a);return me(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function JN(t,e){const n=function(...u){const d=t.interface.getFunction(e,u);return W(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},r=async function(...u){const d=n(...u);let f={};if(d.inputs.length+1===u.length&&(f=await wb(u.pop()),f.from&&(f.from=await tn(f.from,yb(t.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await $N(t.runner,d.inputs,u);return Object.assign({},f,await Xt({to:t.getAddress(),data:t.interface.encodeFunctionData(d,h)}))},i=async function(...u){const d=await o(...u);return d.length===1?d[0]:d},s=async function(...u){const d=t.runner;W(gb(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await r(...u)),h=Us(t.runner);return new wg(t.interface,h,f)},a=async function(...u){const d=ga(t.runner,"estimateGas");return W(mb(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await r(...u))},o=async function(...u){const d=ga(t.runner,"call");W(hb(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...u);let h="0x";try{h=await d.call(f)}catch(b){throw rg(b)&&b.data?t.interface.makeError(b.data,f):b}const w=n(...u);return t.interface.decodeFunctionResult(w,h)},l=async(...u)=>n(...u).constant?await i(...u):await s(...u);return me(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:a,populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return W(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),l}function YN(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return W(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new QN(t,n(...i),i)};return me(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return W(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const Md=Symbol.for("_ethersInternal_contract"),vb=new WeakMap;function ZN(t,e){vb.set(t[Md],e)}function An(t){return vb.get(t[Md])}function XN(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function vg(t,e){let n,r=null;if(Array.isArray(e)){const s=function(a){if(Ze(a,32))return a;const o=t.interface.getEvent(a);return C(o,"unknown fragment","name",a),o.topicHash};n=e.map(a=>a==null?null:Array.isArray(a)?a.map(s):s(a))}else e==="*"?n=[null]:typeof e=="string"?Ze(e,32)?n=[e]:(r=t.interface.getEvent(e),C(r,"unknown fragment","event",e),n=[r.topicHash]):XN(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):C(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const a=Array.from(new Set(s.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function Dl(t,e){const{subs:n}=An(t);return n.get((await vg(t,e)).tag)||null}async function V0(t,e,n){const r=Us(t.runner);W(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:a}=await vg(t,n),{addr:o,subs:l}=An(t);let u=l.get(s);if(!u){const f={address:o||t,topics:a},h=A=>{let m=i;if(m==null)try{m=t.interface.getEvent(A.topics[0])}catch{}if(m){const g=m,y=i?t.interface.decodeEventLog(i,A.data,A.topics):[];Gh(t,n,y,k=>new VN(t,k,n,g,A))}else Gh(t,n,[],g=>new pb(t,g,n,A))};let w=[];u={tag:s,listeners:[],start:()=>{w.length||w.push(r.on(f,h))},stop:async()=>{if(w.length==0)return;let A=w;w=[],await Promise.all(A),r.off(f,h)}},l.set(s,u)}return u}let Wh=Promise.resolve();async function qN(t,e,n,r){await Wh;const i=await Dl(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:o})=>{const l=Array.from(n);r&&l.push(r(o?null:a));try{a.call(t,...l)}catch{}return!o}),i.listeners.length===0&&(i.stop(),An(t).subs.delete(i.tag)),s>0}async function Gh(t,e,n,r){try{await Wh}catch{}const i=qN(t,e,n,r);return Wh=i,await i}const Tu=["then"];var nw;nw=Md;const Xl=class Xl{constructor(e,n,r,i){I(this,"target");I(this,"interface");I(this,"runner");I(this,"filters");I(this,nw);I(this,"fallback");C(typeof e=="string"||C1(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=Hh.from(n);me(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,Md,{value:{}});let a,o=null,l=null;if(i){const f=Us(r);l=new wg(this.interface,f,i)}let u=new Map;if(typeof e=="string")if(Ze(e))o=e,a=Promise.resolve(e);else{const f=ga(r,"resolveName");if(!kf(f))throw et("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw et("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return An(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return An(this).addr=f,f});ZN(this,{addrPromise:a,addr:o,deployTx:l,subs:u});const d=new Proxy({},{get:(f,h,w)=>{if(typeof h=="symbol"||Tu.indexOf(h)>=0)return Reflect.get(f,h,w);try{return this.getEvent(h)}catch(b){if(!Ot(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,h)=>Tu.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return me(this,{filters:d}),me(this,{fallback:s.receive||s.fallback?KN(this):null}),new Proxy(this,{get:(f,h,w)=>{if(typeof h=="symbol"||h in f||Tu.indexOf(h)>=0)return Reflect.get(f,h,w);try{return f.getFunction(h)}catch(b){if(!Ot(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(f,h)=>typeof h=="symbol"||h in f||Tu.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new Xl(this.target,this.interface,e)}attach(e){return new Xl(e,this.interface,this.runner)}async getAddress(){return await An(this).addrPromise}async getDeployedCode(){const e=Us(this.runner);W(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Us(this.runner);return W(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",a)}catch(o){s(o)}};a()})}deploymentTransaction(){return An(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),JN(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),YN(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=An(this),a=i||await s,{fragment:o,topics:l}=await vg(this,e),u={address:a,topics:l,fromBlock:n,toBlock:r},d=Us(this.runner);return W(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=o;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new yg(f,this.interface,h)}catch(w){return new fb(f,w)}return new qc(f,d)})}async on(e,n){const r=await V0(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await V0(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await Gh(this,e,n,null)}async listenerCount(e){if(e){const i=await Dl(this,e);return i?i.listeners.length:0}const{subs:n}=An(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await Dl(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=An(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await Dl(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),An(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Dl(this,e);if(!n)return this;n.stop(),An(this).subs.delete(n.tag)}else{const{subs:n}=An(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Xl{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let Vh=Xl;function e5(){return Vh}class At extends e5(){}function gp(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):C(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class t5{constructor(e){I(this,"name");me(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const xb=new RegExp("^(ipfs)://(.*)$","i"),Q0=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),xb,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Di,Ys,_i,Oa,Gd,bb;const eo=class eo{constructor(e,n,r){L(this,_i);I(this,"provider");I(this,"address");I(this,"name");L(this,Di);L(this,Ys);me(this,{provider:e,address:n,name:r}),x(this,Di,null),x(this,Ys,new At(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return p(this,Di)==null&&x(this,Di,(async()=>{try{return await p(this,Ys).supportsInterface("0x9061b923")}catch(e){if(Ot(e,"CALL_EXCEPTION"))return!1;throw x(this,Di,null),e}})()),await p(this,Di)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await V(this,_i,Oa).call(this,"addr(bytes32)");return s==null||s===vc?null:s}catch(s){if(Ot(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const a=await V(this,_i,Oa).call(this,"addr(bytes32,uint)",[s]);if(Ze(a,20))return _e(a)}let n=null;for(const s of this.provider.plugins)if(s instanceof t5&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await V(this,_i,Oa).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;W(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await V(this,_i,Oa).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await V(this,_i,Oa).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${tk("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;W(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<Q0.length;r++){const i=n.match(Q0[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const a=gp(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(o==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(i[2]||"").split("/");if(l.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const u=l[1],d=new At(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const v=await d.ownerOf(u);if(o!==v)return e.push({type:"!owner",value:v}),{url:null,linkage:e};e.push({type:"owner",value:v})}else if(s==="erc1155"){const v=await d.balanceOf(o,u);if(!v)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:v.toString()})}let f=await d[a](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),s==="erc1155"&&(f=f.replace("{id}",us(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=gp(f)),e.push({type:"metadata-url",value:f});let h={};const w=await new ds(f).send();w.assertOk();try{h=w.bodyJson}catch{try{e.push({type:"!metadata",value:w.bodyText})}catch{const m=w.body;return m&&e.push({type:"!metadata",value:ne(m)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let b=h.image;if(typeof b!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(xb)==null)return e.push({type:"!imageUrl-ipfs",value:b}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:b}),b=gp(b)}return e.push({type:"url",value:b}),{linkage:e,url:b}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return W(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await V(i=eo,Gd,bb).call(i,e,r);if(s!=null){const a=new eo(e,s,n);return r!==n&&!await a.supportsWildcard()?null:a}r=r.split(".").slice(1).join(".")}}};Di=new WeakMap,Ys=new WeakMap,_i=new WeakSet,Oa=async function(e,n){n=(n||[]).slice();const r=p(this,Ys).interface;n.unshift(_h(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),W(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[gN(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await p(this,Ys)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Ot(s,"CALL_EXCEPTION"))throw s}return null},Gd=new WeakSet,bb=async function(e,n){const r=await eo.getEnsAddress(e);try{const s=await new At(r,["function resolver(bytes32) view returns (address)"],e).resolver(_h(n),{enableCcipRead:!0});return s===vc?null:s}catch(i){throw i}return null},L(eo,Gd);let Ud=eo;const $0=BigInt(0);function Re(t,e){return function(n){return n==null?e:t(n)}}function Nc(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function eu(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const a of e[i])if(a in n){s=a;break}}try{const a=t[i](n[s]);a!==void 0&&(r[i]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";W(!1,`invalid value for value.${i} (${o})`,"BAD_DATA",{value:n})}}return r}}function n5(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}C(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function hl(t){return C(Ze(t,!0),"invalid data","value",t),t}function Lt(t){return C(Ze(t,32),"invalid hash","value",t),t}const r5=eu({address:_e,blockHash:Lt,blockNumber:xe,data:hl,index:xe,removed:Re(n5,!1),topics:Nc(Lt),transactionHash:Lt,transactionIndex:xe},{index:["logIndex"]});function i5(t){return r5(t)}const s5=eu({hash:Re(Lt),parentHash:Lt,parentBeaconBlockRoot:Re(Lt,null),number:xe,timestamp:xe,nonce:Re(hl),difficulty:ae,gasLimit:ae,gasUsed:ae,stateRoot:Re(Lt,null),receiptsRoot:Re(Lt,null),blobGasUsed:Re(ae,null),excessBlobGas:Re(ae,null),miner:Re(_e),prevRandao:Re(Lt,null),extraData:hl,baseFeePerGas:Re(ae)},{prevRandao:["mixHash"]});function a5(t){const e=s5(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Ab(n)),e}const o5=eu({transactionIndex:xe,blockNumber:xe,transactionHash:Lt,address:_e,topics:Nc(Lt),data:hl,index:xe,blockHash:Lt},{index:["logIndex"]});function l5(t){return o5(t)}const c5=eu({to:Re(_e,null),from:Re(_e,null),contractAddress:Re(_e,null),index:xe,root:Re(ne),gasUsed:ae,blobGasUsed:Re(ae,null),logsBloom:Re(hl),blockHash:Lt,hash:Lt,logs:Nc(l5),blockNumber:xe,cumulativeGasUsed:ae,effectiveGasPrice:Re(ae),blobGasPrice:Re(ae,null),status:Re(xe),type:Re(xe,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function u5(t){return c5(t)}function Ab(t){t.to&&ae(t.to)===$0&&(t.to="0x0000000000000000000000000000000000000000");const e=eu({hash:Lt,index:Re(xe,void 0),type:n=>n==="0x"||n==null?0:xe(n),accessList:Re(Aa,null),blobVersionedHashes:Re(Nc(Lt,!0),null),authorizationList:Re(Nc(n=>{let r;if(n.signature)r=n.signature;else{let i=n.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),r=Object.assign({},n,{yParity:i})}return{address:_e(n.address),chainId:ae(n.chainId),nonce:ae(n.nonce),signature:wn.from(r)}},!1),null),blockHash:Re(Lt,null),blockNumber:Re(xe,null),transactionIndex:Re(xe,null),from:_e,gasPrice:Re(ae),maxPriorityFeePerGas:Re(ae),maxFeePerGas:Re(ae),maxFeePerBlobGas:Re(ae,null),gasLimit:ae,to:Re(_e,null),value:ae,nonce:xe,data:hl,creates:Re(_e,null),chainId:Re(ae,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=ZS(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=wn.from(t.signature):e.signature=wn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&ae(e.blockHash)===$0&&(e.blockHash=null),e}const d5="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class tu{constructor(e){I(this,"name");me(this,{name:e})}clone(){return new tu(this.name)}}class Sf extends tu{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);I(this,"effectiveBlock");I(this,"txBase");I(this,"txCreate");I(this,"txDataZero");I(this,"txDataNonzero");I(this,"txAccessListStorageKey");I(this,"txAccessListAddress");const i={effectiveBlock:n};function s(a,o){let l=(r||{})[a];l==null&&(l=o),C(typeof l=="number",`invalud value for ${a}`,"costs",r),i[a]=l}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),me(this,i)}clone(){return new Sf(this.effectiveBlock,this)}}class Tf extends tu{constructor(n,r){super("org.ethers.plugins.network.Ens");I(this,"address");I(this,"targetNetwork");me(this,{address:n||d5,targetNetwork:r??1})}clone(){return new Tf(this.address,this.targetNetwork)}}var Mc,Uc;class f5 extends tu{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");L(this,Mc);L(this,Uc);x(this,Mc,n),x(this,Uc,r)}get url(){return p(this,Mc)}get processFunc(){return p(this,Uc)}clone(){return this}}Mc=new WeakMap,Uc=new WeakMap;const yp=new Map;var _o,zo,zi;const to=class to{constructor(e,n){L(this,_o);L(this,zo);L(this,zi);x(this,_o,e),x(this,zo,ae(n)),x(this,zi,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return p(this,_o)}set name(e){x(this,_o,e)}get chainId(){return p(this,zo)}set chainId(e){x(this,zo,ae(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ae(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ae(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ae(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(p(this,zi).values())}attachPlugin(e){if(p(this,zi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return p(this,zi).set(e.name,e.clone()),this}getPlugin(e){return p(this,zi).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new to(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new Sf;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Aa(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(p5(),e==null)return to.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=yp.get(e);if(n)return n();if(typeof e=="bigint")return new to("unknown",e);C(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){C(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new to(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new Tf(e.ensAddress,e.ensNetwork)),n}C(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=yp.get(e);r&&C(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),yp.set(e,n)}};_o=new WeakMap,zo=new WeakMap,zi=new WeakMap;let Br=to;function K0(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function J0(t){return new f5(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,a]=await Promise.all([r.send(),e()]);i=s;const o=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:K0(o.maxFee,9),maxPriorityFeePerGas:K0(o.maxPriorityFee,9)}}catch(s){W(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let Y0=!1;function p5(){if(Y0)return;Y0=!0;function t(e,n,r){const i=function(){const s=new Br(e,n);return r.ensNetwork!=null&&s.attachPlugin(new Tf(null,r.ensNetwork)),s.attachPlugin(new Sf),(r.plugins||[]).forEach(a=>{s.attachPlugin(a)}),s};Br.register(e,i),Br.register(n,i),r.altNames&&r.altNames.forEach(s=>{Br.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("filecoin",314,{}),t("filecoin-calibration",314159,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[J0("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[J0("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Qh(t){return JSON.parse(JSON.stringify(t))}var Yr,Mn,Hi,Sr,Ho,Ju;class h5{constructor(e){L(this,Ho);L(this,Yr);L(this,Mn);L(this,Hi);L(this,Sr);x(this,Yr,e),x(this,Mn,null),x(this,Hi,4e3),x(this,Sr,-2)}get pollingInterval(){return p(this,Hi)}set pollingInterval(e){x(this,Hi,e)}start(){p(this,Mn)||(x(this,Mn,p(this,Yr)._setTimeout(V(this,Ho,Ju).bind(this),p(this,Hi))),V(this,Ho,Ju).call(this))}stop(){p(this,Mn)&&(p(this,Yr)._clearTimeout(p(this,Mn)),x(this,Mn,null))}pause(e){this.stop(),e&&x(this,Sr,-2)}resume(){this.start()}}Yr=new WeakMap,Mn=new WeakMap,Hi=new WeakMap,Sr=new WeakMap,Ho=new WeakSet,Ju=async function(){try{const e=await p(this,Yr).getBlockNumber();if(p(this,Sr)===-2){x(this,Sr,e);return}if(e!==p(this,Sr)){for(let n=p(this,Sr)+1;n<=e;n++){if(p(this,Mn)==null)return;await p(this,Yr).emit("block",n)}x(this,Sr,e)}}catch{}p(this,Mn)!=null&&x(this,Mn,p(this,Yr)._setTimeout(V(this,Ho,Ju).bind(this),p(this,Hi)))};var Zs,Xs,Wi;class xg{constructor(e){L(this,Zs);L(this,Xs);L(this,Wi);x(this,Zs,e),x(this,Wi,!1),x(this,Xs,n=>{this._poll(n,p(this,Zs))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){p(this,Wi)||(x(this,Wi,!0),p(this,Xs).call(this,-2),p(this,Zs).on("block",p(this,Xs)))}stop(){p(this,Wi)&&(x(this,Wi,!1),p(this,Zs).off("block",p(this,Xs)))}pause(e){this.stop()}resume(){this.start()}}Zs=new WeakMap,Xs=new WeakMap,Wi=new WeakMap;var Wo,Zr;class m5 extends xg{constructor(n,r){super(n);L(this,Wo);L(this,Zr);x(this,Wo,r),x(this,Zr,-2)}pause(n){n&&x(this,Zr,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(p(this,Wo));i!=null&&(p(this,Zr)===-2?x(this,Zr,i.number):i.number>p(this,Zr)&&(r.emit(p(this,Wo),i.number),x(this,Zr,i.number)))}}Wo=new WeakMap,Zr=new WeakMap;var Vd;class g5 extends xg{constructor(n,r){super(n);L(this,Vd);x(this,Vd,Qh(r))}async _poll(n,r){throw new Error("@TODO")}}Vd=new WeakMap;var Go;class y5 extends xg{constructor(n,r){super(n);L(this,Go);x(this,Go,r)}async _poll(n,r){const i=await r.getTransactionReceipt(p(this,Go));i&&r.emit(p(this,Go),i)}}Go=new WeakMap;var Xr,Vo,Qo,Gi,Un,Qd,Eb;class bg{constructor(e,n){L(this,Qd);L(this,Xr);L(this,Vo);L(this,Qo);L(this,Gi);L(this,Un);x(this,Xr,e),x(this,Vo,Qh(n)),x(this,Qo,V(this,Qd,Eb).bind(this)),x(this,Gi,!1),x(this,Un,-2)}start(){p(this,Gi)||(x(this,Gi,!0),p(this,Un)===-2&&p(this,Xr).getBlockNumber().then(e=>{x(this,Un,e)}),p(this,Xr).on("block",p(this,Qo)))}stop(){p(this,Gi)&&(x(this,Gi,!1),p(this,Xr).off("block",p(this,Qo)))}pause(e){this.stop(),e&&x(this,Un,-2)}resume(){this.start()}}Xr=new WeakMap,Vo=new WeakMap,Qo=new WeakMap,Gi=new WeakMap,Un=new WeakMap,Qd=new WeakSet,Eb=async function(e){if(p(this,Un)===-2)return;const n=Qh(p(this,Vo));n.fromBlock=p(this,Un)+1,n.toBlock=e;const r=await p(this,Xr).getLogs(n);if(r.length===0){p(this,Un)<e-60&&x(this,Un,e-60);return}for(const i of r)p(this,Xr).emit(p(this,Vo),i),x(this,Un,i.blockNumber)};const w5=BigInt(2),v5=10;function Nu(t){return t&&typeof t.then=="function"}function Yu(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,a)=>(s[a]=r[a],s),{})}return r})}class Cb{constructor(e){I(this,"name");me(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function x5(t){return JSON.parse(JSON.stringify(t))}function $h(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function wp(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Ze(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Yu("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Yu("orphan",n),filter:x5(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?$h(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],a=o=>{Ze(o)?i.push(o):s.push((async()=>{i.push(await tn(o,e))})())};Array.isArray(n.address)?n.address.forEach(a):a(n.address),s.length&&await Promise.all(s),r.address=$h(i.map(o=>o.toLowerCase()))}return{filter:r,tag:Yu("event",r),type:"event"}}C(!1,"unknown ProviderEvent","event",t)}function vp(){return new Date().getTime()}const b5={cacheTimeout:250,pollingInterval:4e3};var Wt,Vi,Gt,$o,Sn,qs,Qi,qr,Dc,Dn,Ko,Jo,Se,bn,Kh,Jh,_l,Yh,zl,Zu;class A5{constructor(e,n){L(this,Se);L(this,Wt);L(this,Vi);L(this,Gt);L(this,$o);L(this,Sn);L(this,qs);L(this,Qi);L(this,qr);L(this,Dc);L(this,Dn);L(this,Ko);L(this,Jo);if(x(this,Jo,Object.assign({},b5,n||{})),e==="any")x(this,qs,!0),x(this,Sn,null);else if(e){const r=Br.from(e);x(this,qs,!1),x(this,Sn,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else x(this,qs,!1),x(this,Sn,null);x(this,qr,-1),x(this,Qi,new Map),x(this,Wt,new Map),x(this,Vi,new Map),x(this,Gt,null),x(this,$o,!1),x(this,Dc,1),x(this,Dn,new Map),x(this,Ko,!1)}get pollingInterval(){return p(this,Jo).pollingInterval}get provider(){return this}get plugins(){return Array.from(p(this,Vi).values())}attachPlugin(e){if(p(this,Vi).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return p(this,Vi).set(e.name,e.connect(this)),this}getPlugin(e){return p(this,Vi).get(e)||null}get disableCcipRead(){return p(this,Ko)}set disableCcipRead(e){x(this,Ko,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),a=[];for(let o=0;o<r.length;o++){const l=r[o],u=l.replace("{sender}",i).replace("{data}",s),d=new ds(u);l.indexOf("{data}")===-1&&(d.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:o,urls:r});let f="unknown error",h;try{h=await d.send()}catch(w){a.push(w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:w}});continue}try{const w=h.bodyJson;if(w.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:w}),w.data;w.message&&(f=w.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:w})}catch{}W(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:f}}),a.push(f)}W(!1,`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,n){return new zN(a5(e),this)}_wrapLog(e,n){return new qc(i5(e),this)}_wrapTransactionReceipt(e,n){return new cb(u5(e),this)}_wrapTransactionResponse(e,n){return new Tc(Ab(e),this)}_detectNetwork(){W(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){W(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=xe(await V(this,Se,bn).call(this,{method:"getBlockNumber"}),"%response");return p(this,qr)>=0&&x(this,qr,e),e}_getAddress(e){return tn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ze(e))return Ze(e,32)?e:or(e);if(typeof e=="bigint"&&(e=xe(e,"blockTag")),typeof e=="number")return e>=0?or(e):p(this,qr)>=0?or(p(this,qr)+e):this.getBlockNumber().then(n=>or(n+e));C(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?$h(l.map(u=>u.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(l,u,d)=>{let f;switch(l.length){case 0:break;case 1:f=l[0];break;default:l.sort(),f=l}if(r&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),n.length&&(h.topics=n),u&&(h.fromBlock=u),d&&(h.toBlock=d),r&&(h.blockHash=r),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)s.push(this._getAddress(l));else s.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let o;return"toBlock"in e&&(o=this._getBlockTag(e.toBlock)),s.filter(l=>typeof l!="string").length||a!=null&&typeof a!="string"||o!=null&&typeof o!="string"?Promise.all([Promise.all(s),a,o]).then(l=>i(l[0],l[1],l[2])):i(s,a,o)}_getTransactionRequest(e){const n=Fd(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=tn(n[i],this);Nu(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);Nu(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(p(this,Sn)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw p(this,Sn)===i&&x(this,Sn,null),s}})();return x(this,Sn,i),(await i).clone()}const e=p(this,Sn),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(p(this,qs)?(this.emit("network",r,n),p(this,Sn)===e&&x(this,Sn,Promise.resolve(r))):W(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:a}=await Xt({_block:V(this,Se,Yh).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await V(this,Se,bn).call(this,{method:"getGasPrice"});return ae(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await V(this,Se,bn).call(this,{method:"getPriorityFee"});return ae(d,"%response")}catch{}return null})()});let o=null,l=null;const u=this._wrapBlock(i,e);return u&&u.baseFeePerGas&&(l=a??BigInt("1000000000"),o=u.baseFeePerGas*w5+l),new W0(s,o,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new ds(r.url),s=await r.processFunc(n,this,i);return new W0(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Nu(n)&&(n=await n),ae(await V(this,Se,bn).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await Xt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await V(this,Se,Jh).call(this,V(this,Se,Kh).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return ae(await V(this,Se,_l).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return xe(await V(this,Se,_l).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return ne(await V(this,Se,_l).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=ae(n,"position");return ne(await V(this,Se,_l).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await Xt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Id.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await Xt({network:this.getNetwork(),params:V(this,Se,Yh).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await Xt({network:this.getNetwork(),params:V(this,Se,bn).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await Xt({network:this.getNetwork(),params:V(this,Se,bn).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await V(this,Se,bn).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await Xt({network:this.getNetwork(),result:V(this,Se,bn).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:ne(n)}async getLogs(e){let n=this._getFilter(e);Nu(n)&&(n=await n);const{network:r,params:i}=await Xt({network:this.getNetwork(),params:V(this,Se,bn).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){W(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ud.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=_e(e);const n=_h(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Ud.getEnsAddress(this),s=await new At(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===vc)return null;const o=await new At(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(o)!==e?null:o}catch(r){if(Ot(r,"BAD_DATA")&&r.value==="0x"||Ot(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,a)=>{let o=null;const l=async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=i){s(d),o&&(clearTimeout(o),o=null);return}}catch(d){console.log("EEE",d)}this.once("block",l)};r!=null&&(o=setTimeout(()=>{o!=null&&(o=null,this.off("block",l),a(et("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){W(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=p(this,Dn).get(e);n&&(n.timer&&clearTimeout(n.timer),p(this,Dn).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=bl(this,Dc)._++,i=()=>{p(this,Dn).delete(r),e()};if(this.paused)p(this,Dn).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);p(this,Dn).set(r,{timer:s,func:i,time:vp()})}return r}_forEachSubscriber(e){for(const n of p(this,Wt).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Cb(e.type);case"block":{const n=new h5(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new m5(this,e.type);case"event":return new bg(this,e.filter);case"transaction":return new y5(this,e.hash);case"orphan":return new g5(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of p(this,Wt).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),p(this,Gt)!=null&&n.pause(p(this,Gt));break}}async on(e,n){const r=await V(this,Se,Zu).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,p(this,Gt)!=null&&r.subscriber.pause(p(this,Gt))),this}async once(e,n){const r=await V(this,Se,Zu).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,p(this,Gt)!=null&&r.subscriber.pause(p(this,Gt))),this}async emit(e,...n){const r=await V(this,Se,zl).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:a})=>{const o=new Ux(this,a?null:s,e);try{s.call(this,...n,o)}catch{}return!a}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),p(this,Wt).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await V(this,Se,zl).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of p(this,Wt).values())n+=r.length;return n}async listeners(e){if(e){const r=await V(this,Se,zl).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of p(this,Wt).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await V(this,Se,zl).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),p(this,Wt).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await V(this,Se,Zu).call(this,e);r&&i.stop(),p(this,Wt).delete(n)}else for(const[n,{started:r,subscriber:i}]of p(this,Wt))r&&i.stop(),p(this,Wt).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return p(this,$o)}destroy(){this.removeAllListeners();for(const e of p(this,Dn).keys())this._clearTimeout(e);x(this,$o,!0)}get paused(){return p(this,Gt)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(x(this,qr,-1),p(this,Gt)!=null){if(p(this,Gt)==!!e)return;W(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),x(this,Gt,!!e);for(const n of p(this,Dn).values())n.timer&&clearTimeout(n.timer),n.time=vp()-n.time}resume(){if(p(this,Gt)!=null){this._forEachSubscriber(e=>e.resume()),x(this,Gt,null);for(const e of p(this,Dn).values()){let n=e.time;n<0&&(n=0),e.time=vp(),setTimeout(e.func,n)}}}}Wt=new WeakMap,Vi=new WeakMap,Gt=new WeakMap,$o=new WeakMap,Sn=new WeakMap,qs=new WeakMap,Qi=new WeakMap,qr=new WeakMap,Dc=new WeakMap,Dn=new WeakMap,Ko=new WeakMap,Jo=new WeakMap,Se=new WeakSet,bn=async function(e){const n=p(this,Jo).cacheTimeout;if(n<0)return await this._perform(e);const r=Yu(e.method,e);let i=p(this,Qi).get(r);return i||(i=this._perform(e),p(this,Qi).set(r,i),setTimeout(()=>{p(this,Qi).get(r)===i&&p(this,Qi).delete(r)},n)),await i},Kh=async function(e,n,r){W(r<v5,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=Fd(e);try{return ne(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&rg(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&dt(s.data,0,4)==="0x556f1830"){const a=s.data,o=await tn(i.to,this);let l;try{l=T5(dt(s.data,4))}catch(f){W(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}W(l.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const u=await this.ccipReadFetch(i,l.calldata,l.urls);W(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:l.errorArgs}});const d={to:o,data:rt([l.selector,S5([u,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await V(this,Se,Kh).call(this,d,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw s}},Jh=async function(e){const{value:n}=await Xt({network:this.getNetwork(),value:e});return n},_l=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await V(this,Se,Jh).call(this,V(this,Se,bn).call(this,Object.assign(e,{address:i,blockTag:s})))},Yh=async function(e,n){if(Ze(e,32))return await V(this,Se,bn).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await V(this,Se,bn).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},zl=async function(e,n){let r=await wp(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await wp({orphan:"drop-log",log:n[0]},this)),p(this,Wt).get(r.tag)||null},Zu=async function(e){const n=await wp(e,this),r=n.tag;let i=p(this,Wt).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},p(this,Wt).set(r,i)),i};function E5(t,e){try{const n=Zh(t,e);if(n)return Sd(n)}catch{}return null}function Zh(t,e){if(t==="0x")return null;try{const n=xe(dt(t,e,e+32)),r=xe(dt(t,n,n+32));return dt(t,n+32,n+32+r)}catch{}return null}function Z0(t){const e=wt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function C5(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const k5=new Uint8Array([]);function S5(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(k5),n+=32;for(let r=0;r<t.length;r++){const i=Ce(t[r]);e[r]=Z0(n),e.push(Z0(i.length)),e.push(C5(i)),n+=32+Math.ceil(i.length/32)*32}return rt(e)}const X0="0x0000000000000000000000000000000000000000000000000000000000000000";function T5(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};W(lo(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=dt(t,0,32);W(dt(n,0,12)===dt(X0,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=dt(n,12);try{const r=[],i=xe(dt(t,32,64)),s=xe(dt(t,i,i+32)),a=dt(t,i+32);for(let o=0;o<s;o++){const l=E5(a,o*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{W(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Zh(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{W(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}W(dt(t,100,128)===dt(X0,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=dt(t,96,100);try{const r=Zh(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{W(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function bs(t,e){if(t.provider)return t.provider;W(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function q0(t,e){let n=Fd(e);if(n.to!=null&&(n.to=tn(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),tn(r,t)]).then(([i,s])=>(C(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await Xt(n)}class N5{constructor(e){I(this,"provider");me(this,{provider:e||null})}async getNonce(e){return bs(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await q0(this,e)}async populateTransaction(e){const n=bs(this,"populateTransaction"),r=await q0(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const a=ae(r.chainId);C(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?C(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&C(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const a=await n.getFeeData();W(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice)}else{const a=await n.getFeeData();if(r.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const o=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o}else r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(W(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=a.gasPrice),r.type=0):W(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=a.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Xt(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await bs(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return bs(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return bs(this,"call").call(await this.populateCall(e))}async resolveName(e){return await bs(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=bs(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=Id.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}authorize(e){W(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function I5(t){return JSON.parse(JSON.stringify(t))}var Yt,Tr,ea,$i,ta,Yo,fs,Xh,qh;class kb{constructor(e){L(this,fs);L(this,Yt);L(this,Tr);L(this,ea);L(this,$i);L(this,ta);L(this,Yo);x(this,Yt,e),x(this,Tr,null),x(this,ea,V(this,fs,Xh).bind(this)),x(this,$i,!1),x(this,ta,null),x(this,Yo,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){p(this,$i)||(x(this,$i,!0),V(this,fs,Xh).call(this,-2))}stop(){p(this,$i)&&(x(this,$i,!1),x(this,Yo,!0),V(this,fs,qh).call(this),p(this,Yt).off("block",p(this,ea)))}pause(e){e&&V(this,fs,qh).call(this),p(this,Yt).off("block",p(this,ea))}resume(){this.start()}}Yt=new WeakMap,Tr=new WeakMap,ea=new WeakMap,$i=new WeakMap,ta=new WeakMap,Yo=new WeakMap,fs=new WeakSet,Xh=async function(e){try{p(this,Tr)==null&&x(this,Tr,this._subscribe(p(this,Yt)));let n=null;try{n=await p(this,Tr)}catch(s){if(!Ot(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){x(this,Tr,null),p(this,Yt)._recoverSubscriber(this,this._recover(p(this,Yt)));return}const r=await p(this,Yt).getNetwork();if(p(this,ta)||x(this,ta,r),p(this,ta).chainId!==r.chainId)throw new Error("chaid changed");if(p(this,Yo))return;const i=await p(this,Yt).send("eth_getFilterChanges",[n]);await this._emitResults(p(this,Yt),i)}catch(n){console.log("@TODO",n)}p(this,Yt).once("block",p(this,ea))},qh=function(){const e=p(this,Tr);e&&(x(this,Tr,null),e.then(n=>{p(this,Yt).destroyed||p(this,Yt).send("eth_uninstallFilter",[n])}))};var na;class P5 extends kb{constructor(n,r){super(n);L(this,na);x(this,na,I5(r))}_recover(n){return new bg(n,p(this,na))}async _subscribe(n){return await n.send("eth_newFilter",[p(this,na)])}async _emitResults(n,r){for(const i of r)n.emit(p(this,na),n._wrapLog(i,n._network))}}na=new WeakMap;class R5 extends kb{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const j5="bigint,boolean,function,number,string,symbol".split(/,/g);function Xu(t){if(t==null||j5.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Xu);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function B5(t){return new Promise(e=>{setTimeout(e,t)})}function Ia(t){return t&&t.toLowerCase()}function ew(t){return t&&typeof t.pollingInterval=="number"}const Sb={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class xp extends N5{constructor(n,r){super(n);I(this,"address");r=_e(r),me(this,{address:r})}connect(n){W(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=Xu(n),i=[];if(r.from){const a=r.from;i.push((async()=>{const o=await tn(a,this.provider);C(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=o})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const a=r.to;i.push((async()=>{r.to=await tn(a,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,a)=>{const o=[1e3,100];let l=0;const u=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){s(d.replaceableTransaction(r));return}}catch(d){if(Ot(d,"CANCELLED")||Ot(d,"BAD_DATA")||Ot(d,"NETWORK_ERROR")||Ot(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,a(d);return}if(Ot(d,"INVALID_ARGUMENT")&&(l++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,l>10)){a(d);return}this.provider.emit("error",et("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{u()},o.pop()||4e3)};u()})}async signTransaction(n){const r=Xu(n);if(r.from){const s=await tn(r.from,this.provider);C(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?oi(n):n;return await this.provider.send("personal_sign",[ne(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=Xu(i),a=await Od.resolveNames(n,r,s,async o=>{const l=await tn(o);return C(l!=null,"TypedData does not support null address","value",o),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Od.getPayload(a.domain,r,a.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?oi(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ne(r)])}}var ra,Zo,ei,Nr,ir,_n,un,_c,em;class L5 extends A5{constructor(n,r){super(n,r);L(this,_c);L(this,ra);L(this,Zo);L(this,ei);L(this,Nr);L(this,ir);L(this,_n);L(this,un);x(this,Zo,1),x(this,ra,Object.assign({},Sb,r||{})),x(this,ei,[]),x(this,Nr,null),x(this,_n,null),x(this,un,null);{let s=null;const a=new Promise(o=>{s=o});x(this,ir,{promise:a,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(C(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&x(this,_n,Br.from(n))):i&&(C(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),x(this,_n,i))}_getOption(n){return p(this,ra)[n]}get _network(){return W(p(this,_n),"network is not available yet","NETWORK_ERROR"),p(this,_n)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&ae(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(p(this,_n))return p(this,_n)}else return n;return p(this,un)?await p(this,un):this.ready?(x(this,un,(async()=>{try{const r=Br.from(ae(await this.send("eth_chainId",[])));return x(this,un,null),r}catch(r){throw x(this,un,null),r}})()),await p(this,un)):(x(this,un,(async()=>{const r={id:bl(this,Zo)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],x(this,un,null)}catch(s){throw x(this,un,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Br.from(ae(i.result));throw this.getRpcError(r,i)})()),await p(this,un))}_start(){p(this,ir)==null||p(this,ir).resolve==null||(p(this,ir).resolve(),x(this,ir,null),(async()=>{for(;p(this,_n)==null&&!this.destroyed;)try{x(this,_n,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",et("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await B5(1e3)}V(this,_c,em).call(this)})())}async _waitUntilReady(){if(p(this,ir)!=null)return await p(this,ir).promise}_getSubscriber(n){return n.type==="pending"?new R5(this):n.type==="event"?this._getOption("polling")?new bg(this,n.filter):new P5(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new Cb("orphan"):super._getSubscriber(n)}get ready(){return p(this,ir)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=or(ae(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=ne(n[i]))}),n.accessList&&(r.accessList=Aa(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(i=>{const s=N1(i);return{address:s.address,nonce:or(s.nonce),chainId:or(s.chainId),yParity:or(s.signature.yParity),r:or(s.signature.r),s:or(s.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ia(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ia(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ia(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ia(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Ia):n.filter.address=Ia(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const l=s.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return et("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}});if(l.match(/nonce/i)&&l.match(/too low/i))return et("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const l=tm(s),u=Sc.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return u.info={error:s,payload:n},u}const a=JSON.stringify(F5(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return et("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const l=n.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return et("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return et("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:s}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return et("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:s}});if(a.match(/only replay-protected/i))return et("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:l,info:{error:s}}})}let o=!!a.match(/the method .* does not exist/i);return o||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(o=!0),o?et("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):et("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(et("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=bl(this,Zo)._++,s=new Promise((a,o)=>{p(this,ei).push({resolve:a,reject:o,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return V(this,_c,em).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new xp(this,s[n])}const{accounts:i}=await Xt({network:this.getNetwork(),accounts:r});n=_e(n);for(const s of i)if(_e(s)===n)return new xp(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new xp(this,r))}destroy(){p(this,Nr)&&(clearTimeout(p(this,Nr)),x(this,Nr,null));for(const{payload:n,reject:r}of p(this,ei))r(et("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));x(this,ei,[]),super.destroy()}}ra=new WeakMap,Zo=new WeakMap,ei=new WeakMap,Nr=new WeakMap,ir=new WeakMap,_n=new WeakMap,un=new WeakMap,_c=new WeakSet,em=function(){if(p(this,Nr))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");x(this,Nr,setTimeout(()=>{x(this,Nr,null);const r=p(this,ei);for(x(this,ei,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==p(this,ra).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(a=>a.payload)).length>p(this,ra).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const a=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:o,reject:l,payload:u}of i){if(this.destroyed){l(et("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const d=a.filter(f=>f.id===u.id)[0];if(d==null){const f=et("missing response for request","BAD_DATA",{value:a,info:{payload:u}});this.emit("error",f),l(f);continue}if("error"in d){l(this.getRpcError(u,d));continue}o(d.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:o}of i)o(a)}})()}},n))};var Ki;class O5 extends L5{constructor(n,r){super(n,r);L(this,Ki);let i=this._getOption("pollingInterval");i==null&&(i=Sb.pollingInterval),x(this,Ki,i)}_getSubscriber(n){const r=super._getSubscriber(n);return ew(r)&&(r.pollingInterval=p(this,Ki)),r}get pollingInterval(){return p(this,Ki)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");x(this,Ki,n),this._forEachSubscriber(r=>{ew(r)&&(r.pollingInterval=p(this,Ki))})}}Ki=new WeakMap;function tm(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Ze(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=tm(t[e]);if(n)return n}return null}if(typeof t=="string")try{return tm(JSON.parse(t))}catch{}return null}function nm(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)nm(t[n],e);if(typeof t=="string")try{return nm(JSON.parse(t),e)}catch{}}}function F5(t){const e=[];return nm(t,e),e}var Xo,qo;const Rs=class Rs extends O5{constructor(n,r,i){const s=Object.assign({},i??{},{batchMaxCount:1});C(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,s);L(this,Xo);L(this,qo);x(this,qo,null),i&&i.providerInfo&&x(this,qo,i.providerInfo),x(this,Xo,async(a,o)=>{const l={method:a,params:o};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const u=await n.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const d=new Error(u.message);throw d.code=u.code,d.data=u.data,d.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}get providerInfo(){return p(this,qo)}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){C(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await p(this,Xo).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await p(this,Xo).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new Rs(n.provider);const r=n.window?n.window:typeof window<"u"?window:null;if(r==null)return null;const i=n.anyProvider;if(i&&r.ethereum)return new Rs(r.ethereum);if(!("addEventListener"in r&&"dispatchEvent"in r&&"removeEventListener"in r))return null;const s=n.timeout?n.timeout:300;return s===0?null:await new Promise((a,o)=>{let l=[];const u=h=>{l.push(h.detail),i&&d()},d=()=>{if(clearTimeout(f),l.length)if(n&&n.filter){const h=n.filter(l.map(w=>Object.assign({},w.info)));if(h==null)a(null);else if(h instanceof Rs)a(h);else{let w=null;if(h.uuid&&(w=l.filter(v=>h.uuid===v.info.uuid)[0]),w){const{provider:b,info:v}=w;a(new Rs(b,void 0,{providerInfo:v}))}else o(et("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:w}=l[0];a(new Rs(h,void 0,{providerInfo:w}))}else a(null);r.removeEventListener("eip6963:announceProvider",u)},f=setTimeout(()=>{d()},s);r.addEventListener("eip6963:announceProvider",u),r.dispatchEvent(new Event("eip6963:requestProvider"))})}};Xo=new WeakMap,qo=new WeakMap;let rm=Rs;const Vt={marketplace:"0xfAaa2E34f8E454355D33c57A662297475e22f16a",mockNFT:"0x2ceD43bE1bBd8aD876F606e34a2E23673B5A131E",collectionFactory:"0xa489e41E3Be16347C01c65979c7869DcbF0a0B96"},tw={marketplaceFee:2.5,defaultRoyalty:5},Rt={chainId:5042002,chainName:"Arc Testnet",nativeCurrency:{name:"USDC",symbol:"USDC",decimals:18},rpcUrls:["https://rpc.testnet.arc.network"],blockExplorerUrls:["https://testnet.arcscan.app"]},M5=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!0,internalType:"address",name:"nftContract",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"ItemListed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!0,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"ItemSold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"}],name:"ListingCancelled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newPrice",type:"uint256"}],name:"ListingPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newFee",type:"uint256"}],name:"MarketplaceFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"RoyaltyPaid",type:"event"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"buyItem",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"cancelListing",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_offset",type:"uint256"},{internalType:"uint256",name:"_limit",type:"uint256"}],name:"getActiveListings",outputs:[{components:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],internalType:"struct Marketplace.Listing[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"}],name:"getListing",outputs:[{components:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],internalType:"struct Marketplace.Listing",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_seller",type:"address"}],name:"getSellerListings",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_nftContract",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"isNFTListed",outputs:[{internalType:"bool",name:"isListed",type:"bool"},{internalType:"uint256",name:"listingId",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_nftContract",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"listItem",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"listingCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"nftContract",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"bool",name:"active",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketplaceFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"sellerListings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_listingId",type:"uint256"},{internalType:"uint256",name:"_newPrice",type:"uint256"}],name:"updateListingPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_newFee",type:"uint256"}],name:"updateMarketplaceFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawFees",outputs:[],stateMutability:"nonpayable",type:"function"}],U5=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"}],name:"ERC721IncorrectOwner",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721InsufficientApproval",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC721InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC721InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"ERC721InvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC721InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC721InvalidSender",type:"error"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC721NonexistentToken",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"string[]",name:"_uris",type:"string[]"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"string",name:"_uri",type:"string"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],D5=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!0,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"uint256",name:"maxSupply",type:"uint256"}],name:"CollectionCreated",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"collectionInfo",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"address",name:"creator",type:"address"},{internalType:"uint256",name:"createdAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"collections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_collectionName",type:"string"},{internalType:"uint256",name:"_maxSupply",type:"uint256"}],name:"createCollection",outputs:[{internalType:"address",name:"collectionAddress",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"creatorCollections",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCollectionCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"creator",type:"address"}],name:"getCreatorCollections",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"collectionAddress",type:"address"}],name:"isValidCollection",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],Tb=S.createContext(),xl=()=>{const t=S.useContext(Tb);if(!t)throw new Error("useWeb3 must be used within a Web3Provider");return t},_5=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(null),[s,a]=S.useState(null),[o,l]=S.useState(null),[u,d]=S.useState(null),[f,h]=S.useState(null),[w,b]=S.useState(!1),[v,A]=S.useState(!1),m=async B=>{try{const E=await B.getNetwork(),K=Number(E.chainId)===Rt.chainId;return b(K),K}catch(E){return console.error("Error checking network:",E),!1}},g=async()=>{try{return await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${Rt.chainId.toString(16)}`}]}),!0}catch(B){if(B.code===4902)try{return await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${Rt.chainId.toString(16)}`,chainName:Rt.chainName,nativeCurrency:Rt.nativeCurrency,rpcUrls:Rt.rpcUrls,blockExplorerUrls:Rt.blockExplorerUrls}]}),!0}catch(E){return console.error("Error adding network:",E),P.error("Erro ao adicionar rede Arc Testnet"),!1}return console.error("Error switching network:",B),P.error("Erro ao trocar para rede Arc Testnet"),!1}},y=async()=>{try{if(!window.ethereum){P.error("Por favor, instale o MetaMask!");return}A(!0);const B=await window.ethereum.request({method:"eth_requestAccounts"}),E=new rm(window.ethereum);if(!await m(E)&&!await g()){A(!1);return}const _=await E.getSigner();n(E),i(_),a(B[0]);try{const Z=await E.getCode(Vt.marketplace),D=await E.getCode(Vt.mockNFT);console.log("Marketplace code length:",(Z==null?void 0:Z.length)||0),console.log("NFT code length:",(D==null?void 0:D.length)||0),(Z==="0x"||D==="0x")&&console.warn("Contratos podem no estar deployados ou endereos incorretos")}catch(Z){console.warn("Erro ao verificar cdigo dos contratos:",Z)}const ee=new At(Vt.marketplace,M5,_),ye=new At(Vt.mockNFT,U5,_);let G=null;if(Vt.collectionFactory)try{const Z=await E.getCode(Vt.collectionFactory);console.log("CollectionFactory code length:",(Z==null?void 0:Z.length)||0),Z&&Z!=="0x"?(G=new At(Vt.collectionFactory,D5,_),console.log(" CollectionFactory inicializado:",Vt.collectionFactory)):console.warn(" CollectionFactory no deployado no endereo:",Vt.collectionFactory)}catch(Z){console.error(" Erro ao inicializar CollectionFactory:",Z)}l(ee),d(ye),h(G),P.success("Carteira conectada com sucesso!"),A(!1)}catch(B){console.error("Error connecting wallet:",B),P.error("Erro ao conectar carteira"),A(!1)}},k=async()=>{try{if(!window.ethereum)return P.error("MetaMask no est instalado"),null;if(!e)return P.error("Carteira no conectada"),null;const B=await e.getNetwork(),E=Number(B.chainId);let K=B.name||"Unknown",_="ETH",ee=18,ye=null;try{const Z=await window.ethereum.request({method:"eth_chainId"}),D={"0x1":{name:"Ethereum Mainnet",symbol:"ETH",explorer:"https://etherscan.io"},"0x5":{name:"Goerli Testnet",symbol:"ETH",explorer:"https://goerli.etherscan.io"},"0x89":{name:"Polygon Mainnet",symbol:"MATIC",explorer:"https://polygonscan.com"},"0x4d9c4d":{name:"Arc Testnet",symbol:"USDC",explorer:"https://testnet.arcscan.app"}},z=`0x${E.toString(16)}`;D[z]&&(K=D[z].name,_=D[z].symbol,ye=D[z].explorer),E===Rt.chainId&&(K=Rt.chainName,_=Rt.nativeCurrency.symbol,ye=Rt.blockExplorerUrls[0])}catch(Z){console.warn("Erro ao obter informaes extras da rede:",Z)}return{chainId:E,chainIdHex:`0x${E.toString(16)}`,name:K,currencySymbol:_,currencyDecimals:ee,blockExplorer:ye,isCorrect:E===Rt.chainId,expectedChainId:Rt.chainId,expectedName:Rt.chainName}}catch(B){return console.error("Erro ao verificar informaes da rede:",B),P.error("Erro ao verificar informaes da rede"),null}},j=()=>{n(null),i(null),a(null),l(null),d(null),h(null),b(!1),P.success("Carteira desconectada")};S.useEffect(()=>(window.ethereum&&(window.ethereum.on("accountsChanged",B=>{B.length===0?j():a(B[0])}),window.ethereum.on("chainChanged",()=>{window.location.reload()})),()=>{window.ethereum&&(window.ethereum.removeAllListeners("accountsChanged"),window.ethereum.removeAllListeners("chainChanged"))}),[]);const O={provider:e,signer:r,account:s,marketplaceContract:o,nftContract:u,collectionFactoryContract:f,isCorrectNetwork:w,loading:v,connectWallet:y,disconnect:j,switchToArcNetwork:g,checkNetworkInfo:k};return c.jsx(Tb.Provider,{value:O,children:t})};function Nb({size:t=45,animate:e=!0}){return c.jsx("div",{className:e?"genesis-logo-animated":"genesis-logo",style:{width:`${t}px`,height:`${t}px`,position:"relative"},children:c.jsxs("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"hexGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"#3b82f6",stopOpacity:1}}),c.jsx("stop",{offset:"50%",style:{stopColor:"#60a5fa",stopOpacity:1}}),c.jsx("stop",{offset:"100%",style:{stopColor:"#3b82f6",stopOpacity:1}})]}),c.jsxs("linearGradient",{id:"innerGlow",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"#60a5fa",stopOpacity:.9}}),c.jsx("stop",{offset:"50%",style:{stopColor:"#60a5fa",stopOpacity:.9}}),c.jsx("stop",{offset:"100%",style:{stopColor:"#3b82f6",stopOpacity:.9}})]}),c.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),c.jsx("filter",{id:"innerGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:c.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1.5"})})]}),c.jsx("path",{d:"M 50 5 L 85 27.5 L 85 72.5 L 50 95 L 15 72.5 L 15 27.5 Z",stroke:"url(#hexGradient)",strokeWidth:"3",fill:"var(--background)",filter:"url(#glow)"}),c.jsx("path",{d:"M 50 15 L 75 30 L 75 70 L 50 85 L 25 70 L 25 30 Z",stroke:"url(#hexGradient)",strokeWidth:"1.5",fill:"none",opacity:"0.4"}),c.jsxs("g",{opacity:"0.7",children:[c.jsx("circle",{cx:"70",cy:"25",r:"2",fill:"#3b82f6"}),c.jsx("line",{x1:"70",y1:"25",x2:"78",y2:"20",stroke:"#3b82f6",strokeWidth:"1"}),c.jsx("circle",{cx:"78",cy:"20",r:"1.5",fill:"#60a5fa"}),c.jsx("circle",{cx:"75",cy:"32",r:"2",fill:"#60a5fa"}),c.jsx("line",{x1:"75",y1:"32",x2:"82",y2:"28",stroke:"#60a5fa",strokeWidth:"1"}),c.jsx("circle",{cx:"82",cy:"28",r:"1.5",fill:"#3b82f6"})]}),c.jsxs("g",{opacity:"0.7",children:[c.jsx("circle",{cx:"30",cy:"75",r:"2",fill:"#60a5fa"}),c.jsx("line",{x1:"30",y1:"75",x2:"22",y2:"80",stroke:"#60a5fa",strokeWidth:"1"}),c.jsx("circle",{cx:"22",cy:"80",r:"1.5",fill:"#3b82f6"}),c.jsx("circle",{cx:"25",cy:"68",r:"2",fill:"#3b82f6"}),c.jsx("line",{x1:"25",y1:"68",x2:"18",y2:"72",stroke:"#3b82f6",strokeWidth:"1"}),c.jsx("circle",{cx:"18",cy:"72",r:"1.5",fill:"#60a5fa"})]}),c.jsxs("g",{filter:"url(#glow)",children:[c.jsx("path",{d:`M 65 35 \r
               A 15 15 0 1 0 65 65\r
               L 65 50\r
               L 55 50`,stroke:"url(#hexGradient)",strokeWidth:"5",strokeLinecap:"round",fill:"none"}),c.jsx("line",{x1:"55",y1:"50",x2:"62",y2:"50",stroke:"url(#hexGradient)",strokeWidth:"5",strokeLinecap:"round"}),c.jsx("circle",{cx:"50",cy:"50",r:"3",fill:"url(#innerGlow)",opacity:"0.8"})]}),c.jsx("circle",{cx:"50",cy:"5",r:"2",fill:"#3b82f6",opacity:"0.9"}),c.jsx("circle",{cx:"85",cy:"27.5",r:"2",fill:"#60a5fa",opacity:"0.9"}),c.jsx("circle",{cx:"85",cy:"72.5",r:"2",fill:"#3b82f6",opacity:"0.9"}),c.jsx("circle",{cx:"50",cy:"95",r:"2",fill:"#60a5fa",opacity:"0.9"}),c.jsx("circle",{cx:"15",cy:"72.5",r:"2",fill:"#3b82f6",opacity:"0.9"}),c.jsx("circle",{cx:"15",cy:"27.5",r:"2",fill:"#60a5fa",opacity:"0.9"})]})})}function Dd({size:t=24,showText:e=!0,textSize:n="1rem",uppercase:r=!1,color:i="currentColor"}){const[s,a]=S.useState(!1);return c.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",fontFamily:"inherit"},children:[s?c.jsx("svg",{width:t,height:t,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{flexShrink:0,display:"block"},children:c.jsx("path",{d:"M50 15 L75 85 L65 85 L60 70 L40 70 L35 85 L25 85 Z M45 55 L55 55 L50 40 Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"2"})}):c.jsx("img",{src:"/arc-logo.svg",alt:"Arc Logo",style:{width:`${t}px`,height:`${t}px`,objectFit:"contain",flexShrink:0,display:"block"},onError:o=>{if(console.error("Erro ao carregar logo da Arc. Tentando PNG..."),o.target.src.endsWith(".svg")){o.target.src="/arc-logo.png";return}console.error("Erro ao carregar logo da Arc (PNG tambm falhou)"),a(!0)}}),e&&c.jsx("span",{style:{fontSize:n,fontWeight:"600",color:"inherit",letterSpacing:"0.05em",textTransform:r?"uppercase":"none"},children:"Arc"})]})}function z5(){const{account:t,connectWallet:e,marketplaceContract:n,nftContract:r}=xl(),[i,s]=S.useState([]),[a,o]=S.useState({totalVolume:0,totalItems:0,loading:!0});return S.useEffect(()=>{(async()=>{if(!n||!r){o(u=>({...u,loading:!1}));return}try{o(A=>({...A,loading:!0}));const u=await n.listingCounter(),d=Number(u);if(d===0){o({totalVolume:0,totalItems:0,loading:!1}),s([]);return}const f=[];let h=dr("0");for(let A=0;A<d&&f.length<6;A++)try{const m=await n.getListing(A);m.active&&(f.push({listingId:A,nftContract:m.nftContract,tokenId:m.tokenId,seller:m.seller,price:m.price,active:m.active}),h=h+m.price)}catch{continue}f.sort((A,m)=>{const g=BigInt(A.price),y=BigInt(m.price);return y>g?1:y<g?-1:0});const w=f.slice(0,3),b=await Promise.all(w.map(async A=>{try{const m=n.runner||n.provider,y=await new At(A.nftContract,r.interface,m).tokenURI(A.tokenId);let k={name:`NFT #${A.tokenId}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"};try{const j=JSON.parse(y);k={name:j.name||`NFT #${A.tokenId}`,description:j.description||"NFT from Genesis Launchpad",image:j.image||"",social_links:j.social_links||{},external_url:j.external_url||"",supply:j.supply||"1"}}catch{let O=y;if(y.startsWith("ipfs://")?O=`https://gateway.pinata.cloud/ipfs/${y.replace("ipfs://","")}`:(y.startsWith("Qm")||y.startsWith("baf"))&&(O=`https://gateway.pinata.cloud/ipfs/${y}`),O.startsWith("http"))try{const B=await fetch(O);if(B.ok){const E=await B.json();if(k={name:E.name||`NFT #${A.tokenId}`,description:E.description||"NFT from Genesis Launchpad",image:E.image||"",social_links:E.social_links||{},external_url:E.external_url||"",supply:E.supply||"1"},k.image&&k.image.startsWith("ipfs://")){const K=k.image.replace("ipfs://","");k.image=`https://gateway.pinata.cloud/ipfs/${K}`}else k.image&&(k.image.startsWith("Qm")||k.image.startsWith("baf"))&&(k.image=`https://gateway.pinata.cloud/ipfs/${k.image}`)}}catch(B){console.log("Could not load metadata:",B)}}return{...A,metadata:k}}catch{return{...A,metadata:{name:`NFT #${A.tokenId}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"}}}}));let v=dr("0");for(let A=0;A<d;A++)try{const m=await n.getListing(A);m.active&&(v=v+m.price)}catch{continue}s(b.filter(A=>A!==null)),o({totalVolume:parseFloat(tt(v)),totalItems:f.length,loading:!1})}catch(u){console.error("Error loading featured NFTs:",u),o({totalVolume:0,totalItems:0,loading:!1}),s([])}})()},[n,r]),c.jsxs("div",{className:"container",children:[c.jsxs("section",{className:"hero",children:[c.jsx("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"center"},children:c.jsx(Nb,{size:120,animate:!0})}),c.jsx("h1",{style:{fontSize:"6rem",marginBottom:"1rem",background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",filter:"drop-shadow(0 0 30px rgba(59, 130, 246, 0.5))",fontWeight:"900",letterSpacing:"0.15em"},children:"GENESIS"}),c.jsx("div",{style:{fontSize:"1.25rem",letterSpacing:"0.2em",color:"var(--accent-gold)",marginBottom:"1.5rem",textTransform:"uppercase",fontWeight:"600"},children:"Launch on Genesis"}),c.jsx("p",{className:"hero-subtitle",style:{maxWidth:"600px",margin:"0 auto 2rem"},children:"Discover, Collect, and Sell Extraordinary NFTs"}),c.jsx("div",{className:"flex-center gap-2",style:{marginTop:"2rem"},children:t?c.jsxs(c.Fragment,{children:[c.jsx(Gn,{to:"/collections",children:c.jsx("button",{className:"btn btn-primary",style:{padding:"1rem 2rem",fontSize:"1.0625rem"},children:"Collections"})}),c.jsx(Gn,{to:"/launchpad",children:c.jsx("button",{className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1.0625rem"},children:"Launchpad"})})]}):c.jsx("button",{className:"btn btn-primary",onClick:e,style:{padding:"1rem 2.5rem",fontSize:"1.0625rem"},children:"Get Started"})})]}),c.jsx("section",{className:"mt-4",children:c.jsxs("div",{className:"nft-grid",children:[c.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2.5rem 2rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(96, 165, 250, 0.05) 100%)"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"},children:""}),c.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.25rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Create"}),c.jsx("p",{className:"text-secondary",style:{lineHeight:"1.6"},children:"Transform your digital creations into unique, authentic NFTs"})]}),c.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2.5rem 2rem",background:"linear-gradient(135deg, rgba(96, 165, 250, 0.05) 0%, rgba(59, 130, 246, 0.05) 100%)"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 0 10px rgba(96, 165, 250, 0.5))"},children:""}),c.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.25rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Trade"}),c.jsx("p",{className:"text-secondary",style:{lineHeight:"1.6"},children:"List your NFTs with fair fees and secure blockchain transactions"})]}),c.jsxs("div",{className:"card",style:{textAlign:"center",padding:"2.5rem 2rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(96, 165, 250, 0.05) 100%)"},children:[c.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"},children:""}),c.jsx("h3",{style:{marginBottom:"0.75rem",fontSize:"1.25rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Collect"}),c.jsx("p",{className:"text-secondary",style:{lineHeight:"1.6"},children:"Enjoy fast transactions and low fees on Arc Testnet"})]})]})}),c.jsxs("section",{className:"mt-4",style:{marginTop:"4rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"2rem",flexWrap:"wrap",gap:"1.5rem"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"2rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em",background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem"},children:" Top 3 Featured NFTs"}),c.jsx("p",{className:"text-secondary",children:"Featured NFTs with highest market value"})]}),!a.loading&&c.jsxs("div",{style:{display:"flex",gap:"2rem",alignItems:"center",flexWrap:"wrap"},children:[c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Total Volume"}),c.jsxs("div",{style:{fontSize:"1.5rem",fontWeight:"700",background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[a.totalVolume.toFixed(2)," USDC"]})]}),c.jsxs("div",{style:{textAlign:"right"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"0.25rem"},children:"Items Listed"}),c.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-primary)"},children:a.totalItems})]})]})]}),a.loading?c.jsxs("div",{style:{textAlign:"center",padding:"4rem 2rem",background:"var(--border-light)",borderRadius:"16px",border:"2px solid var(--border)"},children:[c.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),c.jsx("p",{className:"text-secondary",children:"Loading featured NFTs..."})]}):i.length>0?c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:i.map(l=>c.jsxs("div",{className:"card",style:{overflow:"hidden",cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s",border:"1px solid var(--border)",background:"var(--surface)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-4px)",u.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[c.jsx("div",{style:{width:"100%",height:"300px",overflow:"hidden",background:"var(--border-light)"},children:l.metadata.image?c.jsx("img",{src:l.metadata.image.startsWith("ipfs://")?l.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):l.metadata.image.startsWith("Qm")||l.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${l.metadata.image}`:l.metadata.image,alt:l.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:u=>{u.target.style.display="none"}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem"},children:""})}),c.jsxs("div",{style:{padding:"1.25rem"},children:[c.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.05em"},children:[l.nftContract.substring(0,6),"...",l.nftContract.substring(38)]}),c.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"700",marginBottom:"0.5rem",color:"var(--text-primary)"},children:l.metadata.name}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"1rem",borderTop:"1px solid var(--border)",marginTop:"1rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Price"}),c.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:"var(--accent-gold)"},children:[tt(l.price)," USDC"]})]}),c.jsx(Gn,{to:"/explore",children:c.jsx("button",{className:"btn btn-primary",style:{padding:"0.625rem 1.25rem",fontSize:"0.875rem"},children:"View "})})]})]})]},l.listingId))}):c.jsxs("div",{style:{textAlign:"center",padding:"3rem 2rem",background:"var(--border-light)",borderRadius:"16px",border:"2px solid var(--border)"},children:[c.jsx("p",{className:"text-secondary",style:{fontSize:"1rem",marginBottom:"1.5rem"},children:"No NFTs listed in the launchpad yet"}),c.jsx(Gn,{to:"/launchpad",children:c.jsx("button",{className:"btn btn-primary",style:{padding:"1rem 2rem",fontSize:"1rem"},children:"Create First NFT "})})]}),i.length>0&&c.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:c.jsx(Gn,{to:"/explore",children:c.jsx("button",{className:"btn btn-outline",style:{padding:"1rem 2rem",fontSize:"1rem"},children:"View All NFTs "})})})]}),c.jsx("section",{className:"mt-4 text-center",children:c.jsxs("div",{className:"card",style:{maxWidth:"800px",margin:"0 auto",padding:"3rem 2rem",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.03) 0%, rgba(96, 165, 250, 0.03) 100%)",border:"2px solid",borderImage:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light)) 1"},children:[c.jsxs("h2",{style:{marginBottom:"1rem",fontSize:"1.75rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.1em",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",color:"var(--text)"},children:[c.jsx("span",{style:{background:"linear-gradient(135deg, var(--accent-gold), var(--accent-gold-light))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Powered by"}),c.jsx("div",{style:{color:"var(--accent-gold)"},children:c.jsx(Dd,{size:32,showText:!0,textSize:"1.75rem"})})]}),c.jsx("p",{className:"text-secondary",style:{marginBottom:"1.5rem",fontSize:"1.0625rem",lineHeight:"1.6"},children:"Arc Testnet offers robust and efficient infrastructure for NFTs, with native USDC support and seamless Web3 integration."}),c.jsxs("div",{className:"flex-center gap-2",style:{marginTop:"2rem",flexWrap:"wrap"},children:[c.jsx("div",{className:"badge badge-success",children:"Chain ID: 5042002"}),c.jsx("div",{className:"badge badge-success",children:"Currency: USDC"}),c.jsx("div",{className:"badge badge-success",children:"Fast & Secure"})]}),c.jsx("div",{style:{marginTop:"2rem"},children:c.jsx("a",{href:"https://testnet.arcscan.app",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline",style:{padding:"0.875rem 1.5rem"},children:"View Explorer "})})]})})]})}const ni=[{inputs:[{internalType:"string",name:"_collectionName",type:"string"},{internalType:"uint256",name:"_maxSupply",type:"uint256"},{internalType:"address",name:"_creator",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Airdrop",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"description",type:"string"},{indexed:!1,internalType:"string",name:"image",type:"string"}],name:"CollectionMetadataUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EarningsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldLimit",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newLimit",type:"uint256"}],name:"MaxMintPerWalletUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newPrice",type:"uint256"}],name:"MintPriceUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"MintingStatusChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"tokenURI",type:"string"}],name:"NFTMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"enabled",type:"bool"}],name:"PublicMintStatusChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint96",name:"feeNumerator",type:"uint96"}],name:"RoyaltyUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"bool",name:"status",type:"bool"}],name:"WhitelistUpdated",type:"event"},{inputs:[{internalType:"string[]",name:"uris",type:"string[]"}],name:"addTokenURIs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"addToWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"addToWhitelistBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"_tokenURI",type:"string"}],name:"airdrop",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"string[]",name:"tokenURIs",type:"string[]"}],name:"airdropBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"},{internalType:"string",name:"_tokenURI",type:"string"}],name:"airdropSameURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"availableEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"availableURIsCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"canMint",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionDescription",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionImage",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"collectionName",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"createdAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCollectionInfo",outputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_image",type:"string"},{internalType:"uint256",name:"_maxSupply",type:"uint256"},{internalType:"uint256",name:"_totalSupply",type:"uint256"},{internalType:"uint256",name:"_mintPrice",type:"uint256"},{internalType:"bool",name:"_mintingEnabled",type:"bool"},{internalType:"bool",name:"_publicMintEnabled",type:"bool"},{internalType:"bool",name:"_whitelistEnabled",type:"bool"},{internalType:"uint256",name:"_maxMintPerWallet",type:"uint256"},{internalType:"address",name:"_creator",type:"address"},{internalType:"uint256",name:"_createdAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintPerWallet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"_tokenURI",type:"string"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string[]",name:"tokenURIs",type:"string[]"}],name:"mintBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"mintPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"mintedPerWallet",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"mintingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"publicMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"publicMintEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"removeFromWhitelist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"image",type:"string"}],name:"setCollectionMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"limit",type:"uint256"}],name:"setMaxMintPerWallet",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newPrice",type:"uint256"}],name:"setMintPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setMintingEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setPublicMintEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint96",name:"feeNumerator",type:"uint96"}],name:"setRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"enabled",type:"bool"}],name:"setWhitelistEnabled",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"whitelistEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawEarnings",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawnEarnings",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function H5(){const{marketplaceContract:t,account:e,nftContract:n,isCorrectNetwork:r}=xl(),[i,s]=S.useState([]),[a,o]=S.useState([]),[l,u]=S.useState(!0),[d,f]=S.useState(null),[h,w]=S.useState("price-desc"),[b,v]=S.useState("all"),[A,m]=S.useState("all"),[g,y]=S.useState({min:"",max:""}),[k,j]=S.useState(!1);S.useEffect(()=>{t&&n&&B()},[t,n]);const O=G=>{let D=[...G!==void 0?G:i];if(b==="rare"?D=D.filter(z=>{var T,F,H,M;const X=((F=(T=z.metadata)==null?void 0:T.rarity)==null?void 0:F.rank)||((M=(H=z.metadata)==null?void 0:H.rarity)==null?void 0:M.score);return X&&X<=10}):b==="common"&&(D=D.filter(z=>{var T,F,H,M;const X=((F=(T=z.metadata)==null?void 0:T.rarity)==null?void 0:F.rank)||((M=(H=z.metadata)==null?void 0:H.rarity)==null?void 0:M.score);return!X||X>10})),A!=="all"&&(D=D.filter(z=>{var T;const X=(T=z.metadata)==null?void 0:T.collection_name;return X&&X.toLowerCase().includes(A.toLowerCase())})),g.min!==""){const z=dr(g.min);D=D.filter(X=>X.price>=z)}if(g.max!==""){const z=dr(g.max);D=D.filter(X=>X.price<=z)}D.sort((z,X)=>{var T,F,H,M,ge,ke,be,Le,Ae,ze,on,He,We,Ge,Je,U;switch(h){case"price-desc":return parseFloat(tt(X.price))-parseFloat(tt(z.price));case"price-asc":return parseFloat(tt(z.price))-parseFloat(tt(X.price));case"rarity-desc":{const re=((F=(T=z.metadata)==null?void 0:T.rarity)==null?void 0:F.score)||((M=(H=z.metadata)==null?void 0:H.rarity)==null?void 0:M.rank)||0;return(((ke=(ge=X.metadata)==null?void 0:ge.rarity)==null?void 0:ke.score)||((Le=(be=X.metadata)==null?void 0:be.rarity)==null?void 0:Le.rank)||0)-re}case"rarity-asc":{const re=((ze=(Ae=z.metadata)==null?void 0:Ae.rarity)==null?void 0:ze.score)||((He=(on=z.metadata)==null?void 0:on.rarity)==null?void 0:He.rank)||0,Ie=((Ge=(We=X.metadata)==null?void 0:We.rarity)==null?void 0:Ge.score)||((U=(Je=X.metadata)==null?void 0:Je.rarity)==null?void 0:U.rank)||0;return re-Ie}case"recent":default:return 0}}),o(D)};S.useEffect(()=>{i.length>0?O(i):i.length===0&&a.length>0&&o([])},[h,b,A,g.min,g.max,i.length]);const B=async()=>{var G;try{if(u(!0),!t||!n){console.error("Contratos no inicializados"),P.error("Contratos no inicializados. Reconecte sua carteira."),s([]),o([]);return}console.log("=== INICIANDO CARREGAMENTO DE LISTAGENS ==="),console.log("Marketplace Contract:",t==null?void 0:t.target),console.log("NFT Contract:",n==null?void 0:n.target);try{const Z=await t.listingCounter(),D=Number(Z);if(console.log(" Total de listagens no contrato:",D),console.log("   (listingCounter value:",Z.toString(),")"),D===0){console.log(" Nenhuma listagem encontrada no contrato"),console.log("   Se voc acabou de listar um NFT, aguarde alguns segundos e recarregue"),s([]),o([]);return}const z=[];console.log(` Iniciando iterao por ${D} listagens...`);for(let F=0;F<D;F++)try{console.log(` Carregando listagem ${F}/${D-1}...`);const H=await t.getListing(F),M={listingId:F,nftContract:H.nftContract,tokenId:H.tokenId.toString(),seller:H.seller,price:H.price.toString(),active:H.active};console.log(`   Listagem ${F}:`,M),H.active?(z.push({listingId:F,nftContract:H.nftContract,tokenId:H.tokenId,seller:H.seller,price:H.price,active:H.active}),console.log(`    Listagem ${F} est ATIVA - ser exibida`)):console.log(`    Listagem ${F} est INATIVA - no ser exibida`)}catch(H){console.error(`    Erro ao carregar listagem ${F}:`,{message:H.message,code:H.code,data:H.data});continue}if(console.log(` Listagens ativas encontradas: ${z.length}`),console.log("Detalhes das listagens ativas:",z),z.length===0){console.log(" Nenhuma listagem ativa encontrada"),s([]),o([]);return}const T=(await Promise.all(z.map(async F=>{var H,M,ge;try{const ke=F.nftContract||F[0],be=((H=F.tokenId)==null?void 0:H.toString())||((M=F[1])==null?void 0:M.toString());if(!ke||be===void 0)return console.error(" Listagem sem dados vlidos:",F),null;console.log(` Carregando metadados para NFT ${be} do contrato ${ke}`);const Le=t.runner||t.provider,ze=ke.toLowerCase()===Vt.mockNFT.toLowerCase()?n.interface:ni,He=await new At(ke,ze,Le).tokenURI(be);console.log(`   TokenURI: ${He.substring(0,100)}...`);let We={name:`NFT #${be}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"};try{const Ge=JSON.parse(He);We={name:Ge.name||`NFT #${be}`,description:Ge.description||"NFT from Genesis Launchpad",image:Ge.image||"",social_links:Ge.social_links||{},external_url:Ge.external_url||"",supply:Ge.supply||"1",rarity:Ge.rarity||null,collection_name:Ge.collection_name||null,collection_supply:Ge.collection_supply||null,edition_number:Ge.edition_number||null}}catch{let Je=He;if(He.startsWith("ipfs://")?Je=`https://gateway.pinata.cloud/ipfs/${He.replace("ipfs://","")}`:(He.startsWith("Qm")||He.startsWith("baf"))&&(Je=`https://gateway.pinata.cloud/ipfs/${He}`),Je.startsWith("http"))try{const U=await fetch(Je);if(U.ok){const re=await U.json();if(We={name:re.name||`NFT #${be}`,description:re.description||"NFT from Genesis Launchpad",image:re.image||"",social_links:re.social_links||{},external_url:re.external_url||"",supply:re.supply||"1",rarity:re.rarity||null,collection_name:re.collection_name||null,collection_supply:re.collection_supply||null,edition_number:re.edition_number||null},We.image&&We.image.startsWith("ipfs://")){const Ie=We.image.replace("ipfs://","");We.image=`https://gateway.pinata.cloud/ipfs/${Ie}`}else We.image&&(We.image.startsWith("Qm")||We.image.startsWith("baf"))&&(We.image=`https://gateway.pinata.cloud/ipfs/${We.image}`)}}catch(U){console.log("Could not load metadata from URI:",U)}}return{...F,metadata:We}}catch(ke){console.error(`    Error loading NFT metadata for listing ${F.listingId}:`,ke);const be=((ge=F.tokenId)==null?void 0:ge.toString())||"unknown";return{...F,metadata:{name:`NFT #${be}`,description:"NFT from Genesis Launchpad",image:"",supply:"1"}}}}).filter(F=>F!==null))).filter(F=>F&&F.active);console.log(` Listagens vlidas com metadados: ${T.length}`),console.log("Listagens finais:",T),s(T),O(T)}catch(Z){throw console.error(" Erro ao buscar listingCounter:",Z),Z}}catch(Z){console.error("Error loading listings:",Z),console.error("Error details:",{message:Z.message,code:Z.code,data:Z.data}),P.error(`Error loading NFTs: ${((G=Z.message)==null?void 0:G.substring(0,100))||"Unknown error"}`),s([]),o([])}finally{u(!1)}},E=async(G,Z)=>{var D,z,X,T,F;if(!e){P.error("Please connect your wallet first");return}if(!r){P.error("Please connect to Arc Testnet");return}try{f(G),P.loading("Processing purchase...",{id:"buy"}),console.log(" Iniciando compra:",{listingId:G,price:Z.toString(),priceFormatted:tt(Z),buyer:e});const H=await t.getListing(G);if(console.log(" Listagem encontrada:",{nftContract:H.nftContract,tokenId:H.tokenId.toString(),seller:H.seller,price:H.price.toString(),active:H.active}),!H.active){P.error("This listing is no longer active",{id:"buy"});return}if(H.seller.toLowerCase()===e.toLowerCase()){P.error("You cannot buy your own NFT",{id:"buy"});return}const M=await t.buyItem(G,{value:Z});console.log(" Transao enviada:",M.hash);const ge=await M.wait();console.log(" Transao confirmada:",ge),P.success("NFT purchased successfully!",{id:"buy"}),B()}catch(H){console.error("Error buying NFT:",H);let M="Error purchasing NFT";(D=H.message)!=null&&D.includes("insufficient funds")?M="Insufficient balance to complete purchase":(z=H.message)!=null&&z.includes("user rejected")?M="Transaction rejected by user":(X=H.message)!=null&&X.includes("Marketplace nao aprovado")?M="NFT not approved for marketplace. Seller needs to re-list.":(T=H.message)!=null&&T.includes("Listagem nao esta ativa")?M="This listing is no longer active":(F=H.message)!=null&&F.includes("Voce nao e o dono")?M="Seller no longer owns this NFT":H.code==="ACTION_REJECTED"&&(M="Transaction cancelled"),P.error(M,{id:"buy"})}finally{f(null)}};if(!t||!n)return c.jsx("div",{className:"container",style:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("div",{className:"loading",style:{textAlign:"center"},children:[c.jsx("h2",{style:{marginBottom:"1rem"},children:"Connect your wallet to view collections"}),c.jsx("p",{className:"text-secondary mt-2",style:{marginBottom:"1rem"},children:'Click "Connect Wallet" at the top of the page'}),c.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),style:{marginTop:"1rem"},children:" Refresh Page"})]})});if(l)return c.jsx("div",{className:"container",style:{minHeight:"60vh",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("div",{className:"loading",style:{textAlign:"center"},children:[c.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),c.jsx("p",{className:"text-secondary",children:"Loading NFTs..."})]})});if(a.length===0&&!l)return c.jsx("div",{className:"container",children:c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem"},children:"Collections"}),c.jsx("p",{className:"section-subtitle",children:"Real blockchain creations only"}),c.jsxs("div",{className:"card text-center",style:{marginTop:"2rem"},children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"No NFTs available"}),c.jsx("p",{className:"text-secondary mb-2",children:"Be the first to create and list an NFT!"}),c.jsx("button",{className:"btn btn-primary",onClick:B,style:{marginTop:"1rem"},children:" Reload"})]})]})});const K=[...a].sort((G,Z)=>parseFloat(tt(Z.price))-parseFloat(tt(G.price))),_=K.slice(0,3),ee=K.slice(3),ye=(G,Z=!1)=>{var D,z,X,T,F,H;return c.jsxs("div",{className:"nft-card",style:Z?{borderRadius:"16px",overflow:"hidden",background:"var(--surface)",border:"1px solid var(--border)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"}:{},onMouseEnter:M=>{Z&&(M.currentTarget.style.transform="translateY(-4px)",M.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3)")},onMouseLeave:M=>{Z&&(M.currentTarget.style.transform="translateY(0)",M.currentTarget.style.boxShadow="none")},children:[c.jsxs("div",{className:"nft-image",style:Z?{height:"400px",position:"relative"}:{position:"relative"},children:[G.metadata.image?c.jsx("img",{src:G.metadata.image.startsWith("ipfs://")?G.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):G.metadata.image.startsWith("Qm")||G.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${G.metadata.image}`:G.metadata.image,alt:G.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:M=>{console.error("Erro ao carregar imagem:",G.metadata.image),M.target.style.display="none"}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:Z?"6rem":"4rem"},children:""}),((D=G.metadata)==null?void 0:D.rarity)&&c.jsxs("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem",background:G.metadata.rarity.rank<=5?"linear-gradient(135deg, rgba(59, 130, 246, 0.95), rgba(96, 165, 250, 0.95))":G.metadata.rarity.rank<=10?"linear-gradient(135deg, rgba(192, 192, 192, 0.95), rgba(230, 230, 230, 0.95))":"rgba(139, 69, 19, 0.9)",color:G.metadata.rarity.rank<=10?"var(--text)":"white",padding:"0.5rem 0.75rem",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"700",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"0.25rem"},children:[G.metadata.rarity.rank<=5?"":G.metadata.rarity.rank<=10?"":"","Rank #",G.metadata.rarity.rank,G.metadata.rarity.percentile&&c.jsxs("span",{style:{fontSize:"0.65rem",opacity:.9},children:["(",G.metadata.rarity.percentile,")"]})]})]}),c.jsxs("div",{className:"nft-content",style:Z?{padding:"1.25rem"}:{},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",flexWrap:"wrap",gap:"0.5rem"},children:[c.jsx("div",{className:"nft-collection-name",style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:((z=G.metadata)==null?void 0:z.collection_name)||`${G.nftContract.substring(0,6)}...${G.nftContract.substring(38)}`}),c.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:((X=G.metadata)==null?void 0:X.edition_number)&&((T=G.metadata)==null?void 0:T.collection_supply)&&c.jsxs("span",{style:{background:"var(--border-light)",color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"600",padding:"0.25rem 0.5rem",borderRadius:"6px",border:"1px solid var(--border)"},children:["#",G.metadata.edition_number,"/",G.metadata.collection_supply]})})]}),c.jsx("h3",{className:"nft-title",style:Z?{fontSize:"1.25rem",marginBottom:"0.5rem"}:{},children:G.metadata.name}),Z&&G.metadata.description&&c.jsxs("p",{className:"nft-description",style:{marginBottom:"1rem",fontSize:"0.9375rem"},children:[(F=G.metadata.description)==null?void 0:F.substring(0,120),((H=G.metadata.description)==null?void 0:H.length)>120?"...":""]}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.75rem",paddingBottom:"0.75rem",borderBottom:"1px solid var(--border-light)",alignItems:"center",justifyContent:"space-between"},children:[G.metadata.social_links&&Object.values(G.metadata.social_links).some(M=>M)&&c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[G.metadata.social_links.twitter&&c.jsx("a",{href:G.metadata.social_links.twitter,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Twitter",children:""}),G.metadata.social_links.discord&&c.jsx("a",{href:G.metadata.social_links.discord,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Discord",children:""}),G.metadata.social_links.instagram&&c.jsx("a",{href:G.metadata.social_links.instagram,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Instagram",children:""}),G.metadata.external_url&&c.jsx("a",{href:G.metadata.external_url,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{fontSize:"1.25rem",textDecoration:"none",opacity:.7,transition:"opacity 0.2s"},onMouseOver:M=>M.currentTarget.style.opacity=1,onMouseOut:M=>M.currentTarget.style.opacity=.7,title:"Website",children:""})]}),c.jsx("a",{href:`${Rt.blockExplorerUrls[0]}/token/${G.nftContract}?a=${G.tokenId.toString()}`,target:"_blank",rel:"noopener noreferrer",onClick:M=>M.stopPropagation(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"6px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",border:"1px solid rgba(59, 130, 246, 0.3)",textDecoration:"none",opacity:.8,transition:"all 0.2s",cursor:"pointer",padding:"4px"},onMouseOver:M=>{M.currentTarget.style.opacity=1,M.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2))",M.currentTarget.style.borderColor="rgba(59, 130, 246, 0.5)",M.currentTarget.style.transform="scale(1.1)"},onMouseOut:M=>{M.currentTarget.style.opacity=.8,M.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",M.currentTarget.style.borderColor="rgba(59, 130, 246, 0.3)",M.currentTarget.style.transform="scale(1)"},title:"View on Arc Explorer",children:c.jsx(Dd,{size:20,showText:!1})})]}),c.jsx("div",{className:"nft-price",style:Z?{marginBottom:"0.75rem"}:{marginBottom:"0.5rem"},children:c.jsxs("div",{style:{width:"100%"},children:[c.jsx("div",{className:"price-label",children:"Current Price"}),c.jsxs("div",{className:"price-value",style:{marginTop:"0.25rem",fontSize:Z?"1.25rem":"1rem"},children:[c.jsx("span",{style:{fontSize:Z?"1rem":"0.875rem",marginRight:"0.25rem"},children:""}),tt(G.price)," USDC"]})]})}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.7rem",color:"var(--text-secondary)",padding:"0.5rem",background:"var(--surface-alt)",borderRadius:"6px",marginBottom:"0.75rem",gap:"0.5rem"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[c.jsx("span",{children:""}),c.jsxs("span",{children:["Marketplace: ",tw.marketplaceFee,"%"]})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[c.jsx("span",{children:""}),c.jsxs("span",{children:["Royalty: ",tw.defaultRoyalty,"%"]})]})]}),c.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:Z?"1rem":"0.75rem",fontSize:Z?"1rem":"0.875rem"},onClick:()=>E(G.listingId,G.price),disabled:d===G.listingId||G.seller.toLowerCase()===(e==null?void 0:e.toLowerCase()),children:d===G.listingId?"Processing...":G.seller.toLowerCase()===(e==null?void 0:e.toLowerCase())?"Your NFT":"Buy Now"})]})]},G.listingId)};return c.jsx("div",{className:"container",children:c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"Collections"}),c.jsxs("p",{className:"section-subtitle",children:[a.length," NFT",a.length!==1?"s":""," available  Real blockchain creations only"]})]}),c.jsx("button",{className:"btn btn-secondary",onClick:B,style:{padding:"0.75rem 1.5rem"},title:"Reload listings",children:" Reload"})]}),_.length>0&&c.jsxs("div",{style:{marginBottom:"4rem"},children:[c.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{children:""}),"Featured NFTs"]}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:_.length===1?"1fr":_.length===2?"repeat(2, 1fr)":"repeat(3, 1fr)",gap:"1.5rem",marginBottom:"2rem"},children:_.map(G=>ye(G,!0))})]}),ee.length>0&&c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem"},children:"All NFTs"}),c.jsx("div",{className:"nft-grid",children:ee.map(G=>ye(G,!1))})]}),_.length===0&&ee.length===0&&a.length>0&&c.jsxs("div",{className:"card text-center",style:{marginTop:"2rem"},children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"Error displaying NFTs"}),c.jsxs("p",{className:"text-secondary mb-2",children:["There are ",a.length," NFT(s) available but they couldn't be displayed."]}),c.jsx("button",{className:"btn btn-primary",onClick:B,style:{marginTop:"1rem"},children:" Reload"})]})]})})}function W5(){const{nftContract:t,marketplaceContract:e,collectionFactoryContract:n,account:r,isCorrectNetwork:i,signer:s}=xl(),[a,o]=S.useState([]),[l,u]=S.useState([]),[d,f]=S.useState([]),[h,w]=S.useState(!0),[b,v]=S.useState(!1),[A,m]=S.useState(!1),[g,y]=S.useState(!1),[k,j]=S.useState(null),[O,B]=S.useState(null),[E,K]=S.useState(""),[_,ee]=S.useState(""),[ye,G]=S.useState(!1),[Z,D]=S.useState(!1),[z,X]=S.useState({name:"",description:"",twitter:"",discord:"",instagram:"",website:""}),[T,F]=S.useState(!1);S.useEffect(()=>{t&&e&&r?M():r&&(!t||!e)?(w(!1),console.warn("Contratos no inicializados")):w(!1)},[t,e,r]);const H=async(U,re,Ie)=>{let Me={name:`NFT #${re}`,description:"NFT from Genesis Launchpad",image:"",supply:"1",contractAddress:Ie};try{const N=JSON.parse(U);Me={name:N.name||`NFT #${re}`,description:N.description||"NFT from Genesis Launchpad",image:N.image||"",social_links:N.social_links||{},external_url:N.external_url||"",supply:N.collection_supply||N.supply||"1",collection_name:N.collection_name||"",edition_number:N.edition_number||null,rarity:N.rarity||null,is_collection:N.is_collection||!1,contractAddress:Ie}}catch{let J=U;if(U.startsWith("ipfs://")?J=`https://gateway.pinata.cloud/ipfs/${U.replace("ipfs://","")}`:(U.startsWith("Qm")||U.startsWith("baf"))&&(J=`https://gateway.pinata.cloud/ipfs/${U}`),J.startsWith("http"))try{const oe=await fetch(J);if(oe.ok){const R=await oe.json();if(Me={name:R.name||`NFT #${re}`,description:R.description||"NFT from Genesis Launchpad",image:R.image||"",social_links:R.social_links||{},external_url:R.external_url||"",supply:R.collection_supply||R.supply||"1",collection_name:R.collection_name||"",edition_number:R.edition_number||null,rarity:R.rarity||null,is_collection:R.is_collection||!1,contractAddress:Ie},Me.image&&Me.image.startsWith("ipfs://")){const Y=Me.image.replace("ipfs://","");Me.image=`https://gateway.pinata.cloud/ipfs/${Y}`}}}catch(oe){console.log("Could not load metadata from URI:",oe)}}return Me},M=async()=>{var U;try{if(w(!0),!e){console.error("Contratos no inicializados"),P.error("Contracts not initialized. Please reconnect your wallet.");return}const re=[];if(t)try{const N=await t.balanceOf(r);console.log(" MockNFT - Saldo de NFTs:",Number(N));for(let J=0;J<100&&re.length<Number(N);J++)try{if((await t.ownerOf(J)).toLowerCase()===r.toLowerCase()){const R=await t.tokenURI(J),Y=await H(R,J,Vt.mockNFT);re.push({tokenId:J,tokenURI:R,metadata:Y,contractAddress:Vt.mockNFT,isFromCollection:!1})}}catch{continue}}catch(N){console.warn("Erro ao carregar do MockNFT:",N)}console.log(" Verificando CollectionFactory...",{hasFactory:!!n,factoryAddress:(n==null?void 0:n.target)||"N/A",hasSigner:!!s,account:r});const Ie=[],Me=new Set;if(n&&s)try{console.log(" Buscando TODAS as colees no CollectionFactory..."),console.log("   Factory Address:",n.target),console.log("   User Account:",r);let N=[];try{N=await n.getAllCollections(),console.log("    Total de colees no Factory:",N.length)}catch(oe){console.warn("   Erro ao buscar todas as colees:",oe.message)}let J=[];try{J=await n.getCreatorCollections(r),console.log(" Colees criadas pelo usurio:",J.length)}catch(oe){console.warn("Erro ao buscar colees criadas:",oe.message)}for(const oe of N)try{console.log(" Verificando coleo:",oe),Me.add(oe.toLowerCase());const R=new At(oe,ni,s),Y=await R.collectionName(),fe=await R.totalSupply(),te=await R.maxSupply(),Te=J.some($=>$.toLowerCase()===oe.toLowerCase());let q="";if(Number(fe)>0)try{const $=await R.tokenURI(1);q=(await H($,1,oe)).image}catch{}Te&&Ie.push({address:oe,name:Y,totalSupply:Number(fe),maxSupply:Number(te),image:q});for(let $=1;$<=Number(fe);$++)try{if((await R.ownerOf($)).toLowerCase()===r.toLowerCase()){const de=await R.tokenURI($),ve=await H(de,$,oe);console.log(`    NFT encontrado: ${Y} #${$}`),re.push({tokenId:$,tokenURI:de,metadata:{...ve,collection_name:Y},contractAddress:oe,isFromCollection:!0,collectionName:Y,isCreator:Te})}}catch{continue}}catch(R){console.warn("Erro ao carregar coleo:",oe,R.message);continue}}catch(N){console.warn("Erro ao buscar colees do CollectionFactory:",N)}f(Ie),console.log(" Total de NFTs carregados:",re.length),o(re);try{const N=await e.listingCounter(),J=[];for(let oe=0;oe<Number(N);oe++)try{const R=await e.getListing(oe);R.seller.toLowerCase()===r.toLowerCase()&&R.active&&J.push({listingId:oe,nftContract:R.nftContract,tokenId:R.tokenId,seller:R.seller,price:R.price,active:R.active})}catch{continue}console.log("Listagens encontradas:",J.length),J.length>0&&console.log("Primeiro listing:",{listingId:J[0].listingId,nftContract:J[0].nftContract,tokenId:Number(J[0].tokenId)}),u(J)}catch(N){console.error("Erro ao carregar listagens:",N),u([])}}catch(re){console.error("Error loading my NFTs:",re),console.error("Error details:",{message:re.message,code:re.code,data:re.data}),P.error(`Erro ao carregar NFTs: ${((U=re.message)==null?void 0:U.substring(0,100))||"Erro desconhecido"}`),o([]),u([])}finally{w(!1)}},ge=U=>{j(U),v(!0),K("")},ke=()=>{v(!1),j(null),K("")},be=U=>{var Ie,Me,N;j(U);let re={name:U.metadata.name,description:U.metadata.description};try{const J=JSON.parse(U.tokenURI);re={name:J.name||U.metadata.name,description:J.description||U.metadata.description,twitter:((Ie=J.social_links)==null?void 0:Ie.twitter)||"",discord:((Me=J.social_links)==null?void 0:Me.discord)||"",instagram:((N=J.social_links)==null?void 0:N.instagram)||"",website:J.external_url||""}}catch{re={name:U.metadata.name,description:U.metadata.description,twitter:"",discord:"",instagram:"",website:""}}X(re),m(!0)},Le=()=>{m(!1),j(null),X({name:"",description:"",twitter:"",discord:"",instagram:"",website:""})},Ae=U=>{X({...z,[U.target.name]:U.target.value})},ze=async()=>{if(!z.name||!z.description){P.error("Nome e descrio so obrigatrios");return}try{F(!0),P.success("Information saved locally! (To save on blockchain, contract needs update function)",{duration:5e3});const U=a.map(re=>re.tokenId===k.tokenId?{...re,metadata:{...re.metadata,name:z.name,description:z.description}}:re);o(U),Le()}catch(U){console.error("Error saving NFT info:",U),P.error("Error saving information")}finally{F(!1)}},on=async()=>{if(!E||parseFloat(E)<=0){P.error("Enter a valid price");return}if(!i){P.error("Por favor, conecte-se  Arc Testnet");return}try{G(!0),P.loading("Listing NFT...",{id:"list"});const U=k.contractAddress||Vt.mockNFT,re=k.isFromCollection?new At(U,ni,s):t;await re.isApprovedForAll(r,Vt.marketplace)||(P.loading("Approving marketplace...",{id:"list"}),await(await re.setApprovalForAll(Vt.marketplace,!0)).wait()),P.loading("Creating listing...",{id:"list"});const Me=dr(E);console.log(" Listando NFT:",{nftContract:U,tokenId:k.tokenId,price:E,priceWei:Me.toString(),account:r,isFromCollection:k.isFromCollection});const N=await e.listItem(U,k.tokenId,Me);console.log(" Aguardando confirmao da transao...",N.hash);const J=await N.wait();console.log(" Transao confirmada:",J);try{const oe=e.interface,R=J.logs.find(Y=>{try{return oe.parseLog(Y).name==="ItemListed"}catch{return!1}});if(R){const Y=oe.parseLog(R),fe=Y.args.listingId;console.log(" NFT listado com sucesso! Listing ID:",fe.toString()),console.log("Detalhes da listagem:",{listingId:fe.toString(),seller:Y.args.seller,nftContract:Y.args.nftContract,tokenId:Y.args.tokenId.toString(),price:Y.args.price.toString()})}else console.warn(" Evento ItemListed no encontrado nos logs")}catch(oe){console.error("Erro ao parsear evento:",oe)}P.success("NFT listed successfully! Reload the Explore page to see it.",{id:"list",duration:5e3}),ke(),M()}catch(U){console.error("Error listing NFT:",U),P.error("Error listing NFT",{id:"list"})}finally{G(!1)}},He=async U=>{if(!i){P.error("Por favor, conecte-se  Arc Testnet");return}try{P.loading("Canceling listing...",{id:"cancel"}),await(await e.cancelListing(U)).wait(),P.success("Listing canceled!",{id:"cancel"}),M()}catch(re){console.error("Error canceling listing:",re),P.error("Error canceling listing",{id:"cancel"})}},We=(U,re)=>{B(U),j(re),ee(tt(U.price)),y(!0)},Ge=()=>{y(!1),B(null),ee("")},Je=async()=>{var U,re;if(!_||parseFloat(_)<=0){P.error("Enter a valid price");return}if(!i){P.error("Please connect to Arc Testnet");return}try{D(!0),P.loading("Updating price...",{id:"updatePrice"});const Ie=dr(_);await(await e.updateListingPrice(O.listingId,Ie)).wait(),P.success(`Price updated to ${_} USDC!`,{id:"updatePrice"}),Ge(),M()}catch(Ie){console.error("Error updating price:",Ie);let Me="Error updating price";(U=Ie.message)!=null&&U.includes("Apenas o vendedor")?Me="Only the seller can update the price":(re=Ie.message)!=null&&re.includes("Listagem nao esta ativa")&&(Me="Listing is no longer active"),P.error(Me,{id:"updatePrice"})}finally{D(!1)}};return r?!t||!e?c.jsx("div",{className:"container",children:c.jsxs("div",{className:"loading",children:[c.jsx("h2",{children:"Contracts not initialized"}),c.jsx("p",{className:"text-secondary mt-2",children:"Reconecte sua carteira para carregar seus NFTs"})]})}):h?c.jsx("div",{className:"container",children:c.jsxs("div",{className:"loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{className:"text-secondary",children:"Loading your NFTs..."})]})}):c.jsxs("div",{className:"container",children:[d.length>0&&c.jsxs("section",{style:{padding:"3rem 0",borderBottom:"1px solid var(--border)",marginBottom:"2rem"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem",marginBottom:"0.5rem"},children:" My Collections"}),c.jsxs("p",{className:"section-subtitle",style:{margin:0},children:[d.length," collection",d.length!==1?"s":""," created by you"]})]})}),c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:d.map(U=>c.jsxs("div",{style:{background:"var(--surface)",borderRadius:"16px",border:"1px solid var(--border)",overflow:"hidden",transition:"all 0.3s ease"},onMouseEnter:re=>{re.currentTarget.style.transform="translateY(-4px)",re.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.2)"},onMouseLeave:re=>{re.currentTarget.style.transform="translateY(0)",re.currentTarget.style.boxShadow="none"},children:[c.jsxs("div",{style:{height:"160px",overflow:"hidden",position:"relative"},children:[U.image?c.jsx("img",{src:U.image.startsWith("ipfs://")?U.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):U.image,alt:U.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):c.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, var(--primary), var(--accent-gold))",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"3rem"},children:""}),c.jsxs("div",{style:{position:"absolute",bottom:"0.75rem",right:"0.75rem",background:"rgba(0, 0, 0, 0.8)",padding:"0.375rem 0.75rem",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"600",color:"white"},children:[U.totalSupply," / ",U.maxSupply," minted"]})]}),c.jsxs("div",{style:{padding:"1.25rem"},children:[c.jsx("h3",{style:{margin:"0 0 0.75rem",fontSize:"1.125rem"},children:U.name}),c.jsx("div",{style:{marginBottom:"1rem"},children:c.jsx("div",{style:{height:"6px",background:"var(--border)",borderRadius:"3px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${U.totalSupply/U.maxSupply*100}%`,height:"100%",background:"linear-gradient(90deg, var(--primary), var(--accent-gold))",borderRadius:"3px",transition:"width 0.3s ease"}})})}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"1rem",fontFamily:"monospace",wordBreak:"break-all"},children:[U.address.substring(0,10),"...",U.address.substring(36)]}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[c.jsxs(Gn,{to:`/dashboard/${U.address}`,className:"btn btn-primary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",textDecoration:"none"},children:[c.jsx("span",{children:""}),"Dashboard"]}),c.jsx("a",{href:`${Rt.blockExplorerUrls[0]}/address/${U.address}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline",style:{padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},title:"View on Explorer",children:c.jsx(Dd,{size:20,showText:!1})})]})]})]},U.address))})]}),c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2rem"},children:"My NFTs"}),c.jsxs("p",{className:"section-subtitle",children:[a.length," item",a.length!==1?"s":""," in your wallet"]}),a.length===0?c.jsxs("div",{className:"card text-center",children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"You don't have any NFTs yet"}),c.jsx("p",{className:"text-secondary mb-2",children:"Create your first NFT or buy one on the launchpad"})]}):c.jsx("div",{className:"nft-grid",children:a.map(U=>{var Me,N;const re=l.some(J=>{var oe,R;return Number(J.tokenId)===U.tokenId&&((oe=J.nftContract)==null?void 0:oe.toLowerCase())===((R=U.contractAddress)==null?void 0:R.toLowerCase())}),Ie=l.find(J=>{var oe,R;return Number(J.tokenId)===U.tokenId&&((oe=J.nftContract)==null?void 0:oe.toLowerCase())===((R=U.contractAddress)==null?void 0:R.toLowerCase())});return c.jsxs("div",{className:"nft-card",children:[c.jsx("div",{className:"nft-image",children:U.metadata.image?c.jsx("img",{src:U.metadata.image.startsWith("ipfs://")?U.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):U.metadata.image.startsWith("Qm")||U.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${U.metadata.image}`:U.metadata.image,alt:U.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:J=>{console.error("Erro ao carregar imagem:",U.metadata.image),J.target.style.display="none"}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem"},children:""})}),c.jsxs("div",{className:"nft-content",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[c.jsx("div",{className:"nft-collection-name",children:U.collectionName||U.metadata.collection_name||"Genesis Collection"}),U.metadata.rarity&&c.jsxs("span",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.1))",color:"var(--accent-gold)",fontSize:"0.7rem",fontWeight:"700",padding:"0.25rem 0.5rem",borderRadius:"6px",border:"1px solid rgba(59, 130, 246, 0.3)"},children:["Rank #",U.metadata.rarity.rank]}),U.metadata.edition_number&&!U.metadata.rarity&&c.jsxs("span",{style:{background:"var(--border-light)",color:"var(--text-secondary)",fontSize:"0.75rem",fontWeight:"600",padding:"0.25rem 0.5rem",borderRadius:"6px",border:"1px solid var(--border)"},children:["#",U.metadata.edition_number]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[c.jsx("h3",{className:"nft-title",style:{margin:0,flex:1},children:U.metadata.name}),c.jsx("a",{href:`${Rt.blockExplorerUrls[0]}/token/${U.contractAddress||Vt.mockNFT}?a=${U.tokenId.toString()}`,target:"_blank",rel:"noopener noreferrer",onClick:J=>J.stopPropagation(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"28px",height:"28px",borderRadius:"6px",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",border:"1px solid rgba(59, 130, 246, 0.3)",textDecoration:"none",opacity:.8,transition:"all 0.2s",cursor:"pointer",marginLeft:"0.5rem",flexShrink:0,padding:"4px"},onMouseOver:J=>{J.currentTarget.style.opacity=1,J.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2))",J.currentTarget.style.borderColor="rgba(59, 130, 246, 0.5)",J.currentTarget.style.transform="scale(1.1)"},onMouseOut:J=>{J.currentTarget.style.opacity=.8,J.currentTarget.style.background="linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(96, 165, 250, 0.1))",J.currentTarget.style.borderColor="rgba(59, 130, 246, 0.3)",J.currentTarget.style.transform="scale(1)"},title:"View on Arc Explorer",children:c.jsx(Dd,{size:20,showText:!1})})]}),c.jsxs("p",{className:"nft-description",children:[(Me=U.metadata.description)==null?void 0:Me.substring(0,80),((N=U.metadata.description)==null?void 0:N.length)>80?"...":""]}),re&&Ie?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"nft-price",children:c.jsxs("div",{style:{width:"100%"},children:[c.jsx("div",{className:"price-label",children:"Listed For"}),c.jsxs("div",{className:"price-value",style:{marginTop:"0.25rem"},children:[c.jsx("span",{style:{fontSize:"0.875rem",marginRight:"0.25rem"},children:""}),tt(Ie.price)," USDC"]})]})}),c.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.5rem"},children:c.jsx("button",{className:"btn btn-primary",style:{flex:1},onClick:()=>We(Ie,U),children:" Update Price"})}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{className:"btn btn-outline",style:{flex:1},onClick:()=>He(Ie.listingId),children:"Cancel Listing"}),c.jsx("button",{className:"btn btn-secondary",style:{padding:"0.75rem"},onClick:()=>be(U),title:"Edit NFT Info",children:""})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"1rem"},onClick:()=>ge(U),children:"List for Sale"}),c.jsxs("button",{className:"btn btn-secondary",style:{width:"100%",marginTop:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:()=>be(U),children:[c.jsx("span",{children:""}),"Edit Info"]})]})]})]},U.tokenId)})})]}),A&&c.jsx("div",{className:"modal-overlay",onClick:Le,children:c.jsxs("div",{className:"modal",onClick:U=>U.stopPropagation(),style:{maxWidth:"600px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:"Edit NFT Information"}),c.jsx("button",{className:"modal-close",onClick:Le,children:""})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Name *"}),c.jsx("input",{type:"text",name:"name",className:"form-input",placeholder:"Item name",value:z.name,onChange:Ae,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description *"}),c.jsx("textarea",{name:"description",className:"form-textarea",placeholder:"Provide a detailed description",value:z.description,onChange:Ae,required:!0,rows:"4"})]}),c.jsxs("div",{style:{marginBottom:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--border)"},children:[c.jsx("label",{className:"form-label",style:{marginBottom:"1rem"},children:"Social Links"}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Twitter"]}),c.jsx("input",{type:"url",name:"twitter",className:"form-input",placeholder:"https://twitter.com/yourusername",value:z.twitter,onChange:Ae})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Discord"]}),c.jsx("input",{type:"url",name:"discord",className:"form-input",placeholder:"https://discord.gg/yourserver",value:z.discord,onChange:Ae})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Instagram"]}),c.jsx("input",{type:"url",name:"instagram",className:"form-input",placeholder:"https://instagram.com/yourusername",value:z.instagram,onChange:Ae})]}),c.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[c.jsxs("label",{className:"form-label",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[c.jsx("span",{children:""})," Website"]}),c.jsx("input",{type:"url",name:"website",className:"form-input",placeholder:"https://yoursite.com",value:z.website,onChange:Ae})]})]}),c.jsx("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:c.jsxs("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",margin:0},children:[" ",c.jsx("strong",{children:"Note:"})," Metadata changes are saved locally. To permanently save on blockchain, the NFT contract would need an update function (not standard in ERC-721)."]})}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[c.jsx("button",{className:"btn btn-secondary",style:{flex:1,padding:"1rem"},onClick:Le,children:"Cancel"}),c.jsx("button",{className:"btn btn-primary",style:{flex:1,padding:"1rem"},onClick:ze,disabled:T,children:T?"Saving...":"Save Changes"})]})]})]})}),b&&c.jsx("div",{className:"modal-overlay",onClick:ke,children:c.jsxs("div",{className:"modal",onClick:U=>U.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:"List Item for Sale"}),c.jsx("button",{className:"modal-close",onClick:ke,children:""})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-secondary mb-2",style:{fontSize:"0.9375rem"},children:["You are listing: ",c.jsx("strong",{children:k==null?void 0:k.metadata.name})]}),c.jsxs("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[c.jsx("label",{className:"form-label",children:"Price (USDC)"}),c.jsx("input",{type:"number",step:"0.001",min:"0",className:"form-input",placeholder:"0.0",value:E,onChange:U=>K(U.target.value)})]}),c.jsxs("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Listing Price"}),c.jsxs("span",{style:{fontWeight:"600"},children:[E||"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Service Fee (2.5%)"}),c.jsxs("span",{style:{fontWeight:"600"},children:[E?(parseFloat(E)*.025).toFixed(4):"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.75rem",borderTop:"1px solid var(--border)",fontWeight:"600"},children:[c.jsx("span",{children:"You'll receive"}),c.jsxs("span",{style:{color:"var(--primary)"},children:[E?(parseFloat(E)*.975).toFixed(4):"0"," USDC"]})]})]}),c.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:"1rem"},onClick:on,disabled:ye,children:ye?"Processing...":"Complete Listing"})]})]})}),g&&c.jsx("div",{className:"modal-overlay",onClick:Ge,children:c.jsxs("div",{className:"modal",onClick:U=>U.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:" Update Listing Price"}),c.jsx("button",{className:"modal-close",onClick:Ge,children:""})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-secondary mb-2",style:{fontSize:"0.9375rem"},children:["You are updating: ",c.jsx("strong",{children:k==null?void 0:k.metadata.name})]}),c.jsx("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Current Price"}),c.jsxs("span",{style:{fontWeight:"600",color:"var(--text-secondary)"},children:[O?tt(O.price):"0"," USDC"]})]})}),c.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[c.jsx("label",{className:"form-label",children:"New Price (USDC)"}),c.jsx("input",{type:"number",step:"0.001",min:"0",className:"form-input",placeholder:"0.0",value:_,onChange:U=>ee(U.target.value),style:{fontSize:"1.25rem",fontWeight:"600"}})]}),c.jsxs("div",{style:{background:"var(--border-light)",padding:"1rem",borderRadius:"10px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"New Price"}),c.jsxs("span",{style:{fontWeight:"600"},children:[_||"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{className:"text-muted",style:{fontSize:"0.875rem"},children:"Service Fee (2.5%)"}),c.jsxs("span",{style:{fontWeight:"600"},children:[_?(parseFloat(_)*.025).toFixed(4):"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"0.75rem",borderTop:"1px solid var(--border)",fontWeight:"600"},children:[c.jsx("span",{children:"You'll receive"}),c.jsxs("span",{style:{color:"var(--primary)"},children:[_?(parseFloat(_)*.975).toFixed(4):"0"," USDC"]})]})]}),c.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[c.jsx("button",{className:"btn btn-secondary",style:{flex:1,padding:"1rem"},onClick:Ge,children:"Cancel"}),c.jsx("button",{className:"btn btn-primary",style:{flex:1,padding:"1rem"},onClick:Je,disabled:Z||!_||parseFloat(_)<=0,children:Z?"Updating...":"Update Price"})]})]})]})})]}):c.jsx("div",{className:"container",children:c.jsxs("div",{className:"loading",children:[c.jsx("h2",{children:"Conecte sua carteira para ver seus NFTs"}),c.jsx("p",{className:"text-secondary mt-2",children:'Clique em "Conectar Carteira" no topo da pgina'})]})})}const Fa="774ab5199b8003054585",Ma="a3dd9747be1da046d4928bb4c5ac8c6fd49397703ca8d5bcec95549bf8a8475e",G5="https://gateway.pinata.cloud/ipfs/",im=async t=>{var e,n,r;try{console.log(" Verificando configurao Pinata..."),console.log(" API Key presente:",!!Fa),console.log(" API Key valor:",Fa?`${Fa.substring(0,10)}...`:"no encontrada"),console.log(" Secret Key presente:",!!Ma),console.log(" Secret Key valor:",Ma?`${Ma.substring(0,10)}...`:"no encontrada"),console.log(" Import.meta.env.VITE_PINATA_API_KEY:","presente"),console.log(" Import.meta.env.VITE_PINATA_SECRET_KEY:","presente"),console.log(" Fazendo upload para Pinata (API antiga)...");const i=new FormData;i.append("file",t);const s=JSON.stringify({name:t.name,keyvalues:{timestamp:new Date().toISOString()}});i.append("pinataMetadata",s);const a=JSON.stringify({cidVersion:0});i.append("pinataOptions",a),console.log(" Endpoint: https://api.pinata.cloud/pinning/pinFileToIPFS"),console.log(" Usando API antiga (v1) do Pinata"),console.log(" Tamanho do arquivo:",t.size,"bytes"),console.log(" Tipo do arquivo:",t.type||"no especificado");const o=await fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{pinata_api_key:Fa,pinata_secret_api_key:Ma},body:i});if(console.log(" Resposta da API Pinata:",{status:o.status,statusText:o.statusText,ok:o.ok,headers:Object.fromEntries(o.headers.entries())}),!o.ok){const d=await o.text();console.error(" Erro completo da resposta:",d);let f=`Erro no upload Pinata (${o.status} ${o.statusText})`;try{const h=JSON.parse(d);console.error(" Erro JSON da API:",h),f=((e=h.error)==null?void 0:e.reason)||((n=h.error)==null?void 0:n.message)||h.message||d,o.status===401||o.status===403?((r=h.error)==null?void 0:r.reason)==="API_KEY_REVOKED"||f.includes("revoked")?f=` API KEY DO PINATA FOI REVOGADA!

 SOLUO: Gere novas chaves no Pinata:
1. Acesse: https://pinata.cloud
2. Faa login na sua conta
3. V em: Account Settings  API Keys
4. Clique em "New Key"
5. Selecione permisses: pinFileToIPFS, pinJSONToIPFS
6. Copie a nova API Key e Secret Key
7. Atualize o arquivo frontend/.env
8. Reinicie o servidor (Ctrl+C e npm run dev)

Veja IPFS_SETUP.md para mais detalhes.`:f="Chaves de API invlidas ou expiradas. Verifique se as chaves esto corretas no arquivo .env":o.status===429&&(f="Limite de requisies excedido. Aguarde alguns minutos e tente novamente.")}catch{f=d||f}throw console.error(" Erro da API Pinata:",f),new Error(`Erro no upload Pinata: ${f}`)}const l=await o.json(),u=l.IpfsHash||l.cid||l.hash;if(!u)throw console.error(" Resposta da API Pinata no contm hash:",l),new Error("Resposta da API Pinata invlida. Verifique suas chaves de API.");return console.log(" Upload IPFS concludo:",u),u}catch(i){if(console.error(" Erro ao fazer upload para IPFS:",i),console.error("Detalhes do erro:",{message:i.message,stack:i.stack}),i.message&&!i.message.includes("alternative"))return console.log(" Tentando mtodo alternativo..."),await V5();throw i}},V5=async t=>{throw new Error(`Configure Pinata API keys no arquivo frontend/.env

Veja IPFS_SETUP.md para instrues.

Exemplo:
VITE_PINATA_API_KEY=sua_key
VITE_PINATA_SECRET_KEY=sua_secret`)},Pa=async t=>{try{const e=JSON.stringify(t),n=new Blob([e],{type:"application/json"}),r=new File([n],"metadata.json",{type:"application/json"});return await im(r)}catch(e){throw console.error("Erro ao fazer upload de metadados:",e),e}},yr=t=>{if(!t)return"";const e=t.replace(/^ipfs:\/\//,"");return`${G5}${e}`};function Q5(){const{nftContract:t,account:e,isCorrectNetwork:n,collectionFactoryContract:r,signer:i}=xl(),s=tg();console.log(" Launchpad: Componente renderizado",{hasNftContract:!!t,account:e,isCorrectNetwork:n});const[a,o]=S.useState(!1),[l,u]=S.useState([]),[d,f]=S.useState([]),[h,w]=S.useState(!0),[b,v]=S.useState(null),[A,m]=S.useState("new"),[g,y]=S.useState("instant"),[k,j]=S.useState(""),[O,B]=S.useState(""),[E,K]=S.useState(!1),[_,ee]=S.useState("nftContract"),[ye,G]=S.useState(""),[Z,D]=S.useState(""),[z,X]=S.useState("24"),[T,F]=S.useState({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),[H,M]=S.useState(null),[ge,ke]=S.useState(null),[be,Le]=S.useState(null),[Ae,ze]=S.useState([]),[on,He]=S.useState(!1),[We,Ge]=S.useState(!1),Je=S.useCallback(async()=>{try{w(!0),console.log(" Launchpad: Iniciando busca de colees...");const R=[];if(r)try{const te=await r.getAddress();console.log(" Buscando colees do CollectionFactory:",te);const Te=await r.getAllCollections();console.log(` Colees encontradas: ${Te.length}`);for(const q of Te)try{const $=new At(q,ni,i||r.runner),ce=await $.collectionName(),de=await $.maxSupply(),ve=await $.totalSupply(),Ve=await $.creator();let Ue=0,ue=!1,Oe=0n,it=0;try{it=Number(await $.availableURIsCount()),Ue=it,ue=await $.publicMintEnabled(),Oe=await $.mintPrice(),console.log(` [${ce}] Raw values:`,{rawAvailableURIs:it,publicMintEnabled:ue,totalSupply:Number(ve),maxSupply:Number(de)}),Ue===0&&Number(ve)<Number(de)&&(console.log(` [${ce}] Using fallback: maxSupply - totalSupply`),Ue=Number(de)-Number(ve))}catch(ct){console.log(` [${ce}] Error getting contract data:`,ct.message),Ue=Number(de)-Number(ve)}const Dt=Number(ve),Ct=Ue;console.log(` Collection ${ce}:`,{maxSupply:Number(de),totalSupply:Number(ve),availableURIsCount:Ue,publicMintEnabled:ue,minted:Dt,available:Ct});const pe=Oe>0n?tt(Oe):"0";let he="";try{he=await $.collectionImage(),console.log(" Imagem da coleo do contrato:",he||"no definida")}catch(ct){console.warn(" Erro ao buscar collectionImage do contrato:",ct)}let le={name:ce,description:"",image:he||"",initial_price:pe,mint_price_wei:Oe.toString(),supply:Number(de),minted:Dt,available:Ct,publicMintEnabled:ue,creator:Ve};if(Number(ve)>0)try{const ct=await $.tokenURI(1);console.log(" TokenURI obtido para coleo:",ce,ct);try{const ln=JSON.parse(ct);console.log(" Metadados JSON parseados:",ln),le={...le,name:ln.collection_name||ce,description:ln.description||"",image:ln.image||"",initial_price:le.initial_price!=="0"?le.initial_price:ln.initial_price||"0",social_links:ln.social_links||{},launch_time:ln.launch_time||null,has_whitelist:ln.has_whitelist||!1},le.image?(le.image.startsWith("ipfs://")?le.image=le.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(le.image.startsWith("Qm")||le.image.startsWith("baf"))&&(le.image=`https://gateway.pinata.cloud/ipfs/${le.image}`),console.log(" Imagem da coleo (JSON inline):",le.image)):(console.warn(" Coleo sem imagem no metadata (JSON inline):",ce),he&&(he.startsWith("ipfs://")?le.image=he.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):he.startsWith("Qm")||he.startsWith("baf")?le.image=`https://gateway.pinata.cloud/ipfs/${he}`:le.image=he,console.log(" Usando collectionImage do contrato (fallback):",le.image)))}catch{console.log(" TokenURI no  JSON, tentando buscar do IPFS...");let we=ct;if(ct.startsWith("ipfs://")?we=ct.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(ct.startsWith("Qm")||ct.startsWith("baf"))&&(we=`https://gateway.pinata.cloud/ipfs/${ct}`),console.log(" URL dos metadados:",we),we.startsWith("http"))try{const Pe=await fetch(we);if(Pe.ok){const kt=await Pe.json();console.log(" Metadados obtidos do IPFS:",kt),le={...le,name:kt.collection_name||ce,description:kt.description||"",image:kt.image||"",initial_price:le.initial_price!=="0"?le.initial_price:kt.initial_price||"0",social_links:kt.social_links||{},launch_time:kt.launch_time||null,has_whitelist:kt.has_whitelist||!1},le.image?(le.image.startsWith("ipfs://")?le.image=le.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):(le.image.startsWith("Qm")||le.image.startsWith("baf"))&&(le.image=`https://gateway.pinata.cloud/ipfs/${le.image}`),console.log(" Imagem da coleo (IPFS):",le.image)):(console.warn(" Coleo sem imagem no metadata (IPFS):",ce),he&&(he.startsWith("ipfs://")?le.image=he.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):he.startsWith("Qm")||he.startsWith("baf")?le.image=`https://gateway.pinata.cloud/ipfs/${he}`:le.image=he,console.log(" Usando collectionImage do contrato (fallback):",le.image)))}else console.error(" Erro ao buscar metadados do IPFS:",Pe.status,Pe.statusText)}catch(Pe){console.error(" Erro ao buscar metadados:",Pe)}}}catch(ct){console.error(" Erro ao buscar tokenURI:",ct)}else console.warn(" Coleo sem tokens mintados ainda:",ce),he?he&&(he.startsWith("ipfs://")?le.image=he.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):he.startsWith("Qm")||he.startsWith("baf")?le.image=`https://gateway.pinata.cloud/ipfs/${he}`:le.image=he,console.log(" Usando imagem da coleo do contrato:",le.image)):(console.warn(" Coleo sem imagem definida no contrato:",ce),console.warn('   Para definir a imagem, v em "My NFTs"  Dashboard da coleo  Update Metadata'));!le.image&&he&&(he.startsWith("ipfs://")?le.image=he.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):he.startsWith("Qm")||he.startsWith("baf")?le.image=`https://gateway.pinata.cloud/ipfs/${he}`:le.image=he,console.log(" Usando collectionImage do contrato como fallback:",le.image)),R.push({collectionAddress:q,collectionContract:$,metadata:le,isCollection:!0}),console.log(` Coleo carregada: ${ce} (${Number(ve)}/${Number(de)} minted)`)}catch($){console.warn("Erro ao carregar coleo:",q,$.message)}}catch(te){console.error("Erro ao buscar do CollectionFactory:",te)}else console.log(" CollectionFactory no disponvel");console.log(` Total de colees carregadas: ${R.length}`);const Y=[],fe=[];R.forEach(te=>{if(!(te.metadata.image&&te.metadata.image!==""&&!te.metadata.image.startsWith("data:"))){console.log(" Coleo filtrada (sem imagem):",te.metadata.name);return}(te.metadata.available!==void 0?te.metadata.available:te.metadata.supply-te.metadata.minted)>0?Y.push(te):fe.push(te)}),console.log(` Colees disponveis: ${Y.length}, Esgotadas: ${fe.length}`),u(Y),f(fe)}catch(R){console.error(" Error loading launches:",R),u([]),f([])}finally{w(!1),console.log(" Launchpad: Carregamento finalizado")}},[r,i]);S.useEffect(()=>{t?(console.log(" Launchpad: Iniciando carregamento de lanamentos"),Je()):(console.log(" Launchpad: nftContract no disponvel, no  possvel carregar lanamentos"),w(!1))},[t,Je]);const U=R=>{F({...T,[R.target.name]:R.target.value})},re=(R,Y=1200,fe=1200,te=.75)=>new Promise((Te,q)=>{const $=new FileReader;$.onload=ce=>{const de=new Image;de.onload=()=>{let ve=de.width,Ve=de.height;(ve>Y||Ve>fe)&&(ve>Ve?(Ve=Ve*Y/ve,ve=Y):(ve=ve*fe/Ve,Ve=fe));const Ue=document.createElement("canvas");Ue.width=ve,Ue.height=Ve;const ue=Ue.getContext("2d");ue.imageSmoothingEnabled=!0,ue.imageSmoothingQuality="high",ue.drawImage(de,0,0,ve,Ve),Ue.toBlob(Oe=>{if(Oe){const it=new FileReader;it.onload=()=>Te({blob:Oe,dataUrl:it.result}),it.onerror=q,it.readAsDataURL(Oe)}else q(new Error("Erro ao comprimir imagem"))},"image/jpeg",te)},de.onerror=q,de.src=ce.target.result},$.onerror=q,$.readAsDataURL(R)}),Ie=async R=>{var Te;const Y=R.target.files||((Te=R.dataTransfer)==null?void 0:Te.files);if(!Y||Y.length===0)return;const fe=parseInt(T.supply)||1;if(fe>1){const q=Array.from(Y).slice(0,fe);try{Ge(!0),P.loading(`Processando ${q.length} imagem${q.length>1?"ns":""}...`,{id:"upload"});const $=await Promise.all(q.map(async(de,ve)=>{if(!de.type.startsWith("image/"))throw new Error(`Arquivo ${ve+1} no  uma imagem`);const Ve=await re(de),Ue=new File([Ve.blob],de.name,{type:de.type||"image/jpeg"}),ue=await im(Ue);return{file:de,preview:Ve.dataUrl,ipfsHash:ue,ipfsUrl:yr(ue),rarity:null}})),ce=$.map((de,ve)=>({...de,rarity:ve+1,rarityScore:$.length-ve}));ze(ce),ke(ce[0].preview),Le(ce[0].ipfsHash),M(q[0]),P.success(`${q.length} image${q.length>1?"s":""} processed! Rarity ranking created.`,{id:"upload",duration:5e3})}catch($){console.error("Erro ao processar imagens:",$),P.error(`Erro ao processar imagens: ${$.message}`,{id:"upload"})}finally{Ge(!1)}}else{const q=Y[0];if(!q.type.startsWith("image/")){P.error("Por favor, selecione um arquivo de imagem");return}try{Ge(!0),P.loading("Processando e fazendo upload da imagem...",{id:"upload"});const $=await re(q),ce=new File([$.blob],q.name,{type:q.type||"image/jpeg"}),de=await im(ce);Le(de),M(q),ke(yr(de)),ze([]),P.success("Imagem enviada para IPFS com sucesso!",{id:"upload"})}catch($){console.error("Erro ao processar/upload imagem:",$),P.error("Erro ao fazer upload para IPFS",{id:"upload"});try{const ce=await re(q);M(q),ke(ce.dataUrl),Le(null)}catch{P.error("Erro ao processar imagem",{id:"upload"})}}finally{Ge(!1)}}},Me=()=>{if(g==="instant")return Math.floor(Date.now()/1e3);if(!O||!k)return null;const R=new Date(`${O}T${k}`);return Math.floor(R.getTime()/1e3)},N=async R=>{var Te;if(R.preventDefault(),!e){P.error("Please connect your wallet first");return}if(!n){P.error("Please connect to Arc Testnet");return}if(!T.name||!T.description){P.error("Please fill all required fields");return}const Y=parseInt(T.supply)||1;if(Y>1){if(Ae.length===0&&!ge&&!be){P.error(`Please add ${Y} image${Y>1?"s":""} for the collection`);return}if(Ae.length>0&&Ae.length<Y){P.error(`You need to add ${Y} images for the collection. You added ${Ae.length}.`);return}}else if(!ge&&!be){P.error("Please add an image for the NFT");return}const te=Me();if(g==="scheduled"&&(!te||te<=Math.floor(Date.now()/1e3))){P.error("Select a future date/time for the launch");return}try{He(!0),P.loading("Creating launch...",{id:"launch"});const q=parseInt(T.supply)||1,$=(q>1,T.name),ce=q>1&&Ae.length>0,de=A==="legacy"||!r;if(console.log(" Launchpad: Tipo de contrato selecionado:",{contractType:A,useLegacyContract:de,hasFactory:!!r,factoryAddress:(r==null?void 0:r.target)||"N/A"}),A==="new"&&!r&&(console.error(" CollectionFactory no disponvel! Usando Legacy como fallback."),P.error("CollectionFactory not available. Using Legacy Contract instead. Your collection will not support royalties.",{id:"launch",duration:5e3})),ce&&Ae.length>0){const ue=Ae.slice(0,q);console.log(" Launchpad: Criando coleo...",{hasFactory:!!r,factoryAddress:(r==null?void 0:r.target)||"N/A",supply:q,imagesCount:ue.length,useLegacyContract:de});try{if(de){console.log(" Usando contrato Legacy (MockNFT) para criar coleo..."),P.loading(`Creating collection with ${ue.length} NFTs using MockNFT...`,{id:"launch"});for(let we=0;we<ue.length;we++){const Pe=ue[we],kt=we+1,Ca=((ue.length-we)/ue.length*100).toFixed(2),ut={name:`${$} #${kt}`,description:T.description,image:Pe.ipfsUrl,external_url:T.website||"",initial_price:T.price||"0",collection_name:$,collection_supply:q,edition_number:kt,is_collection:!0,rarity:{rank:Pe.rarity,score:Pe.rarityScore,percentile:`${Ca}%`},attributes:[{trait_type:"Rarity Rank",value:Pe.rarity.toString()},{trait_type:"Rarity Score",value:Pe.rarityScore.toString()},{trait_type:"Collection",value:$},{trait_type:"Edition",value:`${kt} of ${q}`}],...te&&g!=="instant"&&{launch_time:te},has_whitelist:E,whitelist_type:E?_:null,whitelist_project:E&&(_==="nftContract"||_==="project")?ye:null,whitelist_addresses:E&&_==="addresses"?Z.split(`
`).filter(Sa=>Sa.trim()):null,whitelist_duration:E?parseInt(z):null,social_links:{twitter:T.twitter||"",discord:T.discord||"",instagram:T.instagram||""}};g==="instant"&&delete ut.launch_time;let xn="";try{const Sa=await Pa(ut);xn=yr(Sa)}catch{xn=JSON.stringify(ut)}P.loading(`Minting NFT ${kt} of ${ue.length} (Rarity: ${Ca}%)...`,{id:"launch"}),await(await t.mint(e,xn)).wait(),we<ue.length-1&&await new Promise(Sa=>setTimeout(Sa,1500))}P.success(`Collection created successfully! ${ue.length} NFT${ue.length>1?"s":""} with rarity ranking.`,{id:"launch",duration:6e3}),F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),ke(null),Le(null),ze([]),y("instant"),m("new"),j(""),B(""),K(!1),o(!1),setTimeout(()=>{Je(),s("/my-nfts")},2e3),He(!1);return}P.loading("Creating collection contract...",{id:"launch"});const Dt=(await(await r.createCollection($,q)).wait()).logs.find(we=>{try{const Pe=r.interface.parseLog(we);return Pe&&Pe.name==="CollectionCreated"}catch{return!1}});let Ct;if(Dt)Ct=r.interface.parseLog(Dt).args.collectionAddress;else{const we=await r.getCreatorCollections(e);Ct=we[we.length-1]}console.log(" Collection contract created at:",Ct);const pe=new At(Ct,ni,i);if(!collectionImageForContract||collectionImageForContract==="")throw new Error("Collection image is required! Please upload an image before creating the collection.");P.loading("Setting collection image...",{id:"launch"});try{await(await pe.setCollectionMetadata(T.description||"",collectionImageForContract)).wait(),console.log(" Collection image set:",collectionImageForContract);const Pe=await pe.collectionImage();if(!Pe||Pe==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(we){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",we),new Error(`Failed to set collection image: ${we.message}`)}const he=T.price&&parseFloat(T.price)>0?dr(T.price):0n;he>0n&&(P.loading("Setting mint price...",{id:"launch"}),await(await pe.setMintPrice(he)).wait(),console.log(" Mint price set to:",T.price,"USDC")),P.loading(`Minting ${ue.length} NFTs to collection...`,{id:"launch"});const le=[];for(let we=0;we<ue.length;we++){const Pe=ue[we],kt=we+1,Ca=((ue.length-we)/ue.length*100).toFixed(2),ut={name:`${$} #${kt}`,description:T.description,image:Pe.ipfsUrl,external_url:T.website||"",initial_price:T.price||"0",collection_name:$,collection_supply:q,edition_number:kt,is_collection:!0,rarity:{rank:Pe.rarity,score:Pe.rarityScore,percentile:`${Ca}%`},attributes:[{trait_type:"Rarity Rank",value:Pe.rarity.toString()},{trait_type:"Rarity Score",value:Pe.rarityScore.toString()},{trait_type:"Collection",value:$},{trait_type:"Edition",value:`${kt} of ${q}`}],...te&&{launch_time:te},has_whitelist:E,whitelist_type:E?_:null,whitelist_project:E&&(_==="nftContract"||_==="project")?ye:null,whitelist_addresses:E&&_==="addresses"?Z.split(`
`).filter(ka=>ka.trim()):null,whitelist_duration:E?parseInt(z):null,social_links:{twitter:T.twitter||"",discord:T.discord||"",instagram:T.instagram||""}};g==="instant"&&delete ut.launch_time;let xn="";try{const ka=await Pa(ut);xn=yr(ka)}catch(ka){console.warn("Erro ao fazer upload de metadados para IPFS, usando JSON inline:",ka),xn=JSON.stringify(ut)}le.push(xn)}if(!ue||ue.length===0||!ue[0].ipfsUrl)throw new Error("Collection image is required! First image must have IPFS URL.");P.loading("Setting collection image...",{id:"launch"});try{await(await pe.setCollectionMetadata(T.description||"",ue[0].ipfsUrl)).wait(),console.log(" Collection image set:",ue[0].ipfsUrl);const Pe=await pe.collectionImage();if(!Pe||Pe==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(we){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",we),new Error(`Failed to set collection image: ${we.message}`)}P.loading("Adding token URIs to collection...",{id:"launch"}),await(await pe.addTokenURIs(le)).wait(),console.log(" Token URIs added to collection"),P.loading("Enabling public mint...",{id:"launch"}),await(await pe.setPublicMintEnabled(!0)).wait(),console.log(" Public mint enabled"),P.success(`Collection created successfully! ${ue.length} NFT${ue.length>1?"s":""} available for purchase at ${T.price||"0"} USDC each.`,{id:"launch",duration:6e3}),F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),ke(null),Le(null),ze([]),y("instant"),m("new"),j(""),B(""),K(!1),o(!1),setTimeout(()=>{Je(),s("/my-nfts")},2e3),He(!1);return}catch(Oe){throw console.error("Erro ao criar coleo:",Oe),Oe}}const ve=be?yr(be):ge,Ve={name:q>1?`${$} #1`:T.name,description:T.description,image:ve,external_url:T.website||"",initial_price:T.price||"0",collection_name:q>1?$:null,collection_supply:q>1?q:null,edition_number:q>1?1:null,is_collection:q>1,contract_type:de?"legacy":"new",...te&&{launch_time:te},has_whitelist:E,whitelist_type:E?_:null,whitelist_project:E&&(_==="nftContract"||_==="project")?ye:null,whitelist_addresses:E&&_==="addresses"?Z.split(`
`).filter(ue=>ue.trim()):null,whitelist_duration:E?parseInt(z):null,social_links:{twitter:T.twitter||"",discord:T.discord||"",instagram:T.instagram||""}};let Ue="";try{const ue=await Pa(Ve);Ue=yr(ue)}catch(ue){console.warn("Erro ao fazer upload de metadados para IPFS, usando JSON inline:",ue),Ue=JSON.stringify(Ve)}if(q>1){const ue=ve||(be?yr(be):"");if(de){if(console.log(" Usando contrato Legacy (MockNFT) para criar coleo simples..."),P.loading("Creating collection using MockNFT...",{id:"launch"}),g==="instant"){const Oe={...Ve};delete Oe.launch_time;let it="";try{const Ct=await Pa(Oe);it=yr(Ct)}catch{it=JSON.stringify(Oe)}await(await t.mint(e,it)).wait(),P.success(`Collection created successfully! This collection will have ${q} units.`,{id:"launch",duration:6e3})}else await(await t.mint(e,Ue)).wait(),P.success(`Scheduled collection created! Will have ${q} units and will be displayed on ${new Date(te*1e3).toLocaleString()}`,{id:"launch",duration:8e3});F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),ke(null),Le(null),ze([]),y("instant"),m("new"),j(""),B(""),K(!1),o(!1),setTimeout(()=>{Je(),s("/my-nfts")},2e3),He(!1);return}if(g==="instant"){const Oe={...Ve};delete Oe.launch_time;let it="";try{const ut=await Pa(Oe);it=yr(ut)}catch(ut){console.warn("Erro ao fazer upload de metadados para IPFS, usando JSON inline:",ut),it=JSON.stringify(Oe)}P.loading("Creating collection contract...",{id:"launch"});const pe=(await(await r.createCollection($,q)).wait()).logs.find(ut=>{try{const xn=r.interface.parseLog(ut);return xn&&xn.name==="CollectionCreated"}catch{return!1}});let he;if(pe)he=r.interface.parseLog(pe).args.collectionAddress;else{const ut=await r.getCreatorCollections(e);he=ut[ut.length-1]}const le=new At(he,ni,i);if(!ue||ue==="")throw new Error("Collection image is required! Please upload an image before creating the collection.");P.loading("Setting collection image...",{id:"launch"});try{await(await le.setCollectionMetadata(T.description||"",ue)).wait(),console.log(" Collection image set:",ue);const xn=await le.collectionImage();if(!xn||xn==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(ut){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",ut),new Error(`Failed to set collection image: ${ut.message}`)}const ct=T.price&&parseFloat(T.price)>0?dr(T.price):0n;ct>0n&&(P.loading("Setting mint price...",{id:"launch"}),await(await le.setMintPrice(ct)).wait(),console.log(" Mint price set to:",T.price,"USDC")),P.loading("Adding token URIs to collection...",{id:"launch"});const ln=Array(q).fill(it);console.log(` Adding ${ln.length} URIs to collection...`),await(await le.addTokenURIs(ln)).wait();const Pe=await le.availableURIsCount();console.log(` Added ${q} token URIs to collection. Available URIs count: ${Pe}`),P.loading("Enabling public mint...",{id:"launch"}),await(await le.setPublicMintEnabled(!0)).wait();const Ca=await le.publicMintEnabled();console.log(` Public mint enabled: ${Ca}`),P.success(`Collection created successfully! ${q} units available for ${T.price||"free"} USDC each.`,{id:"launch",duration:6e3})}else{P.loading("Creating scheduled collection contract...",{id:"launch"});const Dt=(await(await r.createCollection($,q)).wait()).logs.find(we=>{try{const Pe=r.interface.parseLog(we);return Pe&&Pe.name==="CollectionCreated"}catch{return!1}});let Ct;if(Dt)Ct=r.interface.parseLog(Dt).args.collectionAddress;else{const we=await r.getCreatorCollections(e);Ct=we[we.length-1]}const pe=new At(Ct,ni,i);if(!ue||ue==="")throw new Error("Collection image is required! Please upload an image before creating the collection.");P.loading("Setting collection image...",{id:"launch"});try{await(await pe.setCollectionMetadata(T.description||"",ue)).wait(),console.log(" Collection image set:",ue);const Pe=await pe.collectionImage();if(!Pe||Pe==="")throw console.error(" ERRO: Imagem no foi definida no contrato!"),new Error("Failed to set collection image on contract");console.log(" Verified: Collection image is set in contract")}catch(we){throw console.error(" ERRO CRTICO ao definir imagem da coleo:",we),new Error(`Failed to set collection image: ${we.message}`)}const he=T.price&&parseFloat(T.price)>0?dr(T.price):0n;he>0n&&(P.loading("Setting mint price...",{id:"launch"}),await(await pe.setMintPrice(he)).wait(),console.log(" Mint price set to:",T.price,"USDC")),P.loading("Adding token URIs to collection...",{id:"launch"});const le=Array(q).fill(Ue);await(await pe.addTokenURIs(le)).wait(),console.log(` Added ${q} token URIs to collection`),P.loading("Enabling public mint...",{id:"launch"}),await(await pe.setPublicMintEnabled(!0)).wait(),P.success(`Scheduled collection created! ${q} units available at ${T.price||"free"} USDC. Launches on ${new Date(te*1e3).toLocaleString()}`,{id:"launch",duration:8e3})}}else if(g==="instant"){const ue={...Ve};delete ue.launch_time;let Oe="";try{const Dt=await Pa(ue);Oe=yr(Dt)}catch{Oe=JSON.stringify(ue)}P.loading("Creating NFT...",{id:"launch"}),await(await t.mint(e,Oe)).wait(),P.success("NFT created successfully!",{id:"launch"})}else P.loading("Creating scheduled NFT...",{id:"launch"}),await(await t.mint(e,Ue)).wait(),P.success(`Scheduled launch created! Will be displayed on ${new Date(te*1e3).toLocaleString()}`,{id:"launch",duration:8e3});F({name:"",description:"",price:"",supply:"1",twitter:"",discord:"",instagram:"",website:""}),M(null),ke(null),Le(null),y("instant"),m("new"),j(""),B(""),K(!1),o(!1),setTimeout(()=>{Je(),s("/my-nfts")},2e3)}catch(q){console.error("Error creating launch:",q),P.error(`Error creating launch: ${((Te=q.message)==null?void 0:Te.substring(0,100))||"Unknown error"}`,{id:"launch"})}finally{He(!1)}};S.useCallback(async R=>{if(!e||!R.metadata.has_whitelist)return!0;const Y=Math.floor(Date.now()/1e3),te=R.metadata.launch_time+(R.metadata.whitelist_duration*3600||86400);if(Y>te)return!0;if((R.metadata.whitelist_type==="project"||R.metadata.whitelist_type==="nftContract")&&R.metadata.whitelist_project)try{const Te=t.runner||t.provider,$=await new At(R.metadata.whitelist_project,t.interface,Te).balanceOf(e);return Number($)>0}catch(Te){return console.error("Erro ao verificar whitelist por projeto:",Te),!1}else if(R.metadata.whitelist_type==="addresses"&&R.metadata.whitelist_addresses)return(Array.isArray(R.metadata.whitelist_addresses)?R.metadata.whitelist_addresses:typeof R.metadata.whitelist_addresses=="string"?R.metadata.whitelist_addresses.split(`
`).filter(q=>q.trim()):[]).some(q=>q.toLowerCase()===e.toLowerCase());return!1},[e,t]);const J=async R=>{if(!e){P.error("Please connect your wallet first");return}if(!n){P.error("Please connect to Arc Testnet");return}if(!i){P.error("Wallet signer not available. Please reconnect your wallet.",{id:"mint"});return}try{v(R.collectionAddress),console.log(" Starting mint process...",{collectionAddress:R.collectionAddress,account:e,hasSigner:!!i,hasProvider:!!(i!=null&&i.provider)});const Y=new At(R.collectionAddress,ni,i);console.log(" Checking collection status...");const fe=await Y.availableURIsCount();if(console.log(" Available URIs:",Number(fe)),Number(fe)===0){P.error("Collection is sold out!",{id:"mint"}),v(null);return}const te=await Y.publicMintEnabled();if(console.log(" Public mint enabled:",te),!te){P.error("Public mint is not enabled for this collection",{id:"mint"}),v(null);return}const Te=await Y.mintingEnabled();if(console.log(" Minting enabled:",Te),!Te){P.error("Minting is disabled for this collection",{id:"mint"}),v(null);return}const q=await Y.whitelistEnabled();if(console.log(" Whitelist enabled:",q),q){const Oe=await Y.whitelist(e);if(console.log(" User whitelisted:",Oe),!Oe){P.error("You are not whitelisted for this collection",{id:"mint"}),v(null);return}}const $=await Y.mintPrice(),ce=tt($);console.log(" Mint price:",ce,"USDC (",$.toString(),"wei)");const de=await i.provider.getBalance(e);if(console.log(" User balance:",tt(de),"USDC"),de<$){P.error(`Insufficient balance. You need ${ce} USDC, but you have ${tt(de)} USDC`,{id:"mint"}),v(null);return}const ve=await Y.maxMintPerWallet(),Ve=await Y.mintedPerWallet(e);if(console.log(" Mint limits:",{maxPerWallet:Number(ve),mintedByUser:Number(Ve),canMint:Number(Ve)+1<=Number(ve)}),Number(Ve)+1>Number(ve)){P.error(`You have reached the mint limit for this collection (${Number(ve)} NFTs)`,{id:"mint"}),v(null);return}$>0n?P.loading(`Purchasing NFT for ${ce} USDC...`,{id:"mint"}):P.loading("Minting free NFT...",{id:"mint"}),console.log(" Calling publicMint...",{quantity:1,value:$.toString(),collectionAddress:R.collectionAddress});const Ue=await Y.publicMint(1,{value:$});console.log(" Transaction sent:",Ue.hash),P.loading("Transaction sent! Waiting for confirmation...",{id:"mint"});const ue=await Ue.wait();console.log(" Transaction confirmed:",ue.hash),P.success(`NFT purchased successfully for ${ce} USDC!`,{id:"mint"}),setTimeout(()=>{Je()},2e3)}catch(Y){console.error(" Error purchasing NFT:",Y),console.error("Error details:",{message:Y.message,code:Y.code,reason:Y.reason,data:Y.data,transaction:Y.transaction});let fe="Unknown error occurred";if(Y.message){const te=Y.message.toLowerCase();te.includes("user rejected")||Y.code==="ACTION_REJECTED"||Y.code===4001?fe="Transaction rejected by user":te.includes("insufficient funds")||te.includes("insufficient balance")?fe="Insufficient USDC balance. Please add more USDC to your wallet.":te.includes("public mint is disabled")||te.includes("public mint not enabled")?fe="Public mint is not enabled for this collection":te.includes("not enough uris")||te.includes("uris available")?fe="Collection is sold out (no more URIs available)":te.includes("minting is disabled")?fe="Minting is disabled for this collection":te.includes("not whitelisted")?fe="You are not whitelisted for this collection":te.includes("exceeds wallet limit")||te.includes("wallet limit")?fe="You have reached the mint limit for this collection":te.includes("exceeds max supply")?fe="Minting would exceed the maximum supply":te.includes("insufficient payment")?fe="Insufficient payment. The mint price may have changed.":Y.reason?fe=Y.reason:fe=Y.message.substring(0,150)}P.error(`Error purchasing: ${fe}`,{id:"mint",duration:5e3})}finally{v(null)}},oe=R=>{var $,ce;const Y=R.isCollection,fe=R.metadata.minted||0,te=R.metadata.supply||0,Te=R.metadata.available!==void 0?R.metadata.available:te-fe,q=te>0?fe/te*100:0;return c.jsxs("div",{className:"nft-card",style:{background:"var(--surface-alt)",border:"1px solid var(--border)",borderRadius:"12px",overflow:"hidden",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out",cursor:"pointer",display:"flex",flexDirection:"column",height:"100%"},onMouseEnter:de=>{de.currentTarget.style.transform="translateY(-5px)",de.currentTarget.style.boxShadow="0 8px 24px rgba(0, 0, 0, 0.3)"},onMouseLeave:de=>{de.currentTarget.style.transform="translateY(0)",de.currentTarget.style.boxShadow="none"},children:[c.jsxs("div",{className:"nft-image",style:{height:"300px",overflow:"hidden",position:"relative"},children:[R.metadata.image?c.jsx("img",{src:R.metadata.image.startsWith("ipfs://")?R.metadata.image.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"):R.metadata.image.startsWith("Qm")||R.metadata.image.startsWith("baf")?`https://gateway.pinata.cloud/ipfs/${R.metadata.image}`:R.metadata.image,alt:R.metadata.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:de=>{console.error(" Erro ao carregar imagem da coleo:",{collection:R.metadata.name,imageUrl:R.metadata.image,collectionAddress:R.collectionAddress}),de.target.style.display="none"},onLoad:()=>{console.log(" Imagem carregada com sucesso:",R.metadata.name,R.metadata.image)}}):c.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"4rem",background:"var(--background)"},children:""}),c.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:Te>0?"rgba(46, 204, 113, 0.9)":"rgba(231, 76, 60, 0.9)",color:"white",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600"},children:Te>0?`${Te} left`:"Sold Out"}),Y&&c.jsx("div",{style:{position:"absolute",top:"1rem",left:"1rem",background:"rgba(59, 130, 246, 0.9)",color:"var(--text)",padding:"0.5rem 1rem",borderRadius:"8px",fontSize:"0.75rem",fontWeight:"600"},children:" Collection"})]}),c.jsxs("div",{className:"nft-content",style:{padding:"1rem",flexGrow:1,display:"flex",flexDirection:"column"},children:[c.jsx("h3",{className:"nft-title",style:{fontSize:"1.125rem",marginBottom:"0.5rem"},children:R.metadata.name}),c.jsxs("p",{className:"nft-description",style:{marginBottom:"0.75rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[($=R.metadata.description)==null?void 0:$.substring(0,80),((ce=R.metadata.description)==null?void 0:ce.length)>80?"...":""]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",fontSize:"0.75rem"},children:[c.jsx("span",{style:{color:"var(--text-secondary)"},children:"Minted"}),c.jsxs("span",{style:{fontWeight:"600"},children:[fe," / ",te]})]}),c.jsx("div",{style:{height:"8px",background:"var(--border)",borderRadius:"4px",overflow:"hidden"},children:c.jsx("div",{style:{width:`${q}%`,height:"100%",background:"linear-gradient(90deg, var(--primary), var(--accent-gold))",borderRadius:"4px",transition:"width 0.3s ease"}})})]}),c.jsx("div",{className:"nft-price",style:{marginBottom:"0.75rem"},children:c.jsxs("div",{style:{width:"100%"},children:[c.jsx("div",{className:"price-label",children:R.metadata.initial_price&&parseFloat(R.metadata.initial_price)>0?"Purchase Price":"Price"}),c.jsxs("div",{className:"price-value",style:{marginTop:"0.25rem",fontSize:"1.125rem"},children:[" ",R.metadata.initial_price&&parseFloat(R.metadata.initial_price)>0?`${R.metadata.initial_price} USDC`:"Free"]})]})}),c.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem",fontSize:"0.7rem",color:"var(--text-secondary)",padding:"0.5rem",background:"var(--surface-alt)",borderRadius:"6px",marginBottom:"0.75rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:" Voc paga:"}),c.jsxs("span",{style:{fontWeight:"600",color:"var(--text)"},children:[R.metadata.initial_price||"0"," USDC"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:" Royalty (revenda):"}),c.jsx("span",{children:"5%"})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:" Taxa marketplace (revenda):"}),c.jsx("span",{children:"2.5%"})]})]}),R.metadata.creator&&c.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{children:""}),c.jsxs("span",{children:[R.metadata.creator.substring(0,6),"...",R.metadata.creator.substring(38)]})]}),c.jsx("button",{className:"btn btn-primary",style:{width:"100%",padding:"0.75rem",fontSize:"0.875rem",marginTop:"auto"},onClick:()=>J(R),disabled:b===R.collectionAddress||Te<=0||!e,children:b===R.collectionAddress?"Purchasing...":Te<=0?"Sold Out":e?R.metadata.initial_price&&parseFloat(R.metadata.initial_price)>0?`Buy for ${R.metadata.initial_price} USDC`:"Mint Free":"Connect Wallet"})]})]},R.collectionAddress||R.templateTokenId)};return c.jsx("div",{className:"container",children:c.jsxs("section",{style:{padding:"3rem 0"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",style:{fontSize:"2.5rem",marginBottom:"0.5rem"},children:"Launchpad"}),c.jsx("p",{className:"section-subtitle",children:"Discover and participate in the most awaited NFT launches"})]}),c.jsx("button",{className:"btn btn-primary",onClick:()=>o(!a),style:{padding:"0.75rem 1.5rem"},children:a?"Cancel":"+ Create Launch"})]}),a&&c.jsxs("div",{className:"card",style:{padding:"2.5rem",marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"1.5rem"},children:"Create New Launch"}),c.jsxs("form",{onSubmit:N,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Contract Type"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[c.jsxs("button",{type:"button",onClick:()=>m("new"),style:{flex:1,padding:"1rem",borderRadius:"12px",border:A==="new"?"2px solid var(--accent-gold)":"1px solid var(--border)",background:A==="new"?"linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05))":"var(--surface-alt)",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsx("span",{style:{fontWeight:"700",fontSize:"1rem",color:A==="new"?"var(--accent-gold)":"var(--text)"},children:"New Contract"}),A==="new"&&c.jsx("span",{style:{background:"var(--accent-gold)",color:"var(--background)",fontSize:"0.625rem",fontWeight:"700",padding:"0.25rem 0.5rem",borderRadius:"4px",textTransform:"uppercase"},children:"Recommended"})]}),c.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:"Full features: royalties, whitelist, airdrop, earnings dashboard"})]}),c.jsxs("button",{type:"button",onClick:()=>m("legacy"),style:{flex:1,padding:"1rem",borderRadius:"12px",border:A==="legacy"?"2px solid var(--text-secondary)":"1px solid var(--border)",background:A==="legacy"?"var(--surface-alt)":"var(--surface)",cursor:"pointer",textAlign:"left",transition:"all 0.2s"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsx("span",{style:{fontWeight:"700",fontSize:"1rem",color:"var(--text)"},children:"Legacy Contract"})]}),c.jsx("p",{style:{margin:0,fontSize:"0.8125rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:"Simple NFT minting only. No royalties or advanced features."})]})]}),A==="new"&&!r&&c.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem 1rem",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",fontSize:"0.875rem",color:"#ef4444"},children:" CollectionFactory not available. Will use Legacy Contract as fallback."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Launch Type"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[c.jsxs("button",{type:"button",onClick:()=>y("instant"),className:g==="instant"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"0.5rem"},children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("polyline",{points:"12 6 12 12 16 14"})]}),"Instant"]}),c.jsxs("button",{type:"button",onClick:()=>y("scheduled"),className:g==="scheduled"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{marginRight:"0.5rem"},children:[c.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),c.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),c.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),c.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Future"]})]})]}),g==="scheduled"&&c.jsx("div",{className:"form-group",children:c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:"Date"}),c.jsx("input",{type:"date",className:"form-input",value:O,onChange:R=>B(R.target.value),min:new Date().toISOString().split("T")[0],required:g==="scheduled"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"form-label",children:"Time"}),c.jsx("input",{type:"time",className:"form-input",value:k,onChange:R=>j(R.target.value),required:g==="scheduled"})]})]})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Collection Name *"}),c.jsx("input",{type:"text",name:"name",className:"form-input",value:T.name,onChange:U,placeholder:"e.g: Genesis Collection",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Description *"}),c.jsx("textarea",{name:"description",className:"form-textarea",value:T.description,onChange:U,placeholder:"Describe your NFT collection...",rows:"4",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:parseInt(T.supply)>1?"Collection Images *":"Collection Image *"}),parseInt(T.supply)>1&&Ae.length>0?c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"1rem",marginBottom:"1rem"},children:Ae.map((R,Y)=>c.jsx("div",{style:{position:"relative"},children:c.jsxs("div",{style:{border:"2px solid var(--border)",borderRadius:"8px",overflow:"hidden",background:"var(--surface-alt)",position:"relative"},children:[c.jsx("img",{src:R.preview,alt:`NFT #${Y+1}`,style:{width:"100%",height:"120px",objectFit:"cover"}}),c.jsxs("div",{style:{position:"absolute",top:"0.25rem",left:"0.25rem",background:Y===0?"rgba(59, 130, 246, 0.9)":"rgba(0, 0, 0, 0.7)",color:"white",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:["#",Y+1," - Rank ",R.rarity]}),c.jsx("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"0.25rem",fontSize:"0.7rem",textAlign:"center"},children:R.rarityPercent||`${((Ae.length-Y)/Ae.length*100).toFixed(1)}%`})]})},Y))}),c.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>{ze([]),ke(null),M(null),Le(null)},children:"Remove All Images"})]}):null,c.jsxs("div",{className:"image-upload-area",style:{border:"2px dashed var(--border)",borderRadius:"12px",padding:"2rem",textAlign:"center",cursor:"pointer",background:"var(--surface-alt)",transition:"all 0.3s ease",position:"relative",minHeight:parseInt(T.supply)>1&&Ae.length>0?"100px":"200px",display:"flex",alignItems:"center",justifyContent:"center"},onDrop:R=>{R.preventDefault(),Ie(R)},onDragOver:R=>R.preventDefault(),onClick:()=>document.getElementById("launchpad-image-upload").click(),children:[ge&&Ae.length===0?c.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"400px"},children:[c.jsx("img",{src:ge,alt:"Preview",style:{width:"100%",borderRadius:"8px",maxHeight:"300px",objectFit:"contain"}}),c.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),ke(null),M(null),Le(null)},style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"var(--error)",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}):c.jsxs("div",{children:[c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-secondary)",strokeWidth:"1.5",style:{margin:"0 auto 1rem"},children:[c.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),c.jsx("polyline",{points:"17 8 12 3 7 8"}),c.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),c.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:parseInt(T.supply)>1?`Click or drag ${T.supply} image${parseInt(T.supply)>1?"s":""} here`:"Click or drag an image here"}),c.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-muted)"},children:parseInt(T.supply)>1?`Select up to ${T.supply} images. Order defines rarity (first = rarest).`:"PNG, JPG, GIF up to 10MB"})]}),c.jsx("input",{id:"launchpad-image-upload",type:"file",accept:"image/*",multiple:parseInt(T.supply)>1,style:{display:"none"},onChange:Ie,disabled:We})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Price (USDC)"}),c.jsx("input",{type:"number",name:"price",className:"form-input",value:T.price,onChange:U,placeholder:"0.00",min:"0",step:"0.01"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Supply (Number of collection units)"}),c.jsx("input",{type:"number",name:"supply",className:"form-input",value:T.supply,onChange:U,placeholder:"1",min:"1",max:"10000",required:!0}),c.jsx("p",{className:"text-muted",style:{fontSize:"0.8125rem",marginTop:"0.5rem"},children:T.supply>1?`This will be a project/collection with ${T.supply} units. The first NFT (#1) will be created now.`:"Will create a unique NFT."})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[c.jsx("input",{type:"checkbox",id:"hasWhitelist",checked:E,onChange:R=>K(R.target.checked),style:{width:"20px",height:"20px",cursor:"pointer"}}),c.jsx("label",{htmlFor:"hasWhitelist",style:{fontSize:"1rem",fontWeight:"600",cursor:"pointer"},children:"Enable Whitelist"})]}),E&&c.jsxs("div",{style:{padding:"1.5rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Whitelist Type"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"0.5rem"},children:[c.jsx("button",{type:"button",onClick:()=>ee("nftContract"),className:_==="nftContract"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:"By NFT Project"}),c.jsx("button",{type:"button",onClick:()=>ee("addresses"),className:_==="addresses"?"btn btn-primary":"btn btn-outline",style:{flex:1},children:"By Addresses"})]})]}),_==="nftContract"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"NFT Contract Address"}),c.jsx("input",{type:"text",className:"form-input",value:ye,onChange:R=>G(R.target.value),placeholder:"0x...",pattern:"^0x[a-fA-F0-9]{40}$"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Whitelist Duration (hours)"}),c.jsx("input",{type:"number",className:"form-input",value:z,onChange:R=>X(R.target.value),min:"1",max:"168",placeholder:"24"})]})]}),_==="addresses"&&c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"form-label",children:"Addresses (one per line)"}),c.jsx("textarea",{className:"form-textarea",value:Z,onChange:R=>D(R.target.value),placeholder:`0x1234...
0x5678...`,rows:"6"})]})]})]}),c.jsx("button",{type:"submit",className:"btn btn-primary",disabled:on||We,style:{width:"100%",padding:"1rem",fontSize:"1.125rem",marginTop:"1rem"},children:on?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"spinner",style:{width:"20px",height:"20px",borderWidth:"2px",marginRight:"0.5rem"}}),"Creating Launch..."]}):c.jsx(c.Fragment,{children:g==="instant"?" Launch Now":" Schedule Launch"})})]})]}),h?c.jsxs("div",{className:"loading",children:[c.jsx("div",{className:"spinner"}),c.jsx("p",{className:"text-secondary",children:"Loading launches..."})]}):c.jsxs(c.Fragment,{children:[l.length>0&&c.jsxs("div",{style:{marginBottom:"3rem"},children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem"},children:"Current"}),c.jsx("div",{className:"nft-grid",children:l.map(R=>oe(R))})]}),d.length>0&&c.jsxs("div",{children:[c.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"1.5rem"},children:"Past"}),c.jsx("div",{className:"nft-grid",children:d.map(R=>oe(R))})]}),l.length===0&&d.length===0&&!h&&c.jsxs("div",{className:"card text-center",style:{padding:"3rem 2rem"},children:[c.jsx("h3",{style:{marginBottom:"1rem"},children:"No launches available"}),c.jsx("p",{className:"text-secondary mb-2",children:"Be the first to create a launch!"}),c.jsx("p",{className:"text-muted",style:{fontSize:"0.875rem",marginBottom:"1rem"},children:"Open the browser console (F12) to see launch search details."}),c.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[c.jsx("button",{className:"btn btn-primary",onClick:()=>o(!0),style:{marginTop:"1rem"},children:"+ Create Launch"}),c.jsx("button",{className:"btn btn-outline",onClick:()=>Je(),style:{marginTop:"1rem"},children:" Reload"})]})]})]})]})})}function $5(){var re,Ie,Me;const{collectionAddress:t}=FE(),e=tg(),{account:n,signer:r,collectionFactoryContract:i}=xl(),[s,a]=S.useState(null),[o,l]=S.useState(!0),[u,d]=S.useState(!1),[f,h]=S.useState("overview"),[w,b]=S.useState("0"),[v,A]=S.useState("0"),[m,g]=S.useState("5"),[y,k]=S.useState(""),[j,O]=S.useState(""),[B,E]=S.useState(""),[K,_]=S.useState(""),[ee,ye]=S.useState(""),[G,Z]=S.useState(""),[D,z]=S.useState(""),X=async(N,J)=>{try{if(!N[J])return console.log(`Dashboard: Funo ${J} no existe no ABI`),!1;try{const oe=N.interface.getFunction(J);if(oe)return console.log(`Dashboard: Funo ${J} encontrada no ABI:`,oe.format()),!0}catch{return console.log(`Dashboard: Funo ${J} no encontrada no interface`),!1}return!0}catch(oe){return console.log(`Dashboard: Erro ao verificar funo ${J}:`,oe.message),!1}},T=async(N,J)=>{var oe,R,Y,fe;try{return await N.setRoyalty.estimateGas(J,500),!0}catch(te){return(oe=te.message)!=null&&oe.includes("Ownable")||(R=te.message)!=null&&R.includes("caller is not the owner")||(Y=te.message)!=null&&Y.includes("OwnableUnauthorizedAccount")?(console.log("Dashboard: setRoyalty existe mas requer permisso de owner"),!0):te.code==="CALL_EXCEPTION"&&te.data===null?(console.log("Dashboard: setRoyalty no existe neste contrato (CALL_EXCEPTION)"),!1):(fe=te.message)!=null&&fe.includes("Royalty too high")?!0:(console.log("Dashboard: Erro ao testar setRoyalty:",te.message),!1)}},F=S.useCallback(async()=>{if(!t||!r){console.log("Dashboard: Aguardando signer...",{collectionAddress:t,hasSigner:!!r});return}try{l(!0),console.log("Dashboard: Carregando coleo:",t);const N=new At(t,ni,r);let J="Collection",oe="",R="",Y=0,fe=0,te=BigInt(0),Te=!0,q=!0,$=!1,ce=0,de=n,ve=Math.floor(Date.now()/1e3),Ve=!1,Ue=!1,ue=!1;if(i)try{ue=await i.isValidCollection(t),console.log("Dashboard: Coleo do Factory?",ue)}catch(pe){console.log("Dashboard: Erro ao verificar Factory:",pe.message)}try{const pe=await X(N,"setRoyalty");console.log("Dashboard: setRoyalty existe no ABI?",pe),pe?Ue=await T(N,n):Ue=!1,console.log("Dashboard: Contrato suporta setRoyalty?",Ue)}catch(pe){console.log("Dashboard: Erro ao verificar setRoyalty:",pe.message),Ue=!1}let Oe=!1;try{const pe=await N.getCollectionInfo();Oe=!0,J=pe[0],oe=pe[1],R=pe[2],Y=pe[3],fe=pe[4],te=pe[5],Te=pe[6],q=pe[7],$=pe[8],ce=pe[9],de=pe[10],ve=pe[11],console.log("Dashboard:  getCollectionInfo() disponvel")}catch{console.log("Dashboard:  getCollectionInfo() no disponvel")}if(Oe&&Ue)Ve=!1,console.log("Dashboard:  Contrato CollectionNFT completo detectado");else if(Ue){Ve=!1,console.log("Dashboard:  Contrato com suporte a royalty detectado");try{J=await N.collectionName()}catch{}try{de=await N.creator()}catch{}try{Y=await N.maxSupply()}catch{}try{fe=await N.totalSupply()}catch{}try{te=await N.mintPrice()}catch{te=BigInt(0)}try{Te=await N.mintingEnabled()}catch{Te=!0}try{q=await N.publicMintEnabled()}catch{q=!0}try{$=await N.whitelistEnabled()}catch{$=!1}try{ce=await N.maxMintPerWallet()}catch{ce=Number(Y)}}else{Ve=!0,console.log("Dashboard:  Contrato legado detectado (no suporta setRoyalty)");try{J=await N.collectionName()}catch{try{J=await N.name()}catch{}}try{de=await N.creator()}catch{try{de=await N.owner()}catch{de=n}}try{Y=await N.maxSupply()}catch{Y=0}try{fe=await N.totalSupply()}catch{fe=0}te=BigInt(0),Te=!0,q=!1,$=!1,ce=Number(Y)||0}if(oe||(oe=""),R||(R=""),de.toLowerCase()!==n.toLowerCase()){P.error("You are not the creator of this collection"),e("/my-nfts");return}let it={receiver:de,percentage:5};try{const[pe,he]=await N.royaltyInfo(1,dr("1"));it={receiver:pe,percentage:Number(tt(he))*100}}catch{console.log("Dashboard: Royalty info no disponvel (contrato antigo)")}let Dt={total:"0",available:"0",withdrawn:"0"};try{const pe=await N.totalEarnings(),he=await N.availableEarnings(),le=await N.withdrawnEarnings();Dt={total:tt(pe),available:tt(he),withdrawn:tt(le)}}catch{console.log("Dashboard: Earnings no disponvel (contrato antigo)")}let Ct=0;try{Ct=Number(await N.availableURIsCount())}catch{console.log("Dashboard: URIs count no disponvel")}if(!R&&Number(fe)>0)try{const pe=await N.tokenURI(1);let he={};try{he=JSON.parse(pe)}catch{let le=pe;if(pe.startsWith("ipfs://")&&(le=pe.replace("ipfs://","https://gateway.pinata.cloud/ipfs/")),le.startsWith("http")){const ct=await fetch(le);ct.ok&&(he=await ct.json())}}he.image&&(R=he.image)}catch{console.log("Dashboard: No foi possvel obter imagem do NFT")}a({address:t,contract:N,name:J,description:oe,image:R,maxSupply:Number(Y),totalSupply:Number(fe),mintPrice:tt(te),mintingEnabled:Te,publicMintEnabled:q,whitelistEnabled:$,maxMintPerWallet:Number(ce),creator:de,createdAt:Number(ve),royalty:it,earnings:Dt,availableURIs:Ct,isLegacyContract:Ve,supportsRoyalty:Ue}),b(tt(te)),A(Number(ce).toString()),g(it.percentage.toString()),k(oe),O(R),console.log("Dashboard: Coleo carregada com sucesso",{name:J,isLegacyContract:Ve,supportsRoyalty:Ue})}catch(N){console.error("Dashboard: Erro ao carregar coleo:",N),P.error("Error loading collection: "+(N.message||"Unknown error"))}finally{l(!1)}},[t,r,n,e]);S.useEffect(()=>{F()},[F]);const H=async()=>{if(s!=null&&s.contract){if(s.isLegacyContract){P.error("This feature is not available for legacy contracts");return}try{d(!0);const N=await s.contract.setMintPrice(dr(w));P.loading("Updating mint price..."),await N.wait(),P.dismiss(),P.success("Mint price updated!"),F()}catch(N){console.error(N),P.error("Error updating mint price")}finally{d(!1)}}},M=()=>s!=null&&s.isLegacyContract?(P.error("This feature is not available for legacy contracts"),!0):!1,ge=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setMaxMintPerWallet(parseInt(v));P.loading("Updating wallet limit..."),await N.wait(),P.dismiss(),P.success("Wallet limit updated!"),F()}catch(N){console.error(N),P.error("Error updating wallet limit")}finally{d(!1)}},ke=async()=>{var J,oe,R,Y,fe,te,Te,q;if(!(s!=null&&s.contract))return;if(s.isLegacyContract||!s.supportsRoyalty){P.error("This contract does not support royalty updates. Create a new collection via Launchpad to use this feature.");return}const N=parseFloat(m);if(isNaN(N)||N<0||N>10){P.error("Royalty must be between 0% and 10%");return}try{d(!0);const $=Math.round(N*100),ce=s.creator||n;if(!ce){P.error("Creator address not found",{id:"royalty"});return}if(console.log("Dashboard: Atualizando royalty...",{receiver:ce,feeNumerator:$,percent:`${N}%`,collectionAddress:s.address}),!s.contract.setRoyalty){P.error("This contract does not support royalty updates. It may be an older version.",{id:"royalty"});return}P.loading(`Setting royalty to ${N}%...`,{id:"royalty"});try{await s.contract.setRoyalty.estimateGas(ce,$)}catch(ve){if(console.error("Gas estimation failed:",ve),(J=ve.message)!=null&&J.includes("Ownable")||(oe=ve.message)!=null&&oe.includes("caller is not the owner")||ve.code==="CALL_EXCEPTION"){P.error("You are not the owner of this contract. Only the creator can update royalties.",{id:"royalty"});return}if((R=ve.message)!=null&&R.includes("missing revert data")||ve.data===null){P.error("This contract does not support setRoyalty. It may be deployed with an older version.",{id:"royalty"});return}throw ve}const de=await s.contract.setRoyalty(ce,$);P.loading("Waiting for confirmation...",{id:"royalty"}),await de.wait(),P.success(`Royalty updated to ${N}%! Royalties will go to ${ce.substring(0,6)}...${ce.substring(38)}`,{id:"royalty",duration:6e3}),F()}catch($){console.error("Error updating royalty:",$),console.error("Error details:",{message:$.message,reason:$.reason,code:$.code,data:$.data});let ce="Error updating royalty";$.reason?ce=$.reason:$.code==="ACTION_REJECTED"?ce="Transaction was rejected by user":(Y=$.message)!=null&&Y.includes("Royalty too high")?ce="Royalty cannot exceed 10%":(fe=$.message)!=null&&fe.includes("not the owner")||(te=$.message)!=null&&te.includes("Ownable")?ce="Only the collection creator can update royalties":(Te=$.message)!=null&&Te.includes("execution reverted")?ce="Transaction reverted - make sure you are the collection owner":((q=$.message)!=null&&q.includes("missing revert data")||$.code==="CALL_EXCEPTION")&&(ce="This contract does not support this operation. Try creating a new collection."),P.error(ce,{id:"royalty"})}finally{d(!1)}},be=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setCollectionMetadata(y,j);P.loading("Updating metadata..."),await N.wait(),P.dismiss(),P.success("Collection metadata updated!"),F()}catch(N){console.error(N),P.error("Error updating metadata")}finally{d(!1)}},Le=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setMintingEnabled(!s.mintingEnabled);P.loading(s.mintingEnabled?"Disabling minting...":"Enabling minting..."),await N.wait(),P.dismiss(),P.success(s.mintingEnabled?"Minting disabled!":"Minting enabled!"),F()}catch(N){console.error(N),P.error("Error toggling minting")}finally{d(!1)}},Ae=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setPublicMintEnabled(!s.publicMintEnabled);P.loading(s.publicMintEnabled?"Disabling public mint...":"Enabling public mint..."),await N.wait(),P.dismiss(),P.success(s.publicMintEnabled?"Public mint disabled!":"Public mint enabled!"),F()}catch(N){console.error(N),P.error("Error toggling public mint")}finally{d(!1)}},ze=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.setWhitelistEnabled(!s.whitelistEnabled);P.loading(s.whitelistEnabled?"Disabling whitelist...":"Enabling whitelist..."),await N.wait(),P.dismiss(),P.success(s.whitelistEnabled?"Whitelist disabled!":"Whitelist enabled!"),F()}catch(N){console.error(N),P.error("Error toggling whitelist")}finally{d(!1)}},on=async()=>{if(!(!(s!=null&&s.contract)||!B||!ee))try{d(!0);let N;s.isLegacyContract?N=await s.contract.mint(B,ee):N=await s.contract.airdrop(B,ee),P.loading("Processing airdrop..."),await N.wait(),P.dismiss(),P.success("Airdrop sent!"),E(""),ye(""),F()}catch(N){console.error(N),P.error("Error sending airdrop: "+(N.reason||N.message))}finally{d(!1)}},He=async()=>{if(!(!(s!=null&&s.contract)||!K||!ee))try{d(!0);const N=K.split(`
`).map(J=>J.trim()).filter(J=>J);if(s.isLegacyContract){P.loading(`Processing airdrop to ${N.length} addresses...`);for(const J of N)await(await s.contract.mint(J,ee)).wait()}else{const J=await s.contract.airdropSameURI(N,ee);P.loading(`Processing airdrop to ${N.length} addresses...`),await J.wait()}P.dismiss(),P.success(`Airdrop sent to ${N.length} addresses!`),_(""),ye(""),F()}catch(N){console.error(N),P.error("Error sending batch airdrop: "+(N.reason||N.message))}finally{d(!1)}},We=async()=>{if(!(!(s!=null&&s.contract)||!G||M()))try{d(!0);const N=await s.contract.addToWhitelist(G);P.loading("Adding to whitelist..."),await N.wait(),P.dismiss(),P.success("Address added to whitelist!"),Z("")}catch(N){console.error(N),P.error("Error adding to whitelist")}finally{d(!1)}},Ge=async()=>{if(!(!(s!=null&&s.contract)||!D||M()))try{d(!0);const N=D.split(`
`).map(oe=>oe.trim()).filter(oe=>oe),J=await s.contract.addToWhitelistBatch(N);P.loading(`Adding ${N.length} addresses to whitelist...`),await J.wait(),P.dismiss(),P.success(`${N.length} addresses added to whitelist!`),z("")}catch(N){console.error(N),P.error("Error adding batch to whitelist")}finally{d(!1)}},Je=async()=>{if(!(!(s!=null&&s.contract)||M()))try{d(!0);const N=await s.contract.withdrawEarnings();P.loading("Withdrawing earnings..."),await N.wait(),P.dismiss(),P.success("Earnings withdrawn!"),F()}catch(N){console.error(N),P.error("Error withdrawing earnings")}finally{d(!1)}};if(o)return c.jsx("div",{className:"container",style:{padding:"4rem 1rem"},children:c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),c.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading collection..."})]})})});if(!s)return c.jsx("div",{className:"container",style:{padding:"4rem 1rem"},children:c.jsxs("div",{style:{textAlign:"center"},children:[c.jsx("h2",{children:"Collection not found"}),c.jsx(Gn,{to:"/my-nfts",className:"btn btn-primary",style:{marginTop:"1rem"},children:"Back to My NFTs"})]})});const U=[{id:"overview",label:"Overview",icon:""},{id:"minting",label:"Mint Settings",icon:""},{id:"earnings",label:"Earnings",icon:""},{id:"airdrop",label:"Airdrop",icon:""},{id:"whitelist",label:"Whitelist",icon:""},{id:"metadata",label:"Metadata",icon:""}];return c.jsxs("div",{className:"container",style:{padding:"2rem 1rem",maxWidth:"1200px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[c.jsx(Gn,{to:"/my-nfts",style:{color:"var(--text-secondary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:" Back"}),c.jsx("h1",{style:{margin:0,fontSize:"1.75rem"},children:s.name}),c.jsx("span",{style:{background:s.mintingEnabled?"rgba(46, 204, 113, 0.2)":"rgba(231, 76, 60, 0.2)",color:s.mintingEnabled?"#2ecc71":"#e74c3c",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:s.mintingEnabled?"Minting Active":"Minting Paused"}),s.isLegacyContract&&c.jsx("span",{style:{background:"rgba(241, 196, 15, 0.2)",color:"#f1c40f",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:" Legacy Contract"})]}),s.isLegacyContract&&c.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(241, 196, 15, 0.1), rgba(241, 196, 15, 0.05))",border:"1px solid rgba(241, 196, 15, 0.3)",borderRadius:"12px",padding:"1rem 1.5rem",marginBottom:"2rem",display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsxs("div",{children:[c.jsx("strong",{style:{color:"#f1c40f"},children:"Legacy Contract"}),c.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:"Esta coleo usa um contrato antigo. Algumas funcionalidades como royalties, airdrop, whitelist e earnings podem no estar disponveis. Para ter acesso completo ao Dashboard, crie uma nova coleo aps o deploy do contrato atualizado."})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[c.jsx(As,{title:"Total Supply",value:`${s.totalSupply} / ${s.maxSupply}`,icon:""}),c.jsx(As,{title:"Mint Price",value:`${s.mintPrice} ETH`,icon:""}),c.jsx(As,{title:"Royalty",value:`${s.royalty.percentage}%`,icon:""}),c.jsx(As,{title:"Earnings",value:`${s.earnings.total} ETH`,icon:""})]}),c.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",flexWrap:"wrap",borderBottom:"1px solid var(--border)",paddingBottom:"1rem"},children:U.map(N=>c.jsxs("button",{onClick:()=>h(N.id),style:{padding:"0.75rem 1.25rem",background:f===N.id?"var(--primary)":"var(--surface)",color:f===N.id?"white":"var(--text)",border:"1px solid var(--border)",borderRadius:"8px",cursor:"pointer",fontWeight:"500",display:"flex",alignItems:"center",gap:"0.5rem",transition:"all 0.2s"},children:[c.jsx("span",{children:N.icon}),c.jsx("span",{children:N.label})]},N.id))}),c.jsxs("div",{style:{background:"var(--surface)",borderRadius:"12px",padding:"2rem",border:"1px solid var(--border)"},children:[f==="overview"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Overview"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Collection Address"}),c.jsx("code",{style:{fontSize:"0.875rem",background:"var(--surface-alt)",padding:"0.5rem",borderRadius:"6px",display:"block",wordBreak:"break-all"},children:s.address})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Creator"}),c.jsx("code",{style:{fontSize:"0.875rem",background:"var(--surface-alt)",padding:"0.5rem",borderRadius:"6px",display:"block",wordBreak:"break-all"},children:s.creator})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Created At"}),c.jsx("p",{style:{margin:0},children:new Date(s.createdAt*1e3).toLocaleString()})]}),c.jsxs("div",{children:[c.jsx("h3",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:"Status"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx(bp,{active:s.mintingEnabled,label:"Minting"}),c.jsx(bp,{active:s.publicMintEnabled,label:"Public Mint"}),c.jsx(bp,{active:s.whitelistEnabled,label:"Whitelist"})]})]})]})]}),f==="minting"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Mint Settings"}),s.isLegacyContract&&c.jsx("div",{style:{background:"linear-gradient(135deg, rgba(241, 196, 15, 0.1), rgba(241, 196, 15, 0.05))",border:"1px solid rgba(241, 196, 15, 0.3)",borderRadius:"12px",padding:"1rem",marginBottom:"1.5rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:" Some features are disabled because this is a legacy contract. Create a new collection via Launchpad to access all features."}),c.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[c.jsx(Ra,{title:"Minting Status",description:"Enable or disable all minting functionality",children:c.jsx("button",{onClick:Le,disabled:u||s.isLegacyContract,className:`btn ${s.mintingEnabled?"btn-secondary":"btn-primary"}`,style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:s.mintingEnabled?"Disable Minting":"Enable Minting"})}),c.jsx(Ra,{title:"Public Mint",description:"Allow anyone to mint (if minting is enabled)",children:c.jsx("button",{onClick:Ae,disabled:u||s.isLegacyContract,className:`btn ${s.publicMintEnabled?"btn-secondary":"btn-primary"}`,style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:s.publicMintEnabled?"Disable Public Mint":"Enable Public Mint"})}),c.jsx(Ra,{title:"Mint Price",description:"Price per NFT in ETH",children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{type:"number",step:"0.001",value:w,onChange:N=>b(N.target.value),disabled:s.isLegacyContract,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"150px",opacity:s.isLegacyContract?.5:1}}),c.jsx("button",{onClick:H,disabled:u||s.isLegacyContract,className:"btn btn-primary",style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:"Update"})]})}),c.jsx(Ra,{title:"Max Mint Per Wallet",description:"Maximum NFTs a single wallet can mint",children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{type:"number",value:v,onChange:N=>A(N.target.value),disabled:s.isLegacyContract,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"150px",opacity:s.isLegacyContract?.5:1}}),c.jsx("button",{onClick:ge,disabled:u||s.isLegacyContract,className:"btn btn-primary",style:s.isLegacyContract?{opacity:.5,cursor:"not-allowed"}:{},title:s.isLegacyContract?"Not available for legacy contracts":"",children:"Update"})]})}),c.jsx(Ra,{title:"Royalty Percentage",description:s.supportsRoyalty?"Percentage of secondary sales (max 10%) - You receive this on every resale!":"This contract does not support royalty updates. Create a new collection to use this feature.",children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{type:"number",step:"0.1",min:"0",max:"10",value:m,onChange:N=>g(N.target.value),disabled:!s.supportsRoyalty,style:{padding:"0.75rem",paddingRight:"2rem",borderRadius:"8px",border:s.supportsRoyalty?"1px solid var(--accent-gold)":"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"120px",opacity:s.supportsRoyalty?1:.5}}),c.jsx("span",{style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)",fontSize:"0.875rem"},children:"%"})]}),c.jsx("button",{onClick:ke,disabled:u||!s.supportsRoyalty,className:"btn btn-primary",style:s.supportsRoyalty?{background:"linear-gradient(135deg, var(--primary), var(--accent-gold))"}:{opacity:.5,cursor:"not-allowed"},title:s.supportsRoyalty?"Update royalty percentage":"This contract does not support royalty updates",children:s.supportsRoyalty?" Set Royalty":" Locked"})]})}),s.supportsRoyalty&&c.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(59, 130, 246, 0.05))",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"12px",padding:"1.25rem",display:"flex",alignItems:"flex-start",gap:"1rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),c.jsxs("div",{children:[c.jsx("h4",{style:{margin:"0 0 0.5rem",color:"var(--accent-gold)"},children:"About Royalties"}),c.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"Royalties are automatically paid when NFTs from this collection are resold on marketplaces that support ERC-2981."}),c.jsxs("div",{style:{display:"flex",gap:"1.5rem",flexWrap:"wrap",marginTop:"0.75rem",padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Current Royalty"}),c.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"700",color:"var(--accent-gold)"},children:[((re=s.royalty)==null?void 0:re.percentage)||5,"%"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.25rem"},children:"Royalties go to (Creator)"}),c.jsxs("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"var(--text)",fontFamily:"monospace",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--accent-gold)",display:"inline-block"}}),(Ie=s.creator)==null?void 0:Ie.substring(0,6),"...",(Me=s.creator)==null?void 0:Me.substring(38)]})]})]})]})]})]})]}),f==="earnings"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Earnings"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[c.jsx(As,{title:"Total Earned",value:`${s.earnings.total} ETH`,icon:""}),c.jsx(As,{title:"Withdrawn",value:`${s.earnings.withdrawn} ETH`,icon:""}),c.jsx(As,{title:"Available",value:`${s.earnings.available} ETH`,icon:"",highlight:!0})]}),c.jsxs("button",{onClick:Je,disabled:u||parseFloat(s.earnings.available)===0,className:"btn btn-primary",style:{fontSize:"1rem",padding:"1rem 2rem"},children:["Withdraw ",s.earnings.available," ETH"]})]}),f==="airdrop"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Airdrop"}),c.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Single Airdrop"}),c.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Send a single NFT to an address"}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsx("input",{type:"text",placeholder:"Recipient address (0x...)",value:B,onChange:N=>E(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%"}}),c.jsx("input",{type:"text",placeholder:"Token URI (ipfs://... or https://...)",value:ee,onChange:N=>ye(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%"}}),c.jsx("button",{onClick:on,disabled:u||!B||!ee,className:"btn btn-primary",children:"Send Airdrop"})]})]}),c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Batch Airdrop"}),c.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Send the same NFT to multiple addresses"}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsx("textarea",{placeholder:"Enter addresses (one per line)",value:K,onChange:N=>_(N.target.value),rows:5,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%",resize:"vertical"}}),c.jsx("input",{type:"text",placeholder:"Token URI for all (ipfs://... or https://...)",value:ee,onChange:N=>ye(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%"}}),c.jsxs("button",{onClick:He,disabled:u||!K||!ee,className:"btn btn-primary",children:["Send Batch Airdrop (",K.split(`
`).filter(N=>N.trim()).length," addresses)"]})]})]})]})]}),f==="whitelist"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Whitelist"}),c.jsx(Ra,{title:"Whitelist Status",description:"When enabled, only whitelisted addresses can mint",children:c.jsx("button",{onClick:ze,disabled:u,className:`btn ${s.whitelistEnabled?"btn-secondary":"btn-primary"}`,children:s.whitelistEnabled?"Disable Whitelist":"Enable Whitelist"})}),c.jsxs("div",{style:{marginTop:"2rem",display:"grid",gap:"2rem"},children:[c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Add Single Address"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{type:"text",placeholder:"Address (0x...)",value:G,onChange:N=>Z(N.target.value),style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",flex:1}}),c.jsx("button",{onClick:We,disabled:u||!G,className:"btn btn-primary",children:"Add"})]})]}),c.jsxs("div",{style:{background:"var(--surface-alt)",padding:"1.5rem",borderRadius:"12px",border:"1px solid var(--border)"},children:[c.jsx("h3",{style:{marginTop:0},children:"Add Multiple Addresses"}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsx("textarea",{placeholder:"Enter addresses (one per line)",value:D,onChange:N=>z(N.target.value),rows:5,style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",width:"100%",resize:"vertical"}}),c.jsxs("button",{onClick:Ge,disabled:u||!D,className:"btn btn-primary",children:["Add ",D.split(`
`).filter(N=>N.trim()).length," Addresses"]})]})]})]})]}),f==="metadata"&&c.jsxs("div",{children:[c.jsx("h2",{style:{marginTop:0,marginBottom:"1.5rem"},children:" Collection Metadata"}),c.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Description"}),c.jsx("textarea",{value:y,onChange:N=>k(N.target.value),rows:4,placeholder:"Enter collection description...",style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"100%",resize:"vertical"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Collection Image URL"}),c.jsx("input",{type:"text",value:j,onChange:N=>O(N.target.value),placeholder:"ipfs://... or https://...",style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface-alt)",color:"var(--text)",width:"100%"}})]}),j&&c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Preview"}),c.jsx("img",{src:j.replace("ipfs://","https://gateway.pinata.cloud/ipfs/"),alt:"Collection preview",style:{maxWidth:"200px",borderRadius:"12px",border:"1px solid var(--border)"},onError:N=>N.target.style.display="none"})]}),c.jsx("button",{onClick:be,disabled:u,className:"btn btn-primary",style:{width:"fit-content"},children:"Update Metadata"})]})]})]})]})}function As({title:t,value:e,icon:n,highlight:r}){return c.jsxs("div",{style:{background:r?"linear-gradient(135deg, var(--primary), var(--accent-gold))":"var(--surface)",padding:"1.25rem",borderRadius:"12px",border:r?"none":"1px solid var(--border)"},children:[c.jsx("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:n}),c.jsx("div",{style:{fontSize:"0.75rem",color:r?"rgba(255,255,255,0.8)":"var(--text-secondary)",marginBottom:"0.25rem"},children:t}),c.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"700",color:r?"white":"var(--text)"},children:e})]})}function bp({active:t,label:e}){return c.jsxs("span",{style:{background:t?"rgba(46, 204, 113, 0.2)":"rgba(231, 76, 60, 0.2)",color:t?"#2ecc71":"#e74c3c",padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.75rem",fontWeight:"600"},children:[t?"":""," ",e]})}function Ra({title:t,description:e,children:n}){return c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("h3",{style:{margin:0,fontSize:"1rem"},children:t}),c.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.875rem",color:"var(--text-secondary)"},children:e})]}),n]})}function K5(){const t=$c(),{account:e,connectWallet:n,disconnect:r,isCorrectNetwork:i,checkNetworkInfo:s,provider:a}=xl(),[o,l]=S.useState(!1),[u,d]=S.useState(null),[f,h]=S.useState(null),[w,b]=S.useState(!1),[v,A]=S.useState(!1),[m,g]=S.useState(()=>{const E=localStorage.getItem("theme");return E||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")}),y=E=>E?`${E.slice(0,6)}...${E.slice(-4)}`:"",k=async()=>{const E=await s();E&&(d(E),l(!0),A(!1))},j=()=>{A(!v)},O=()=>{r(),A(!1)};S.useEffect(()=>{document.documentElement.setAttribute("data-theme",m),localStorage.setItem("theme",m)},[m]);const B=()=>{g(E=>E==="light"?"dark":"light")};return S.useEffect(()=>{if(!e||!a){h(null);return}const E=async()=>{try{b(!0);const _=await a.getBalance(e),ee=tt(_);h(parseFloat(ee))}catch(_){console.error("Error fetching balance:",_),h(null)}finally{b(!1)}};E();const K=setInterval(()=>{E()},1e4);return()=>clearInterval(K)},[e,a]),S.useEffect(()=>{const E=K=>{v&&!K.target.closest("[data-account-menu]")&&A(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[v]),c.jsxs("header",{className:"header",children:[c.jsx("div",{className:"container",children:c.jsxs("div",{className:"header-content",children:[c.jsxs(Gn,{to:"/",className:"header-logo",style:{textDecoration:"none",display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsx(Nb,{size:52,animate:!0}),c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.125rem"},children:[c.jsx("div",{className:"logo",style:{fontSize:"1.75rem",fontWeight:"800",letterSpacing:"0.15em",lineHeight:"1.2"},children:"GENESIS"}),c.jsx("span",{style:{fontSize:"0.625rem",fontWeight:"700",letterSpacing:"0.1em",textTransform:"uppercase",background:"linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(96, 165, 250, 0.2))",border:"1px solid rgba(59, 130, 246, 0.4)",color:"var(--accent-gold)",padding:"0.25rem 0.5rem",borderRadius:"4px",display:"inline-block",lineHeight:"1"},children:"Pre-alpha"})]}),c.jsx("div",{style:{fontSize:"0.625rem",letterSpacing:"0.2em",color:"var(--accent-gold)",textTransform:"uppercase",fontWeight:"600",opacity:.9},children:"Launch on Genesis"})]})]}),c.jsxs("nav",{className:"nav",children:[c.jsx(Gn,{to:"/collections",className:`nav-link ${t.pathname==="/collections"||t.pathname==="/"?"active":""}`,children:"Collections"}),c.jsx(Gn,{to:"/launchpad",className:`nav-link ${t.pathname==="/launchpad"?"active":""}`,children:"Launchpad"}),c.jsx(Gn,{to:"/my-nfts",className:`nav-link ${t.pathname==="/my-nfts"?"active":""}`,children:"My NFTs"})]}),c.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"0.75rem",alignItems:"center",marginLeft:"auto"},children:[c.jsx("button",{className:"btn btn-outline",onClick:B,style:{padding:"0.625rem",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"44px",height:"44px",borderRadius:"12px",background:"var(--surface)",border:"1px solid var(--border)"},title:m==="light"?"Switch to dark mode":"Switch to light mode",children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m==="light"?c.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}):c.jsxs(c.Fragment,{children:[c.jsx("circle",{cx:"12",cy:"12",r:"5"}),c.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),c.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),c.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),c.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),c.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),c.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),c.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),c.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})})}),!i&&e&&c.jsx("span",{className:"badge badge-error",style:{fontSize:"0.75rem"},children:"Wrong Network"}),e&&f!==null&&c.jsxs("div",{style:{padding:"0.625rem 1rem",fontSize:"0.875rem",display:"flex",alignItems:"center",gap:"0.625rem",fontWeight:"600",whiteSpace:"nowrap",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"8px",color:"var(--text)"},children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"var(--accent-gold)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),c.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),w?c.jsx("span",{style:{opacity:.7},children:"..."}):c.jsxs("span",{children:[f.toFixed(4)," USDC"]})]}),e?c.jsxs("div",{style:{position:"relative"},"data-account-menu":!0,children:[c.jsxs("button",{className:"btn btn-secondary",onClick:j,style:{display:"flex",alignItems:"center",gap:"0.625rem",padding:"0.625rem 1.125rem",fontWeight:"600",position:"relative",overflow:"visible"},children:[c.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"var(--accent-gold)",boxShadow:"0 0 10px rgba(59, 130, 246, 0.6)",flexShrink:0}}),c.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.875rem"},children:y(e)}),c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{transform:v?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:c.jsx("polyline",{points:"6 9 12 15 18 9"})})]}),v&&c.jsxs("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"0.5rem",minWidth:"200px",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",zIndex:1e3,overflow:"hidden",animation:"slideDown 0.2s ease-out"},children:[c.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",transition:"background 0.2s",borderBottom:"1px solid var(--border)"},onClick:k,onMouseEnter:E=>E.currentTarget.style.background="var(--surface-alt)",onMouseLeave:E=>E.currentTarget.style.background="transparent",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),c.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:"Network Info"})]}),c.jsxs("div",{style:{padding:"0.75rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.75rem",transition:"background 0.2s",color:"var(--error)"},onClick:O,onMouseEnter:E=>E.currentTarget.style.background="var(--surface-alt)",onMouseLeave:E=>E.currentTarget.style.background="transparent",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),c.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500"},children:"Disconnect"})]})]})]}):c.jsx("button",{className:"btn btn-primary",onClick:n,style:{padding:"0.625rem 1.25rem",fontWeight:"600",fontSize:"0.9375rem",letterSpacing:"0.05em"},children:"Connect Wallet"})]})]})}),o&&u&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",animation:"fadeIn 0.2s ease-out",overflow:"auto",padding:"1rem"},onClick:()=>l(!1),children:c.jsxs("div",{style:{maxWidth:"540px",width:"100%",maxHeight:"90vh",padding:"0",background:"var(--surface)",borderRadius:"20px",border:"1px solid var(--border)",position:"relative",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",overflow:"auto",animation:"slideUp 0.3s ease-out",margin:"auto"},onClick:E=>E.stopPropagation(),children:[c.jsxs("div",{style:{background:u.isCorrect?"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05))":"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05))",padding:"1.75rem 2rem",borderBottom:`1px solid ${u.isCorrect?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)"}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.875rem"},children:[c.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:u.isCorrect?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:u.isCorrect?"#22c55e":"#ef4444",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),c.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})}),c.jsxs("div",{children:[c.jsx("h2",{style:{margin:0,fontSize:"1.375rem",fontWeight:"700",color:"var(--text)"},children:"Network Status"}),c.jsx("div",{style:{marginTop:"0.25rem",fontSize:"0.8125rem",color:"var(--text-secondary)"},children:u.isCorrect?"Connected":"Disconnected"})]})]}),c.jsx("button",{onClick:()=>l(!1),style:{background:"transparent",border:"none",color:"var(--text-secondary)",fontSize:"1.5rem",cursor:"pointer",padding:"0.5rem",lineHeight:1,borderRadius:"8px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"36px",height:"36px"},onMouseEnter:E=>{E.currentTarget.style.background="var(--surface-alt)",E.currentTarget.style.color="var(--text)"},onMouseLeave:E=>{E.currentTarget.style.background="transparent",E.currentTarget.style.color="var(--text-secondary)"},children:""})]}),c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("div",{style:{marginBottom:"2rem",padding:"1rem 1.25rem",borderRadius:"12px",background:u.isCorrect?"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05))":"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05))",border:`1px solid ${u.isCorrect?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)"}`,display:"flex",alignItems:"center",gap:"0.75rem"},children:[c.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",background:u.isCorrect?"#22c55e":"#ef4444",boxShadow:`0 0 12px ${u.isCorrect?"rgba(34, 197, 94, 0.5)":"rgba(239, 68, 68, 0.5)"}`,animation:"pulse 2s infinite"}}),c.jsxs("div",{style:{flex:1},children:[c.jsx("div",{style:{fontSize:"0.9375rem",fontWeight:"600",color:u.isCorrect?"#22c55e":"#ef4444",marginBottom:"0.25rem"},children:u.isCorrect?"Correct Network":"Wrong Network"}),c.jsx("div",{style:{fontSize:"0.8125rem",color:"var(--text-secondary)"},children:u.isCorrect?`Connected to ${u.expectedName}`:`Recommended: ${u.expectedName}`})]})]}),c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",transition:"all 0.2s"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Network Name"}),c.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"700",color:"var(--text)",display:"flex",alignItems:"center",gap:"0.5rem"},children:u.name})]}),c.jsxs("div",{style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",transition:"all 0.2s"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Chain ID"}),c.jsxs("div",{style:{fontSize:"1.125rem",fontFamily:"monospace",fontWeight:"700",color:"var(--accent-gold)"},children:[u.chainId,c.jsxs("span",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginLeft:"0.5rem",fontWeight:"500"},children:["(",u.chainIdHex,")"]})]})]}),c.jsxs("div",{style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",transition:"all 0.2s"},children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Native Currency"}),c.jsxs("div",{style:{fontSize:"1.125rem",fontWeight:"700",color:"var(--text)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("span",{style:{fontSize:"1.5rem"},children:""}),u.currencySymbol]})]}),u.blockExplorer&&c.jsxs("a",{href:u.blockExplorer,target:"_blank",rel:"noopener noreferrer",style:{padding:"1.25rem",background:"var(--surface-alt)",borderRadius:"12px",border:"1px solid var(--border)",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s",cursor:"pointer"},onMouseEnter:E=>{E.currentTarget.style.borderColor="var(--accent-gold)",E.currentTarget.style.background="rgba(59, 130, 246, 0.05)",E.currentTarget.style.transform="translateX(4px)"},onMouseLeave:E=>{E.currentTarget.style.borderColor="var(--border)",E.currentTarget.style.background="var(--surface-alt)",E.currentTarget.style.transform="translateX(0)"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"0.5rem",textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:"600"},children:"Block Explorer"}),c.jsx("div",{style:{fontSize:"1rem",color:"var(--accent-gold)",fontWeight:"600"},children:"View on Arcscan"})]}),c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"var(--accent-gold)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),c.jsx("polyline",{points:"15 3 21 3 21 9"}),c.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]})]})]})]})]})})]})}function J5(){return c.jsx(sC,{children:c.jsxs("div",{className:"app",children:[c.jsx(K5,{}),c.jsx("main",{children:c.jsxs(XE,{children:[c.jsx(ja,{path:"/",element:c.jsx(z5,{})}),c.jsx(ja,{path:"/collections",element:c.jsx(H5,{})}),c.jsx(ja,{path:"/launchpad",element:c.jsx(Q5,{})}),c.jsx(ja,{path:"/my-nfts",element:c.jsx(W5,{})}),c.jsx(ja,{path:"/dashboard/:collectionAddress",element:c.jsx($5,{})})]})}),c.jsx("footer",{style:{background:"var(--surface)",borderTop:"1px solid var(--border)",padding:"2rem 0",marginTop:"4rem"},children:c.jsx("div",{className:"container",children:c.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"var(--text-secondary)"},children:[c.jsx("span",{children:"Follow us:"}),c.jsxs("a",{href:"https://twitter.com/younglubz",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--accent-gold)",textDecoration:"none",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.5rem",transition:"opacity 0.2s"},onMouseEnter:t=>t.currentTarget.style.opacity="0.8",onMouseLeave:t=>t.currentTarget.style.opacity="1",children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",style:{opacity:.9},children:c.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})}),"@younglubz"]})]})})}),c.jsx(YC,{position:"bottom-right",toastOptions:{style:{background:"var(--surface)",color:"var(--text)",border:"1px solid var(--border)"}}})]})})}function Y5(){return c.jsx(_5,{children:c.jsx(J5,{})})}Ap.createRoot(document.getElementById("root")).render(c.jsx(pw.StrictMode,{children:c.jsx(Y5,{})}));
